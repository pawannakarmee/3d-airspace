(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}})();const Mt="modulepreload",Tt=function(o,t){return new URL(o,t).href},qe={},_e=function(t,e,i){let r=Promise.resolve();if(e&&e.length>0){let u=function(O){return Promise.all(O.map(N=>Promise.resolve(N).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};const s=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),A=l?.nonce||l?.getAttribute("nonce");r=u(e.map(O=>{if(O=Tt(O,i),O in qe)return;qe[O]=!0;const N=O.endsWith(".css"),E=N?'[rel="stylesheet"]':"";if(i)for(let T=s.length-1;T>=0;T--){const g=s[T];if(g.href===O&&(!N||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${O}"]${E}`))return;const h=document.createElement("link");if(h.rel=N?"stylesheet":Mt,N||(h.as="script"),h.crossOrigin="",h.href=O,A&&h.setAttribute("nonce",A),document.head.appendChild(h),N)return new Promise((T,g)=>{h.addEventListener("load",T),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${O}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return r.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},c={mode:"2d",zScale:3,layers:{mapLayersMaster:!0,baseMap:!1,airspace:!0,sectors:!0,airways:!0,runways:!0,fixes:!0,fixNames:!0,holdings:!1,freq:!1,awyLabels:!1,sectorColors:!1,sectorBorders:!1,sectorOpacity:.2},layers3d:{imagery:"osm",terrain:!0,lighting:!1,fog:!1},selectedSectorCodes:new Set,routeFilter:"All",selectedRouteKey:null,route3dConstraint:null,currentRouteFirstFix:null};function v(o){if(o==null)return null;if(typeof o=="number"&&Number.isFinite(o))return o;const t=String(o).trim();if(!t)return null;if(/^[+-]?\d+(\.\d+)?$/.test(t)){const f=parseFloat(t);return Number.isFinite(f)?f:null}let e="",i=t.toUpperCase();const r=i.match(/^([NSEW])\s*(.+)$/);if(r)e=r[1],i=r[2].trim();else{const f=i.match(/^(.+?)\s*([NSEW])$/);f&&(i=f[1].trim(),e=f[2])}const s=i.replace(/[^\d.]/g,"").split("."),l=s[0]||"",A=s[1]||"";if(l.length<6)return null;const O=l.length>=7?3:2,N=l.slice(0,O),E=l.slice(O,O+2),h=l.slice(O+2,O+4);if(N.length!==O||E.length!==2||h.length!==2)return null;let T=parseInt(N,10),g=parseInt(E,10),p=parseFloat(h+(A?"."+A:""));if(![T,g,p].every(f=>Number.isFinite(f))||(p>=60&&(g+=Math.floor(p/60),p=p%60),g>=60&&(T+=Math.floor(g/60),g=g%60),g<0||g>=60||p<0||p>=60))return null;let M=T+g/60+p/3600;if((e==="S"||e==="W")&&(M=-M),e==="N"||e==="S"){if(Math.abs(M)>90)return null}else if((e==="E"||e==="W")&&Math.abs(M)>180)return null;return M}function ve(o){if(o==null)return null;if(typeof o=="object"&&!Array.isArray(o)){const t=o.lat??o.latitude,e=o.lon??o.lng??o.longitude,i=v(t),r=v(e);return i==null||r==null?null:[i,r]}if(Array.isArray(o)&&o.length>=2){const t=v(o[0]),e=v(o[1]);return t==null||e==null?null:Math.abs(t)>90&&Math.abs(e)<=90?[e,t]:[t,e]}return null}function Xe({lat:o,lon:t,inboundHeadingDeg:e,legLengthNm:i=10,turn:r="Right",turnRadiusNm:a=2,arcSteps:s=20}){if(!Number.isFinite(o)||!Number.isFinite(t)||!Number.isFinite(e))return null;const l=1/60,A=(U,C)=>U/(60*Math.cos(C*Math.PI/180)),u=(e+180)%360,O=u*Math.PI/180,N=String(r).toLowerCase()==="right",E=N?1:-1,h=(U,C,F,I,D)=>{const K=[],x=Math.PI/s*I;for(let _=0;_<=s;_++){const H=F+_*x,W=Math.sin(H)*D,J=Math.cos(H)*D,z=U+J*l,j=C+A(W,U);K.push({lat:z,lon:j})}return K},T=N?90:-90,p=(e+T)*Math.PI/180,M=Math.cos(p)*a,f=Math.sin(p)*a,S=o+M*l,w=t+A(f,o),R=p+Math.PI,V=h(S,w,R,E,a),G=V[V.length-1],X=Math.cos(O)*i,k=Math.sin(O)*i,q=G.lat+X*l,Z=G.lon+A(k,G.lat),oe={lat:q,lon:Z},ne=(u+T)*Math.PI/180,fe=Math.cos(ne)*a,Oe=Math.sin(ne)*a,Me=oe.lat+fe*l,ae=oe.lon+A(Oe,oe.lat),Se=ne+Math.PI,n=h(Me,ae,Se,E,a),d=[...V,oe,...n.slice(1),{lat:o,lon:t}],m={lat:(G.lat+oe.lat)/2,lon:(G.lon+oe.lon)/2},P=n[n.length-1],b={lat:(P.lat+o)/2,lon:(P.lon+t)/2};return{fix:{lat:o,lon:t},inboundHeadingDeg:e,outboundHeadingDeg:u,turn:N?"Right":"Left",legLengthNm:i,turnRadiusNm:a,path:d,midOutbound:m,midInbound:b}}function be(o){const t=String(o||"").trim().toUpperCase();if(!t)return null;if(t==="GND"||t==="SFC"||t==="SURFACE")return 0;if(t.startsWith("A")&&/^\d+$/.test(t.slice(1))||t.startsWith("F")&&/^\d+$/.test(t.slice(1)))return parseInt(t.slice(1),10)*100;if(t.startsWith("FL")&&/^\d+$/.test(t.slice(2)))return parseInt(t.slice(2),10)*100;const e=t.match(/^(\d+)\s*(FT)?$/);return e?parseInt(e[1],10):null}function Ke(o){return(Number(o)||0)*.3048}function Ze(o,t){const e=be(o),i=be(t);if(e==null||i==null)return null;const r=Ke(e),a=Ke(i),s=Math.max(0,Math.min(r,a)),l=Math.max(s+1,Math.max(r,a));return{floorM:s,ceilM:l,midM:(s+l)/2}}const ke=Object.freeze(Object.defineProperty({__proto__:null,computeHoldingRacetrack:Xe,convertDMSToDecimal:v,coordToLatLon:ve,feetToMeters:Ke,parseAltTokenToFeet:be,parseFloorCeilingToMeters:Ze},Symbol.toStringTag,{value:"Module"})),Te=[["262100N","0560600E"],["253600N","0561300E"],["250000N","0563500E"],["240000N","0553500E"],["224200N","0551200E"],["223556N","0551544E"],["225600N","0523501E"],["240300N","0514700E"],["254900N","0530600E"],["260400N","0535700E"],["253800N","0552000E"],["262100N","0560600E"]],gt=[["252629.4279N","0524901.1237E"],["251727.2300N","0531010.5921E"],["251028.0206N","0532257.8798E"],["245849.4608N","0534229.3001E"],["250412.9847N","0535018.1858E"],["245723.3151N","0540231.4151E"],["245234.9377N","0540545.5866E"],["245033.3087N","0541052.3203E"],["250339.4072N","0544513.1108E"],["244618.3182N","0552117.0064E"],["244334.4990N","0551013.7592E"],["243913.4400N","0545229.7502E"],["242300.0058N","0541138.5536E"],["242716.7810N","0535734.9107E"],["243600.0000N","0531800.0000E"],["244600.0000N","0523759.9999E"],["244600.0000N","0522959.9999E"],["244744.3023N","0522002.9275E"],["251037.0000N","0523706.9999E"],["252629.4279N","0524901.1237E"]],pt=[["242716.7810N","0535734.9107E"],["243600.0000N","0531800.0000E"],["244600.0000N","0523759.9999E"],["244600.0000N","0522959.9999E"],["244744.3023N","0522002.9275E"],["240300.0000N","0514659.9997E"],["225600.0000N","0523500.0000E"],["223556.5997N","0551544.6472E"],["224200.0000N","0551200.0000E"],["234428.0000N","0553023.0000E"],["234730.0000N","0552312.0000E"],["240000.0000N","0550000.0000E"],["241035.8675N","0544416.6401E"],["241520.9775N","0543711.8410E"],["241930.0000N","0543100.0000E"],["241805.0000N","0542246.0000E"],["242300.0058N","0541138.5536E"],["242716.7810N","0535734.9107E"]],Dt=[["244618.3182N","0552117.0064E"],["244334.4990N","0551013.7592E"],["243913.4400N","0545229.7502E"],["242300.0058N","0541138.5536E"],["241805.0000N","0542246.0000E"],["241930.0000N","0543100.0000E"],["241520.9775N","0543711.8410E"],["241035.8675N","0544416.6401E"],["240000.0000N","0550000.0000E"],["234730.0000N","0552312.0000E"],["234428.0000N","0553023.0000E"],["240000.0000N","0553500.0000E"],["242638.0000N","0560135.0000E"],["244618.3182N","0552117.0064E"]],mt=[["251727.2300N","0531010.5921E"],["251028.0206N","0532257.8798E"],["244707.3259N","0540157.3156E"],["243848.6795N","0542254.4400E"],["242300.0058N","0541138.5536E"],["242716.7810N","0535734.9107E"],["243600.0000N","0531800.0000E"],["243820.9309N","0530840.8314E"],["245649.9309N","0531415.2342E"],["250230.4394N","0530516.3033E"],["251037.0000N","0523706.9999E"],["251727.2300N","0531010.5921E"]],Rt=[["242638.0000N","0560135.0000E"],["240000.0000N","0553500.0000E"],["230227.0000N","0551800.0000E"],["230318.0000N","0551327.0000E"],["234730.0000N","0552312.0000E"],["240000.0000N","0550000.0000E"],["241035.8675N","0544416.6401E"],["241520.9775N","0543711.8410E"],["243913.4400N","0545229.7502E"],["244334.4990N","0551013.7592E"],["242638.0000N","0560135.0000E"]],St=[["260400.0000N","0535700.0000E"],["254517.0000N","0545647.0000E"],["263406.0000N","0541800.0000E"],["264554.0000N","0543610.0000E"],["254331.0000N","0552600.0000E"],["253800.0000N","0552000.0000E"],["254135.8064N","0550842.3936E"],["252355.0000N","0545522.0000E"],["252814.0965N","0543904.4502E"],["254332.2605N","0535708.1354E"],["255450.0000N","0532541.0000E"],["260400.0000N","0535700.0000E"]],It=[["254135.8064N","0550842.3936E"],["253800.0000N","0552000.0000E"],["262100.0000N","0560600.0000E"],["253600.0000N","0561300.0000E"],["252826.6958N","0561738.3041E"],["252808.0000N","0563613.0000E"],["250804.1040N","0563547.0022E"],["250810.0000N","0563002.0000E"],["250000.0000N","0563500.0000E"],["245608.0000N","0563113.0000E"],["244218.0000N","0565415.0000E"],["242218.0000N","0563418.0000E"],["243844.0000N","0561342.0000E"],["242638.0000N","0560135.0000E"],["250339.4072N","0544513.1108E"],["252355.0000N","0545522.0000E"],["254135.8064N","0550842.3936E"]],yt=[["255450.0000N","0532541.0000E"],["260400.0000N","0535700.0000E"],["254135.8064N","0550842.3936E"],["252355.0000N","0545522.0000E"],["252814.0965N","0543904.4502E"],["254332.2605N","0535708.1354E"],["255450.0000N","0532541.0000E"]],Ut=[["255450.0000N","0532541.0000E"],["254332.2605N","0535708.1354E"],["252814.0965N","0543904.4502E"],["252355.0000N","0545522.0000E"],["250339.4072N","0544513.1108E"],["245033.3087N","0541052.3203E"],["245234.9377N","0540545.5866E"],["245723.3151N","0540231.4151E"],["250412.9847N","0535018.1858E"],["245849.4608N","0534229.3001E"],["251028.0206N","0532257.8798E"],["251727.2300N","0531010.5921E"],["252629.4279N","0524901.1237E"],["254900.0000N","0530600.0000E"],["255450.0000N","0532541.0000E"]],Bt=[["254332.2605N","0535708.1354E"],["252814.0965N","0543904.4502E"],["252355.0000N","0545522.0000E"],["250548.0528N","0544617.3882E"],["250339.4072N","0544513.1108E"],["250118.4318N","0543901.6006E"],["243848.6795N","0542254.4400E"],["244707.3259N","0540157.3156E"],["251028.0206N","0532257.8798E"],["252535.0905N","0533458.4084E"],["254332.2605N","0535708.1354E"]],wt=[["254135.8064N","0550842.3936E"],["253800.0000N","0552000.0000E"],["251430.0000N","0553449.0000E"],["245614.2304N","0552015.9927E"],["244334.4990N","0551013.7592E"],["243913.4400N","0545229.7502E"],["241520.9775N","0543711.8410E"],["241930.0000N","0543100.0000E"],["241805.0000N","0542246.0000E"],["242300.0058N","0541138.5536E"],["243848.6795N","0542254.4400E"],["250118.4318N","0543901.6006E"],["250339.4072N","0544513.1108E"],["250548.0528N","0544617.3882E"],["252355.0000N","0545522.0000E"],["254135.8064N","0550842.3936E"]],Pt=[["243844.0000N","0561342.0000E"],["242638.0000N","0560135.0000E"],["244334.4990N","0551013.7592E"],["245614.2304N","0552015.9927E"],["251430.0000N","0553449.0000E"],["251050.5564N","0560704.8139E"],["250810.0511N","0563001.9833E"],["250000.0000N","0563500.0000E"],["245608.0000N","0563113.0000E"],["244218.0000N","0565415.0000E"],["242218.0000N","0563418.0000E"],["243844.0000N","0561342.0000E"]],Ct=[["250810.0000N","0563002.0000E"],["250006.2648N","0563505.7475E"],["245608.0000N","0563113.0000E"],["244913.4524N","0564244.6367E"],["243031.3688N","0562400.6678E"],["243844.0000N","0561342.0000E"],["244617.8166N","0555938.9015E"],["250141.0000N","0555700.0000E"],["250811.8360N","0555918.3100E"],["251050.5564N","0560704.8139E"],["251546.8257N","0560815.8996E"],["250810.0000N","0563002.0000E"]],vt=[["253800.0000N","0552000.0000E"],["262100.0000N","0560600.0000E"],["253600.0000N","0561300.0000E"],["252826.6958N","0561738.3041E"],["252808.0000N","0563613.0000E"],["250804.1040N","0563547.0022E"],["250810.0000N","0563002.0000E"],["251050.5564N","0560704.8139E"],["251050.5564N","0560704.8139E"],["251430.0000N","0553449.0000E"],["253800.0000N","0552000.0000E"]],bt=[["251037.00N","0523707.00E"],["252629.44N","0524901.14E"],["251727.27N","0531010.58E"],["251037.00N","0523707.00E"]],He={S:{name:"ACCS",coords:gt,color:"#3b9cdd",label:["245110.45N","0525951.89E"]},L:{name:"ACCL",coords:pt,color:"#c689ff",label:["235606.37N","0534706.36E"]},B:{name:"ACCB",coords:Dt,color:"#E6B43E",label:["242709.99N","0552646.12E"]},G:{name:"ACCG",coords:mt,color:"#E0E63E",label:["245024.97N","0533029.73E"]},A:{name:"ACCA",coords:Rt,color:"#de64e2",label:["241634.49N","0545751.99E"]},N:{name:"ACCN",coords:St,color:"#C8D66B",label:["260037.33N","0540542.58E"]},M:{name:"ACCM",coords:It,color:"#7259ff",label:["251447.71N","0553434.53E"]},W:{name:"ACCW",coords:yt,color:"#fca17e",label:["254634.55N","0542249.11E"]},C:{name:"ACCC",coords:Ut,color:"#E63E87",label:["253248.09N","0532640.51E"]},D:{name:"ACCD",coords:Bt,color:"#62dac6",label:["251250.51N","0541340.96E"]},H:{name:"ACCH",coords:wt,color:"#CADAE0",label:["250340.15N","0545612.33E"]},E:{name:"ACCE",coords:Pt,color:"#47D1B0",label:["245325.82N","0554642.07E"]},Y:{name:"ACCY",coords:Ct,color:"#BAB257",label:["245635.63N","0561226.84E"]},R:{name:"ACCR",coords:vt,color:"#E478D7",label:["253905.58N","0555041.26E"]},K:{name:"kBOX",coords:bt,color:"#E63E87",label:["",""]}},je=[{sector:"SOUTH",limit:"GND - F600",freq:"128.250"},{sector:"LIMA",limit:"GND - F600",freq:"125.925"},{sector:"BRAVO",limit:"GND - F600",freq:"119.325"},{sector:"NORTH",limit:"GND - F600",freq:"132.150"},{sector:"MIKE",limit:"GND - F600",freq:"132.550"},{sector:"CENTRAL",limit:"GND - F600",freq:"124.375"},{sector:"DELTA",limit:"GND - F255",freq:"120.900"},{sector:"HOTEL",limit:"GND - F255",freq:"128.125"},{sector:"ALPHA",limit:"GND - F255",freq:"129.500"},{sector:"EAST",limit:"GND - F255",freq:"125.375"},{sector:"ROMEO",limit:"GND - F255",freq:"124.850"},{sector:"KBOX",limit:"GND - F245",freq:"124.375"},{sector:"GOLF",limit:"GND - F245",freq:"120.525"},{sector:"WEST",limit:"GND - F245",freq:"119.300"},{sector:"YANKEE",limit:"A095 - F195",freq:"118.925"}],$={ADV:["242508.3N","0544023.7E"],ALGUX:["242247N","0541209E"],ALKAN:["255224N","0521625E"],ALNEV:["244601N","0534122E"],ALPOB:["254218N","0530055E"],ALRAR:["254058.2N","0550149.4E"],ALSEM:["252705N","0524336E"],ALSIL:["252911.1N","0554639.4E"],AMBOV:["253439N","0543512E"],AMBOV:["253439N","0543512E"],ANVIX:["244655.0N","0555616.0E"],ASNAX:["245659N","0524054E"],ASNEK:["255630.7N","0554904.7E"],ASNIB:["243982N","0572109E"],ASPAK:["262115.49N","0522257E"],ASPED:["240036N","0553154E"],ASRAT:["242114N","0535944E"],ASTOG:["252822N","0525025E"],ATUDO:["241708.0N","0543432.0E"],BAH:["261625N","0503801E"],BND:["271182N","0562201E"],BONAN:["260200.60N","0515505.41E"],BOPEK:["230138.20N","0520012.57E"],BOPIT:["235947N","0540404E"],BOPOV:["262429.69N","0515043.17E"],BOSEV:["245013.3N","0540448.8E"],BOTAM:["240245N","0565333E"],BOXOT:["251039N","0531817E"],BUBAS:["245964N","0570004E"],BUNDU:["250024N","0522924E"],DANOK:["234220N","0533111E"],DANUX:["223608N","0541596E"],DAPER:["254536N","0545751E"],DAPOK:["235994N","0572999E"],DASLO:["254562N","0523048E"],DATOB:["253053.0N","0544656.9E"],DATUT:["263354N","0533563E"],DAVMO:["255127.0N","0553900.0E"],DAXIB:["245446.5N","0540901.1E"],DEGNU:["242757N","0570622E"],DEGSO:["261060.39N","0531960.17E"],DENSA:["263197N","0542933E"],DESVU:["242222N","0554253E"],DETGU:["252623.9N","0553604.6E"],DIXAM:["254151N","0543557E"],DOH:["251500N","0513658E"],DXB:["251517N","0552187E"],EGMIT:["263367N","0530842E"],EGPEP:["255746.8N","0555822.5E"],EGPOG:["244727N","0531950E"],EGROK:["235289N","0560144E"],EGROP:["245211N","0543625E"],EGTAG:["250856N","0545652E"],ELEPO:["243211N","0544410E"],ELIGA:["242121N","0530148E"],ELIRA:["262109N","0534504E"],ELOBI:["250782N","0521760E"],ELOVU:["245721.3N","0542017.5E"],ELUDA:["235107N","0552905E"],EMATA:["242315N","0565734E"],EMERU:["244829.0N","0550303.0E"],EMISA:["254658.35N","0514206.60E"],EMIXI:["242105N","0520019E"],EMOPI:["252620.0N","0560900.0E"],EMOTA:["255254N","0542414E"],ENANO:["252360.2N","0522560.38E"],ENEGA:["250556N","0560601E"],ESROM:["232424N","0525729E"],FJV:["250602.6N","0562116.4E"],GABKO:["260404N","0554755E"],GERAR:["240601N","0573628E"],GERUL:["250001.4N","0542644.4E"],GEVIV:["244118N","0545000E"],GEXAN:["241295N","0565681E"],GIBIB:["255507N","0541712E"],GIDIL:["251770N","0564939E"],GIDIS:["243600.0N","0555600.0E"],GIDOB:["244445.3N","0535952.6E"],GISMO:["244743N","0562236E"],GODKI:["254122N","0534347E"],GOGMI:["230226N","0553198E"],GOLGU:["231051N","0523109E"],GOLPA:["242330.0N","0535854.0E"],GOMTA:["251115N","0563447E"],GONVI:["254239.8N","0545630.5E"],IMGOV:["221846N","0533640E"],IMGUX:["252950N","0531428E"],IMKUD:["241513N","0535956E"],IMLIP:["243648N","0543549E"],IMLOT:["251714N","0570806E"],IMPED:["245824.5N","0560406.2E"],ITBON:["251426N","0555257E"],ITBUL:["254910N","0541227E"],ITKEV:["250104N","0534526E"],ITKUN:["223751N","0553956E"],ITLAP:["254925N","0555010E"],ITMUB:["255932N","0522404E"],ITOMI:["250152N","0541151E"],ITRAX:["241248.0N","0554749.0E"],IVOXI:["251239.6N","0552513.1E"],IVURO:["251940N","0560915E"],KANIP:["241040.0N","0552042.0E"],KAPAX:["254229N","0515131E"],KAPUM:["245815N","0533450E"],KATUS:["251599N","0574701E"],KATIT:["224928N","0522923E"],KAXOB:["245423N","0532450E"],KHM:["264578N","0555446E"],KIPOK:["243611N","0560719E"],KIROP:["243000.00N","0574700.00E"],KIS:["263151N","0535774E"],KIVUS:["254522N","0540032E"],KOBIM:["233315N","0562702E"],KUGTO:["243231N","0542224E"],KULBA:["251326N","0560153E"],KUMLA:["262615N","0520837E"],KUMSI:["245050N","0523619E"],KUMUN:["254000N","0551512E"],KUPMA:["245148N","0562648E"],KUPRO:["250805N","0523513E"],KUPSA:["250475N","0521186E"],KURTA:["234209N","0554901E"],KURTU:["252211N","0554625E"],KUSBA:["251634N","0532847E"],KUSEN:["251828.0N","0562340.0E"],KUTLI:["245151.3N","0545618.0E"],KUVDA:["244309N","0543909E"],LABOP:["261912N","520449E"],LABRI:["240344.0N","0553842.0E"],LABSA:["230189N","0555509E"],LAGTA:["250602N","0553315E"],LAKLU:["232259N","0570402E"],LALDO:["251806N","0563600E"],LEVNA:["261901N","0533320E"],LONUT:["241520N","0530149E"],LORID:["245552.5N","0543904.1E"],LOVEM:["252645.4N","0551440.4E"],LUBAT:["250223N","0561749E"],LUDAM:["255508N","0535859E"],LUDID:["230227N","0551800E"],LVA:["264799N","0532317E"],MCT:["233547N","0581561E"],MEDPO:["222436N","0520786E"],MEKNA:["233315N","0560825E"],MEKRI:["243122.8N","0535500.0E"],MEMTU:["232517N","0552443E"],MENSA:["245750N","0563249E"],MIBRU:["250321N","0524540E"],MIGMA:["225058N","0512782E"],MIROT:["250608.8N","0543048.8E"],MISEG:["252134N","0555205E"],MITIX:["251746.4N","0550729.7E"],MIVEK:["245240N","0561516E"],MOBET:["264411N","0560913E"],MOBUL:["251559N","0541841E"],MODOG:["261007N","0515935E"],MOGIM:["244053N","0542820E"],MURGU:["243212.8N","0560319.9E"],MUSAP:["241754N","0555245E"],MUSEN:["241429N","0543236E"],MUXIT:["230229N","0523024E"],NABIX:["251241.1N","0543147.3E"],NABUN:["240301.8N","0545021.3E"],NADNI:["251915.2N","0555658.9E"],NADSO:["244996N","0574944E"],NALNU:["244737N","0560925E"],NALPO:["255602N","0532945E"],NAPMA:["241250N","0550312E"],NOBTO:["235525.0N","0551840.0E"],NOLSU:["251248.0N","0560737.8E"],NORGA:["250352N","0555415E"],NOSMI:["241795N","0563003E"],OBNET:["260032N","0534514E"],OBREV:["250200N","0551135E"],OBVOM:["241503N","0515552E"],ODKUN:["242608N","0544017E"],OMDW:["245372E","0550951E"],OOSH:["242300N","0563731E"],ORBOL:["245134N","0542348E"],ORKOB:["245309N","0562421E"],ORLUP:["260686N","0523226E"],ORMID:["253354N","0525434E"],ORNEL:["240311.7N","0551942.1E"],ORPAX:["242628.0N","0534533.0E"],ORSAR:["260430N","0535730E"],ORSIS:["252801N","0521661E"],OTIKI:["253229N","0541441E"],OVONA:["252443N","0524739E"],OXARI:["252535N","0533458E"],PAPAR:["264000N","0542700E"],PASOV:["243841N","0565037E"],PATAT:["261613N","0560059E"],PAVAG:["251546N","0554042E"],PAXIM:["240274N","0561652E"],PEDOG:["242225.4N","0555333.7E"],PEDUL:["244116N","0560205E"],PEKEM:["224648N","0535942E"],PURLI:["253644N","0532436E"],PURDA:["210808N","0510349E"],PURNI:["243806N","0574390E"],PUSOT:["253919N","0542011E"],PUTIB:["251900N","0525755E"],PUTSO:["232062N","0565336E"],PUVAL:["253558.0N","0554258.0E"],PUXIL:["244117N","0563145E"],RABLA:["261505.73N","0514833.68E"],RADEB:["261167N","0554731E"],RAGDO:["252212N","0535106E"],RALMI:["254505N","0533033E"],RAPNO:["241452N","0541559E"],RESAR:["253711N","0522346E"],RETAS:["235754.0N","0553423.0E"],REVAV:["250909N","0541012E"],REXEV:["251502.3N","0560136.7E"],RIBOT:["230844N","0522428E"],RIDAP:["252553.7N","0543701.2E"],RIGIL:["230146N","0551430E"],RORON:["252053N","0530916E"],ROSAN:["263129.13N","0515220.05E"],ROTAG:["255388N","0523635E"],ROVOS:["241825.0N","0552143.0E"],RUDAT:["244605.1N","0561714.1E"],RUDUK:["252408N","0541650E"],RUGIS:["245916N","0530340E"],RUKOR:["250823N","0554603E"],RURAL:["243045N","0543156E"],SENPA:["251959.6N","0543210.5E"],SERDU:["264725N","0545764E"],SERSA:["251945N","0553118E"],SIGMO:["240710N","0545837E"],SIR:["255451N","0543211E"],SISOB:["253150N","0534509E"],SIXIV:["242009N","0550439E"],SODEX:["234954N","0553202E"],SOGAN:["263915N","0515408E"],SOKAK:["255131N","0534251E"],SOLUD:["243223N","0564421E"],SUTVO:["251531N","0562153E"],SUVDU:["243501N","0542410E"],TAGDU:["252258N","0532153E"],TANSU:["224136N","0542828E"],TAPRA:["242607N","0563803E"],TARBO:["244385N","0574664E"],TARDI:["243418N","0560915E"],TATLA:["254753N","0544008E"],TOMSO:["260619N","0530224E"],TONKI:["242645.1N","0544851.2E"],TONVO:["250500.0N","0563200.0E"],TOSNA:["251612N","0524116E"],TOTKU:["253534N","0540410E"],TOVIV:["253302N","0551942E"],TOVOX:["245342N","0522429E"],TUBGO:["242403N","0551219E"],TUDIS:["251009N","0550825E"],TUKSI:["252006N","0560525E"],TULON:["245511.4N","0544739.1E"],TULBU:["230009N","571846E"],TUMAK:["255031N","0531108E"],UKILI:["243815.5N","0535636.4E"],UKNAV:["244307N","0542955E"],UKNEP:["262145N","0524830E"],UKRAG:["233056N","0552306E"],UKUBU:["261447N","0524060.5E"],UKUVO:["251228N","0534707E"],UKVAK:["245147N","0553329E"],UKVUP:["261967N","0540892E"],ULIVA:["252647N","0540611E"],ULODA:["243530N","0545301E"],UMAMI:["245113.7N","0560223.3E"],UMEVU:["250545N","0530653E"],UMIBU:["242331N","0543027E"],VAVIM:["241535.1N","0553622.9E"],VATIG:["243659.0N","0533241.0E"],VAXAS:["244308N","0561807E"],VEDED:["260558.26N","0514627.91E"],VEDOM:["260116N","0524494E"],VEGEK:["251837N","0540803E"],VEKAL:["250333.5N","0550340.5E"],VEKOV:["245750N","0544925E"],VELAK:["261307N","0521821E"],VELAM:["255426.12N","0514347.13E"],VNKT:["274777N","0852162E"],VIDP:["283412N","0770673E"],VUTAN:["255026N","0515230E"],VUTEB:["253644.6N","0545149.4E"],VELOD:["234618N","0573458E"],VUXOD:["242005N","0543625E"]},se={A777:["TONVO","BUBAS","NADSO"],"A791-":["IMLOT","GIDIL","LALDO"],A791:["LALDO","GIDIL","IMLOT","KATUS"],B415:["DOH","KUPSA","BUNDU","ASNAX","EGPOG","UKILI","KUGTO","RURAL","SIXIV"],B505:["LALDO","NADSO"],B540:["GERAR","DEGNU","PASOV","KUPMA","ORKOB","MIVEK"],B541:["KIS","ORSAR"],G462:["ROVOS","TUBGO","ULODA","KUVDA","ORBOL","UKUVO","OXARI","PURLI","TUMAK"],G666:["LVA","DATUT","ELIRA","ORSAR","LUDAM","KIVUS","TOTKU","ULIVA","VEGEK","REVAV","ITOMI","ELOVU"],"G783-":["GIDIS","DESVU","VAVIM","ASPED","ELUDA","UKRAG","RIGIL","TANSU"],G783:["PURDA","IMGOV","DANUX","TANSU","RIGIL","UKRAG","ELUDA","ASPED","VAVIM","GIDIS"],L223:["UKVUP","SIR","TATLA","VUTEB","LOVEM","IVOXI","LAGTA","ANVIX","PEDUL","KIPOK","TARDI","NOSMI","BOTAM"],L305:["DOH","ENANO","ALSEM","ASTOG","PURLI","GODKI","KIVUS","ITBUL","EMOTA"],L313:["EGPEP","KULBA","IMPED","KIPOK"],L519:["PATAT","EGPEP","ITLAP","PUVAL","DETGU","SERSA","IVOXI","VEKAL","KUTLI","GEVIV","ODKUN","VUXOD","ATUDO"],L710:["UKRAG","MEMTU","GOGMI","ITKUN"],L768:["ALPOB","ROTAG","ITMUB","MODOG","RABLA"],M317:["RADEB","SERDU"],"M318-":["ATUDO","MUSEN","BOPIT","DANOK","ESROM","GOLGU"],M318:["PURDA","MEDPO","KATIT","MUXIT","GOLGU","ESROM","DANOK","BOPIT","MUSEN","ATUDO","RURAL","IMLIP","KUVDA","TULON","VEKOV","EGTAG","MITIX","LOVEM","TOVIV","DAVMO","GABKO","RADEB","KHM"],M324:["BND","MOBET","PATAT"],M428:["IVURO","SUTVO","GOMTA","TARBO"],M430:["OXARI","TAGDU","RORON","PUTIB","TOSNA","DOH"],M550:["MIGMA","BOPEK","RIBOT","GOLGU"],M557:["IVOXI","MITIX","RIDAP","OTIKI","TOTKU","GODKI","RALMI","TUMAK"],M564:["PASOV","PUXIL","VAXAS","NALNU","UMAMI"],M572:["NOLSU","GOMTA"],M628:["MIGMA","KATIT","PEKEM","RIGIL"],"M628-":["LABSA","GOGMI","LUDID","RIGIL","PEKEM","KATIT"],"M677-":["LALDO","KUSEN","IVURO","TUKSI"],M677:["SOGAN","UKNEP","DEGSO","OBNET","LUDAM","ITBUL","DIXAM","VUTEB","LOVEM","KURTU","MISEG","TUKSI","IVURO","KUSEN","LALDO"],M762:["VELOD","GEXAN","TAPRA","VAXAS","RUDAT","MIVEK"],N300:["DOH","KUPRO","MIBRU","RUGIS","KAXOB","GIDOB","ORBOL","LORID","VEKOV","OBREV","LAGTA","RUKOR","NOLSU","SUTVO","LALDO"],"N300-":["RUKOR","LAGTA","OBREV"],N317:["MENSA","NOLSU","REXEV","NADNI"],N318:["VELAM","VUTAN","RESAR","OVONA","PUTIB","BOXOT","KAPUM","BOSEV","MOGIM","IMLIP","ELEPO","SIXIV","KANIP","LABRI","EGROK","LAKLU"],N563:["TULBU","MEKNA","KURTA","SODEX","ELUDA","NOBTO","SIGMO","VUXOD","UMIBU","KUGTO","BOSEV","ITKEV","KUSBA","TAGDU","IMGUX","ALPOB"],N571:["KIROP","ASNIB","MENSA","LUBAT","ENEGA","RUKOR","IVOXI","TUDIS","SENPA","RUDUK","ULIVA","SISOB","PURLI","ALPOB"],N685:["EMISA","KAPAX","ORSIS","ENANO","TOSNA","UMEVU","KAPUM","GIDOB","SUVDU","RURAL","ODKUN","NAPMA","ORNEL","RETAS","KOBIM","PUTSO"],P307:["SERSA","PAVAG","ITBON","KULBA","NOLSU","TONVO","PURNI"],P440:["ALGUX","ASRAT","ELIGA","EMIXI"],P555:["OBVOM","LONUT","IMKUD","RAPNO","ATUDO"],P559:["ROSAN","KUMLA","ASPAK","UKUBU","TOMSO","NALPO","SOKAK","KIVUS","PUSOT","AMBOV","VUTEB"],P574:["DAPOK","EMATA","SOLUD","PUXIL","GISMO","MIVEK","IMPED","NORGA","RUKOR","SERSA","TOVIV","KUMUN"],"P574-":["DAPER","DENSA"],P699:["TUKSI","PAVAG","IVOXI","TUDIS","EGTAG","NABIX","MOBUL","VEGEK","RAGDO","OXARI","IMGUX","ORMID","DASLO","ALKAN","BONAN","VEDED"],P899:["VELOD","PAXIM","ITRAX","VAVIM","ROVOS","SIXIV","UMIBU","MEKRI","KUMSI","TOVOX","KUPSA"],Q308:["ASPED","PEDOG","MURGU","KIPOK","RUDAT","ORKOB"],Q311:["IVOXI","OBREV","EMERU","TONKI","NABUN"],Q312:["REVAV","GERUL"],Q317:["RURAL","UKNAV","EGROP","LORID"],Q321:["TOVIV","DETGU","KURTU","NOLSU"],Q322:["AMBOV","DATOB","LOVEM"],Q322:["ITBUL","PUSOT","AMBOV","DATOB","LOVEM"],Q323:["MITIX","PAVAG"],Q415:["UMEVU","KAXOB","ALNEV","UKILI","KUGTO","IMLIP","GEVIV","UKVAK","IMPED","LUBAT","TONVO"],Q563:["DAXIB","UKUVO","IMGUX"],Q565:["BOSEV","UKUVO"],Q568:["KIPOK","NALNU","IMPED"],Q569:["VUTEB","MITIX","OBREV"],Q572:["ALRAR","LOVEM","SERSA"],Q576:["EGTAG","MIROT","REVAV","UKUVO","KUSBA","RORON"],Q666:["EGPOG","ALNEV","GIDOB"],R401:["LABSA","KURTA","MUSAP","PEDOG","GIDIS","ANVIX","NORGA","ITBON","MISEG","ITLAP","ASNEK","GABKO"],R784:["EGMIT","LEVNA","ORSAR","GIBIB","EMOTA","TATLA","GONVI","ALRAR","TOVIV","ALSIL","EMOPI","KUSEN"],T509:["PASOV","MENSA","FJV"],T560:["ORNEL","ELUDA"],T602:["TUMAK","VEDOME","ORLUP","VELAK","LABOP","BOPOV"],T891:["ORKOB","LUBAT","NOLSU"],Y552:["NABUN","SIGMO","NAPMA","TUBGO","UKVAK","RUKOR"],Z522:["KAPUM","ALNEV"]},Kt={G666:[{coord:["255049.86N","0535942.60E"],rotate:80,arrow:"right"},{coord:["251439.23N","0540857.34E"],rotate:80,arrow:"right"}],M677:[{coord:["260701.11N","0532946.29E"],rotate:24,arrow:"right"},{coord:["254518.45N","0542510.78E"],rotate:17,arrow:"right"},{coord:["252310.64N","0553931.13E"],rotate:8,arrow:"right"},{coord:["251818.27N","0562903.22E"],rotate:2,arrow:"both"}],"M677-L223":[{coord:["253214.05N","0550205.59E"],rotate:25,arrow:"right"}],P559:[{coord:["260213.23N","0531326.78E"],rotate:25,arrow:"right"},{coord:["254234.12N","0540944.15E"],rotate:20,arrow:"right"},{coord:["253542.62N","0544346.84E"],rotate:-8,arrow:"right"}],P307:[{coord:["251751.08N","0553546.50E"],rotate:25,arrow:"right"},{coord:["251502.69N","0554719.24E"],rotate:8,arrow:"right"},{coord:["250850.86N","0561958.91E"],rotate:20,arrow:"right"}],"P559-Q322":[{coord:["253656.63N","0542750.11E"],rotate:19,arrow:"right"}],R784:[{coord:["255943.95N","0540730.76E"],rotate:28,arrow:"right"},{coord:["253717.73N","0551003.98E"],rotate:25,arrow:"right"},{coord:["253135.30N","0553047.03E"],rotate:10,arrow:"right"},{coord:["252328.83N","0561420.09E"],rotate:30,arrow:"right"}],L223:[{coord:["254258.97N","0544516.64E"],rotate:48,arrow:"right"},{coord:["252141.82N","0551831.81E"],rotate:55,arrow:"right"},{coord:["245118.44N","0555058.84E"],rotate:43,arrow:"right"}],N318:[{coord:["253245.55N","0523214.53E"],rotate:30,arrow:"right"},{coord:["251501.15N","0530737.58E"],rotate:25,arrow:"right"},{coord:["244417.79N","0541944.22E"],rotate:22,arrow:"right"},{coord:["242451.66N","0545637.96E"],rotate:33,arrow:"right"},{coord:["240759.92N","0552731.15E"],rotate:23,arrow:"right"}],Q569:[{coord:["252342.33N","0550236.47E"],rotate:57,arrow:"right"}],Q321:[{coord:["252839.47N","0553030.16E"],rotate:26,arrow:"right"}],N685:[{coord:["252637.41N","0522008.74E"],rotate:28,arrow:"right"},{coord:["251115.34N","0525317.61E"],rotate:25,arrow:"right"},{coord:["245114.43N","0534747.30E"],rotate:31,arrow:"right"},{coord:["241724.53N","0545516.82E"],rotate:32,arrow:"right"},{coord:["235946.23N","0552911.75E"],rotate:24,arrow:"right"}],Q415:[{coord:["250048.07N","0531440.62E"],rotate:35,arrow:"right"},{coord:["244241.41N","0534754.15E"],rotate:31,arrow:"right"},{coord:["244712.00N","0551433.13E"],rotate:-16,arrow:"right"},{coord:["250030.02N","0561119.06E"],rotate:-17,arrow:"right"}],Z522:[{coord:["245250.19N","0533743.46E"],rotate:64,arrow:"right"}],N300:[{coord:["250122.57N","0525412.78E"],rotate:15,arrow:"right"},{coord:["244748.38N","0541033.34E"],rotate:-18,arrow:"right"},{coord:["250403.42N","0552238.08E"],rotate:-11,arrow:"right"},{coord:["251418.95N","0561534.97E"],rotate:-11,arrow:"right"}],B415:[{coord:["245446.97N","0524948.78E"],rotate:16,arrow:"right"},{coord:["242513.92N","0544856.92E"],rotate:19,arrow:"right"}],Q666:[{coord:["244635.95N","0533228.29E"],rotate:3,arrow:"right"}],"B415-Q415":[{coord:["243522.75N","0540936.26E"],rotate:13,arrow:"right"}],T560:[{coord:["235744.11N","0552356.17E"],rotate:57,arrow:"right"}],Q572:[{coord:["252314.09N","0552302.55E"],rotate:27,arrow:"right"}],M428:[{coord:["251711.03N","0561648.09E"],rotate:19,arrow:"right"}],L305:[{coord:["252533.84N","0523454.50E"],rotate:-12,arrow:"right"},{coord:["253907.26N","0533429.08E"],rotate:-15,arrow:"right"}],M318:[{coord:["231811.38N","0524524.52E"],rotate:-29,arrow:"both"},{coord:["240812.55N","0542026.18E"],rotate:-29,arrow:"both"},{coord:["245006.97N","0544404.46E"],rotate:-56,arrow:"right"},{coord:["254313.08N","0553022.91E"],rotate:-48,arrow:"right"}],M550:[{coord:["230717.01N","0521936.16E"],rotate:-17,arrow:"both"}],M628:[{coord:["225547.24N","0544436.12E"],rotate:-12,arrow:"both"}],G783:[{coord:["225345.13N","0545613.27E"],rotate:-25,arrow:"both"},{coord:["234154.36N","0552621.06E"],rotate:-74,arrow:"both"},{coord:["241024.56N","0553449.53E"],rotate:-75,arrow:"both"},{coord:["241921.97N","0554000.52E"],rotate:-50,arrow:"left"}],L710:[{coord:["231823.79N","0552706.40E"],rotate:72,arrow:"right"}],R401:[{coord:["240517.57N","0555126.25E"],rotate:-85,arrow:"right"},{coord:["244122.86N","0555607.61E"],rotate:-90,arrow:"both"},{coord:["250013.30N","0555440.00E"],rotate:-96,arrow:"right"},{coord:["253904.10N","0555052.94E"],rotate:-95,arrow:"right"}],Q308:[{coord:["240806.94N","0553921.54E"],rotate:-46,arrow:"right"},{coord:["242743.78N","0555851.41E"],rotate:-46,arrow:"right"},{coord:["244912.74N","0562023.13E"],rotate:-46,arrow:"right"}],Q568:[{coord:["244243.47N","0560831.06E"],rotate:-82,arrow:"right"}],Q323:[{coord:["251630.17N","0552830.87E"],rotate:2,arrow:"right"}],Q312:[{coord:["250439.59N","0541820.28E"],rotate:32,arrow:"right"}],L519:[{coord:["260721.69N","0555943.76E"],rotate:-84,arrow:"left"},{coord:["254153.98N","0554608.50E"],rotate:-66,arrow:"left"},{coord:["250654.65N","0551135.95E"],rotate:-27,arrow:"left"},{coord:["244734.71N","0545344.79E"],rotate:-60,arrow:"left"}],L313:[{coord:["254721.29N","0555912.22E"],rotate:86,arrow:"right"}],Q317:[{coord:["243709.47N","0543053.36E"],rotate:81,arrow:"left"}],Q311:[{coord:["250749.35N","0551901.71E"],rotate:-44,arrow:"left"},{coord:["244029.84N","0545749.66E"],rotate:-59,arrow:"left"},{coord:["240826.79N","0545000.86E"],rotate:87,arrow:"right"}],Q322:[{coord:["254440.57N","0541558.33E"],rotate:55,arrow:"right"},{coord:["252924.36N","0545652.30E"],rotate:9,arrow:"right"}],Y552:[{coord:["243536.54N","0552107.75E"],rotate:-55,arrow:"right"}],M762:[{coord:["243225.21N","0563040.29E"],rotate:44,arrow:"left"}],B540:[{coord:["244444.45N","0563938.07E"],rotate:34,arrow:"left"}],T509:[{coord:["245041.87N","0563927.86E"],rotate:50,arrow:"left"}],N317:[{coord:["250731.45N","0561630.88E"],rotate:35,arrow:"left"}],T891:[{coord:["245817.90N","0562042.69E"],rotate:57,arrow:"left"}],M572:[{coord:["251154.85N","0562314.58E"],rotate:2,arrow:"right"}],P574:[{coord:["243644.97N","0563809.50E"],rotate:40,arrow:"left"},{coord:["252812.33N","0552354.98E"],rotate:52,arrow:"left"},{coord:["250114.45N","0555859.57E"],rotate:34,arrow:"left"}],M564:[{coord:["243929.80N","0564438.81E"],rotate:8,arrow:"left"},{coord:["244546.82N","0561258.48E"],rotate:31,arrow:"left"}],P699:[{coord:["251717.69N","0554924.83E"],rotate:-13,arrow:"left"},{coord:["251055.35N","0544335.61E"],rotate:10,arrow:"left"},{coord:["253150.35N","0530438.98E"],rotate:10,arrow:"left"}],M557:[{coord:["252143.79N","0545239.41E"],rotate:16,arrow:"left"},{coord:["254730.06N","0532154.55E"],rotate:16,arrow:"left"}],N571:[{coord:["250011.94N","0562501.13E"],rotate:19,arrow:"left"},{coord:["251022.54N","0553618.88E"],rotate:12,arrow:"left"},{coord:["251454.19N","0545055.64E"],rotate:16,arrow:"left"},{coord:["253933.01N","0531236.69E"],rotate:15,arrow:"left"}],"N571-P699":[{coord:["251117.25N","0551602.77E"],rotate:-9,arrow:"left"}],P899:[{coord:["240940.09N","0555719.43E"],rotate:18,arrow:"left"},{coord:["241901.22N","0551543.93E"],rotate:7,arrow:"left"},{coord:["242532.91N","0542117.38E"],rotate:12,arrow:"left"},{coord:["244819.73N","0524629.01E"],rotate:14,arrow:"left"}],Q576:[{coord:["250702.12N","0543910.22E"],rotate:-6,arrow:"left"},{coord:["251842.97N","0531903.95E"],rotate:12,arrow:"left"}],G462:[{coord:["242842.44N","0550428.05E"],rotate:34,arrow:"left"},{coord:["251947.50N","0534019.18E"],rotate:51,arrow:"left"}],N563:[{coord:["234700.63N","0553821.86E"],rotate:25,arrow:"left"},{coord:["241511.70N","0544449.29E"],rotate:35,arrow:"left"},{coord:["245648.39N","0535302.72E"],rotate:31,arrow:"left"},{coord:["253652.61N","0530648.42E"],rotate:45,arrow:"left"}],Q565:[{coord:["250135.96N","0535546.01E"],rotate:52,arrow:"left"}],M430:[{coord:["251743.19N","0525018.15E"],rotate:-12,arrow:"left"}],Q563:[{coord:["245936.06N","0540302.73E"],rotate:44,arrow:"left"},{coord:["251957.25N","0533302.96E"],rotate:31,arrow:"left"}],P440:[{coord:["242117.41N","0533307.99E"],rotate:0,arrow:"left"}],P555:[{coord:["241512.16N","0531738.50E"],rotate:0,arrow:"right"}]},Re={"BUNDU-LABRI":["BUNDU","B415","SIXIV","N318","LABRI"],"BUNDU-RETAS":["BUNDU","B415","RURAL","N685","RETAS"],"BUNDU-TONVO":["BUNDU","B415","KUGTO","Q415","TONVO"],"ITRAX-ALPOB":["ITRAX","P899","UMIBU","N563","ALPOB"],"ITRAX-ALPOB":["ITRAX","P899","ROVOS","G462","UKUVO","Q563","IMGUX","N563","ALPOB"],"ITRAX-ORMID*":["ITRAX","P899","UMIBU","N563","IMGUX","P699","ORMID"],"ITRAX-ORMID":["ITRAX","P899","ROVOS","G462","UKUVO","Q563","IMGUX","P699","ORMID"],"ITRAX-TOVOX":["ITRAX","P899","TOVOX"],"ITRAX-TUMAK":["ITRAX","P899","ROVOS","G462","TUMAK"],"ITRAX-TUMAK*":["ITRAX","P899","UMIBU","N563","BOSEV","Q565","UKUVO","G462","TUMAK"],"KUPRO-GABKO":["KUPRO","N300","VEKOV","M318","GABKO"],"KUPRO-LALDO*":["KUPRO","N300","VEKOV","M318","MITIX","Q323","PAVAG","P307","NOLSU","N300","LALDO"],"KUPRO-LALDO":["KUPRO","N300","LALDO"],"KUPRO-TONVO":["KUPRO","N300","NOLSU","P307","TONVO"],"LALDO-ALPOB":["LALDO","M677","TUKSI","P699","IVOXI","N571","ALPOB"],"LALDO-ORMID":["LALDO","M677","TUKSI","P699","ORMID"],"LALDO-TOSNA":["LALDO","M677","TUKSI","P699","EGTAG","Q576","RORON","M430","TOSNA"],"LALDO-TUMAK":["LALDO","M677","TUKSI","P699","IVOXI","M557","TUMAK"],"LUDID-PEKEM":["LUDID","M628-","PEKEM"],"LUDID-TANSU":["LUDID","M628-","RIGIL","G783","TANSU"],"MENSA-ALPOB":["MENSA","N571","ALPOB"],"MENSA-KUMUN":["MENSA","N571","RUKOR","P574","KUMUN"],"MENSA-ORMID":["MENSA","N571","IVOXI","P699","ORMID"],"MENSA-TOSNA":["MENSA","N571","IVOXI","P699","EGTAG","Q576","RORON","M430","TOSNA"],"MENSA-TUMAK":["MENSA","N571","IVOXI","M557","TUMAK"],"MUSAP-KUMUN":["MUSAP","R401","NORGA","P574","KUMUN"],"NALPO-GABKO":["NALPO","P559","AMBOV","Q322","LOVEM","M318","GABKO"],"NALPO-LALDO":["NALPO","P559","AMBOV","Q322","LOVEM","M677","LALDO"],"NALPO-TARDI":["NALPO","P559","AMBOV","Q322","LOVEM","L223","TARDI"],"NALPO-TONVO":["NALPO","P559","AMBOV","Q322","LOVEM","Q572","SERSA","P307","TONVO"],"OBNET-GABKO":["DEGSO","M677","LOVEM","M318","GABKO"],"OBNET-LALDO":["DEGSO","M677","LALDO"],"OBNET-TARDI":["DEGSO","M677","LOVEM","L223","TARDI"],"OBNET-TONVO":["DEGSO","M677","LOVEM","Q572","SERSA","P307","TONVO"],"ORSAR-LALDO":["ORSAR","R784","KUSEN","M677","LALDO"],"ORSAR-TARDI":["ORSAR","R784","TATLA","L223","TARDI"],"ORSAR-TONVO":["ORSAR","R784","TOVIV","Q321","NOLSU","P307","TONVO"],"OVONA-LABRI":["RESAR","N318","LABRI"],"OVONA-RETAS":["RESAR","N318","KAPUM","N685","RETAS"],"PATAT-ALPOB":["PATAT","L519","IVOXI","N571","ALPOB"],"PATAT-ORMID":["PATAT","L519","IVOXI","P699","ORMID"],"PATAT-TARDI":["PATAT","L519","EGPEP","L313","KIPOK","L223","TARDI"],"PATAT-TOSNA":["PATAT","L519","IVOXI","P699","EGTAG","Q576","RORON","M430","TOSNA"],"PATAT-TUMAK":["PATAT","L519","IVOXI","M557","TUMAK"],"PEKEM-GABKO":["PEKEM","M628","RIGIL","G783","ASPED","Q308","PEDOG","R401","GABKO"],"SIR-LALDO":["SIR","L223","TATLA","R784","KUSEN","M677","LALDO"],"SIR-TARDI":["SIR","L223","TARDI"],"SIR-TONVO":["SIR","L223","TATLA","R784","TOVIV","Q321","NOLSU","P307","TONVO"],"SODEX-ALPOB":["SODEX","N563","ALPOB"],"SODEX-ORMID":["SODEX","N563","IMGUX","P699","ORMID"],"SODEX-TOVOX":["SODEX","N563","UMIBU","P899","TOVOX"],"SODEX-TUMAK":["SODEX","N563","BOSEV","Q565","UKUVO","G462","TUMAK"],"SOLUD-ALPOB":["SOLUD","P574","RUKOR","N571","ALPOB"],"SOLUD-GABKO":["SOLUD","P574","NORGA","R401","GABKO"],"SOLUD-KUMUN":["SOLUD","P574","KUMUN"],"SOLUD-ORMID":["SOLUD","P574","RUKOR","N571","IVOXI","P699","ORMID"],"SOLUD-TUMAK":["SOLUD","P574","RUKOR","N571","IVOXI","M557","TUMAK"],"TANSU-GABKO":["TANSU","G783","ASPED","Q308","PEDOG","R401","GABKO"],"TOSNA-LABRI":["ORSIS","N685","KAPUM","N318","LABRI"],"TOSNA-RETAS":["ORSIS","N685","UMEVU","Q415","KAXOB","N300","GIDOB","N685","RETAS"],"OMAA,AD-ALPOB":["BOSEV","N563","ALPOB"],"OMAA,AD-GABKO":["TULON","M318","GABKO"],"OMAA,AD-KATIT":["ATUDO","M318","KATIT"],"OMAA,AD-KUMUN":["TULON","M318","TOVIV","P574","KUMUN"],"OMAA,AD-LABRI":["KANIP","N318","LABRI"],"OMAA,AD-ORMID":["BOSEV","N563","IMGUX","P699","ORMID"],"OMAA,AD-ORSAR":["DAXIB","Q563","UKUVO","DCT","KIVUS","DCT","LUDAM","DCT","ORSAR"],"OMAA,AD-PEKEM":["ORNEL","T560","ELUDA","G783","RIGIL","M628","PEKEM"],"OMAA,AD-RETAS":["ORNEL","N685","RETAS"],"OMAA,AD-RIBOT":["ATUDO","M318","GOLGU","M550","RIBOT"],"OMAA,AD-TANSU":["ORNEL","T560","ELUDA","G783","TANSU"],"OMAA,AD-TOVOX":["MEKRI","P899","TOVOX"],"OMAA,AD-TUMAK":["DAXIB","Q563","UKUVO","G462","TUMAK"],"OMAL-ALPOB":["ROVOS","DCT","ADV","DCT","BOSEV","N563","ALPOB"],"OMAL-GABKO":["ROVOS","G462","ULODA","DCT","TULON","M318","GABKO"],"OMAL-KATIT":["ROVOS","DCT","ADV","DCT","VUXOD","L519","ATUDO","M318","KATIT"],"OMAL-KUMUN":["ROVOS","G462","ULODA","DCT","TULON","M318","TOVIV","P574","KUMUN"],"OMAL-ORMID":["ROVOS","DCT","ADV","DCT","BOSEV","N563","IMGUX","P699","ORMID"],"OMAL-PEKEM":["DCT","ELUDA","G783","RIGIL","M628","PEKEM"],"OMAL-RIBOT":["ROVOS","DCT","ADV","DCT","VUXOD","L519","ATUDO","M318","GOLGU","M550","RIBOT"],"OMAL-TANSU":["DCT","ELUDA","G783","TANSU"],"OMAL-TOVOX":["ROVOS","DCT","ADV","DCT","MEKRI","P899","TOVOX"],"OMAL-TUMAK":["ROVOS","DCT","ADV","DCT","DAXIB","Q563","UKUVO","G462","TUMAK"],"OMDB,DW,SJ-ALPOB":["SENPA","N571","ALPOB"],"OMDB,DW,SJ-GABKO":["DAVMO","M318","GABKO"],"OMDB,DW,SJ-KATIT":["KUTLI","L519","ATUDO","M318","KATIT"],"OMDB,DW,SJ-MEMTU":["ANVIX","R401","GIDIS","G783-","UKRAG","L710","MEMTU"],"OMDB,DW,SJ-ORMID":["NABIX","P699","ORMID"],"OMDB,DW,SJ-ORSAR":["RIDAP","M557","TOTKU","DCT","KIVUS","DCT","LUDAM","DCT","ORSAR"],"OMDB,DW,SJ-PEKEM":["ANVIX","R401","GIDIS","G783-","RIGIL","M628-","PEKEM"],"OMDB,DW,SJ-RIBOT":["KUTLI","L519","ATUDO","M318","GOLGU","M550","RIBOT"],"OMDB,DW,SJ-TANSU":["ANVIX","R401","GIDIS","G783-","TANSU"],"OMDB,DW,SJ-TARDI":["ANVIX","L223","TARDI"],"OMDB,DW,SJ-TOSNA*":["MIROT","Q576","RORON","M430","TOSNA"],"OMDB,DW,SJ-TOSNA":["NABIX","P699","OXARI","M430","TOSNA"],"OMDB,DW,SJ-TUMAK":["RIDAP","M557","TUMAK"],"OMDB,SJ-GOMTA":["IVURO","M428","GOMTA"],"OMDB,SJ-LALDO":["IVURO","M677","LALDO"],"OMDW-GOMTA":["NOLSU","M572","GOMTA"],"OMDW-LALDO":["NOLSU","N300","LALDO"],"OMFJ-ALPOB":["SERSA","L519","IVOXI","N571","ALPOB"],"OMFJ-GABKO":["KUSEN","DCT","EMOPI","DCT","ITLAP","R401","GABKO"],"OMFJ-KATIT":["SERSA","L519","ATUDO","M318","KATIT"],"OMFJ-ORMID":["SERSA","L519","IVOXI","P699","ORMID"],"OMFJ-PEKEM":["VAVIM","G783","RIGIL","M628","PEKEM"],"OMFJ-RIBOT":["SERSA","L519","ATUDO","M318","GOLGU","M550","RIBOT"],"OMFJ-TANSU":["VAVIM","G783-","TANSU"],"OMFJ-TONVO":["FJV","DCT","TONVO"],"OMFJ-TOSNA":["SERSA","L519","IVOXI","P699","OXARI","M430","TOSNA"],"OMFJ-TUMAK":["SERSA","L519","IVOXI","M557","TUMAK"],"OMRK-ALPOB":["PUVAL","L519","IVOXI","N571","ALPOB"],"OMRK-GABKO":["ASNEK","R401","GABKO"],"OMRK-GOMTA":["PUVAL","DCT","NADNI","DCT","IVURO","M428","GOMTA"],"OMRK-KATIT":["PUVAL","L519","ATUDO","M318","KATIT"],"OMRK-LALDO":["PUVAL","DCT","NADNI","DCT","IVURO","M677","LALDO"],"OMRK-MEMTU":["PUVAL","DCT","RUKOR","DCT","ANVIX","R401","GIDIS","G783-","UKRAG","L710","MEMTU"],"OMRK-ORMID":["PUVAL","L519","IVOXI","N571","TUDIS","P699","ORMID"],"OMRK-PEKEM":["PUVAL","DCT","RUKOR","DCT","ANVIX","R401","GIDIS","G783-","RIGIL","M628-","PEKEM"],"OMRK-RIBOT":["PUVAL","L519","ATUDO","M318","GOLGU","M550","RIBOT"],"OMRK-TANSU":["PUVAL","DCT","RUKOR","DCT","ANVIX","R401","GIDIS","G783-","TANSU"],"OMRK-TARDI":["PUVAL","DCT","RUKOR","DCT","ANVIX","L223","TARDI"],"OMRK-TOSNA":["PUVAL","L519","IVOXI","P699","OXARI","M430","TOSNA"],"OMRK-TUMAK":["PUVAL","L519","IVOXI","M557","TUMAK"],"ASTOG-OMDB":["ENANO","L305","ITBUL","M677","VUTEB"],"ASTOG-OMDW":["ENANO","L305","KIVUS","P559","AMBOV","Q322","DATOB"],"ASTOG-OMFJ":["ENANO","L305","EMOTA","R784","KUSEN"],"ASTOG-OMRK":["ENANO","L305","EMOTA","R784","ALSIL"],"ASTOG-OMSJ":["ENANO","L305","EMOTA","R784","GONVI"],"BUNDU-OMAA":["BUNDU","B415","UKILI"],"BUNDU-OMAD":["BUNDU","B415","EGPOG","Q666","GIDOB"],"BUNDU-OMAL":["BUNDU","B415","EGPOG","Q666","GIDOB","DCT","ADV","DCT","KANIP"],"ITRAX-OMAA,AD":["ITRAX","P899","ROVOS"],"ITRAX-OMAL":["ITRAX","DCT","VAVIM"],"KATIT-OMAA,AD":["KATIT","M318","ATUDO"],"KATIT-OMAL":["KATIT","M318","ATUDO","DCT","ADV","DCT","KANIP"],"KATIT-OMDB":["KATIT","M318","RURAL","Q317","LORID"],"KATIT-OMDW":["KATIT","M318","RURAL","Q317","LORID"],"KATIT-OMRK":["KATIT","M318","RURAL","Q317","LORID","DCT","TOVIV","DCT","ALSIL"],"KATIT-OMSJ":["KATIT","M318","RURAL","Q317","LORID"],"KUPRO-OMAA":["KUPRO","N300","KAXOB","Q415","UKILI"],"KUPRO-OMAD":["KUPRO","N300","GIDOB"],"KUPRO-OMAL":["KUPRO","N300","GIDOB","DCT","ADV","DCT","KANIP"],"MENSA-OMFJ":["MENSA","T509","FJV"],"MENSA-OMRK":["MENSA","N317","NADNI"],"MENSA-OMSJ":["MENSA","N317","NOLSU"],"MUSAP-OMDB":["MUSAP","R401","PEDOG","Q308","KIPOK","Q568","IMPED"],"MUSAP-OMDW":["MUSAP","R401","GIDIS"],"MUSAP-OMFJ":["MUSAP","R401","PEDOG","Q308","RUDAT"],"MUSAP-OMRK":["MUSAP","R401","PEDOG","Q308","ORKOB","T891","NOLSU","N317","NADNI"],"MUSAP-OMSJ":["MUSAP","R401","PEDOG","Q308","ORKOB","T891","NOLSU"],"NALPO-OMDB":["TOMSO","P559","VUTEB"],"NALPO-OMDW":["TOMSO","P559","AMBOV","Q322","DATOB"],"NALPO-OMDW*":["TOMSO","P559","KIVUS","G666","ELOVU"],"NALPO-OMFJ":["TOMSO","P559","KIVUS","L305","EMOTA","R784","KUSEN"],"NALPO-OMRK":["TOMSO","P559","KIVUS","L305","EMOTA","R784","ALSIL"],"NALPO-OMSJ":["TOMSO","P559","KIVUS","L305","EMOTA","R784","GONVI"],"OBNET-OMDB":["DEGSO","M677","VUTEB"],"OBNET-OMDW":["DEGSO","M677","ITBUL","Q322","DATOB"],"OBNET-OMDW*":["DEGSO","M677","LUDAM","G666","ELOVU"],"OBNET-OMFJ":["DEGSO","M677","ITBUL","L305","EMOTA","R784","KUSEN"],"OBNET-OMRK":["DEGSO","M677","ITBUL","L305","EMOTA","R784","ALSIL"],"OBNET-OMSJ":["DEGSO","M677","ITBUL","L305","EMOTA","R784","GONVI"],"ORSAR-OMAA":["ORSAR","DCT","UKILI"],"ORSAR-OMAA,AD*":["ORSAR","G666","ELOVU"],"ORSAR-OMAA,AD":["ORSAR","R784","TATLA","L223","VUTEB","Q569","OBREV","Q311","EMERU"],"ORSAR-OMAD":["ORSAR","DCT","GIDOB"],"ORSAR-OMAL":["ORSAR","R784","TATLA","L223","VUTEB","Q569","OBREV","Q311","TONKI","DCT","KANIP"],"ORSAR-OMDB":["ORSAR","R784","TATLA","L223","VUTEB"],"ORSAR-OMDW*":["ORSAR","G666","ELOVU"],"ORSAR-OMDW":["ORSAR","R784","GONVI"],"ORSAR-OMFJ":["ORSAR","R784","KUSEN"],"ORSAR-OMRK":["ORSAR","R784","ALSIL"],"ORSAR-OMSJ":["ORSAR","R784","GONVI"],"OVONA-OMAA":["RESAR","N318","KAPUM","Z522","ALNEV","Q415","UKILI"],"OVONA-OMAD":["RESAR","N318","KAPUM","N685","GIDOB"],"OVONA-OMAL":["RESAR","N318","KAPUM","N685","GIDOB","DCT","ADV","DCT","KANIP"],"PASOV-OMDB":["PASOV","B540","MIVEK","P574","IMPED"],"PASOV-OMDW":["PASOV","M564","UMAMI"],"PASOV-OMRK":["PASOV","B540","ORKOB","T891","NOLSU","N317","NADNI"],"PASOV-OMSJ":["PASOV","B540","ORKOB","T891","NOLSU"],"PATAT-OMAA,AD":["PATAT","L519","IVOXI","Q311","EMERU"],"PATAT-OMAL":["PATAT","L519","IVOXI","Q311","TONKI","DCT","KANIP"],"PATAT-OMDB,SJ,DW":["PATAT","L519","PUVAL"],"PATAT-OMFJ":["PATAT","L519","EGPEP","DCT","EMOPI","R784","KUSEN"],"PATAT-OMRK":["PATAT","L519","EGPEP"],"PEKEM-OMAA,AD":["PEKEM","M628","RIGIL","G783","VAVIM","P899","ROVOS"],"PEKEM-OMAL":["PEKEM","M628","RIGIL","G783","VAVIM"],"PEKEM-OMDB":["PEKEM","M628","RIGIL","G783","ASPED","Q308","KIPOK","Q568","IMPED"],"PEKEM-OMDW":["PEKEM","M628","RIGIL","G783","ASPED","Q308","PEDOG","R401","GIDIS"],"PEKEM-OMFJ":["PEKEM","M628","RIGIL","G783","ASPED","Q308","RUDAT"],"PEKEM-OMRK":["PEKEM","M628","RIGIL","G783","ASPED","Q308","ORKOB","T891","NOLSU","N317","NADNI"],"PEKEM-OMSJ":["PEKEM","M628","RIGIL","G783","ASPED","Q308","ORKOB","T891","NOLSU"],"RIBOT-OMAA,AD":["RIBOT","M550","GOLGU","M318","ATUDO"],"RIBOT-OMAL":["RIBOT","M550","GOLGU","M318","ATUDO","DCT","ADV","DCT","KANIP"],"RIBOT-OMDB,SJ":["RIBOT","M550","GOLGU","M318","RURAL","Q317","LORID"],"RIBOT-OMDW":["RIBOT","M550","GOLGU","M318","RURAL","Q317","LORID"],"RIBOT-OMRK":["RIBOT","M550","GOLGU","M318","RURAL","Q317","LORID","DCT","TOVIV","DCT","ALSIL"],"SODEX-OMAA,AD":["SODEX","N563","NOBTO"],"SODEX-OMAL":["SODEX","N563","ELUDA","G783","VAVIM"],"SOLUD-OMDB":["SOLUD","P574","GISMO","P574","IMPED"],"TANSU-OMAA,AD":["TANSU","G783","VAVIM","P899","ROVOS"],"TANSU-OMAL":["TANSU","G783","VAVIM"],"TANSU-OMDB":["TANSU","G783","ASPED","Q308","KIPOK","Q568","IMPED"],"TANSU-OMDW":["TANSU","G783","ASPED","Q308","PEDOG","R401","GIDIS"],"TANSU-OMFJ":["TANSU","G783","ASPED","Q308","RUDAT"],"TANSU-OMRK":["TANSU","G783","ASPED","Q308","ORKOB","T891","NOLSU","N317","NADNI"],"TANSU-OMSJ":["TANSU","G783","ASPED","Q308","ORKOB","T891","NOLSU"],"TAPRA-OMDB":["TAPRA","M762","MIVEK","P574","IMPED"],"TAPRA-OMDW":["TAPRA","M762","VAXAS","M564","UMAMI"],"TOSNA-OMAA":["ORSIS","N685","UMEVU","Q415","UKILI"],"TOSNA-OMAD":["ORSIS","N685","GIDOB"],"TOSNA-OMAL":["ORSIS","N685","GIDOB","DCT","ADV","DCT","KANIP"],"VAXAS-OMDB":["VAXAS","M762","MIVEK","P574","IMPED"],"VAXAS-OMDW":["VAXAS","M564","UMAMI"],"VAXAS-OMRK":["VAXAS","M762","RUDAT","Q308","ORKOB","T891","NOLSU","N317","NADNI"],"VAXAS-OMSJ":["VAXAS","M762","RUDAT","Q308","ORKOB","T891","NOLSU"],"BUNDU-LABRI-FRA":["BUNDU","DCT","LABRI"],"BUNDU-LABRI*-FRA":["BUNDU","B415","UKILI","DCT","LABRI"],"BUNDU-OMAA-FRA":["BUNDU","DCT","EGPOG","B415","UKILI"],"BUNDU-OMAD-FRA":["BUNDU","DCT","EGPOG","Q666","GIDOB"],"BUNDU-OMAL-FRA":["BUNDU","DCT","EGPOG","Q666","GIDOB","DCT","ADV","DCT","KANIP"],"BUNDU-RETAS-FRA":["BUNDU","DCT","NAPMA","N685","RETAS"],"BUNDU-TONVO-FRA":["BUNDU","DCT","GIDOB","DCT","TONVO"],"BUNDU-TONVO*-FRA":["BUNDU","B415","UKILI","DCT","TONVO"],"GISMO-ALPOB-FRA":["GISMO","DCT","TUDIS","N571","ALPOB"],"GISMO-GABKO-FRA":["GISMO","DCT","GABKO"],"GISMO-KUMUN-FRA":["GISMO","DCT","KUMUN"],"GISMO-ORMID-FRA":["GISMO","DCT","EGTAG","P699","ORMID"],"GISMO-TUMAK-FRA":["GISMO","DCT","MITIX","M557","TUMAK"],"ITRAX-ALPOB-FRA":["ITRAX","DCT","ORBOL","G462","UKUVO","Q563","IMGUX","N563","ALPOB"],"ITRAX-ORMID-FRA":["ITRAX","DCT","ORBOL","G462","UKUVO","Q563","IMGUX","P699","ORMID"],"ITRAX-TOVOX*-FRA":["ITRAX","DCT","UMIBU","P899","TOVOX"],"ITRAX-TOVOX-FRA":["ITRAX","DCT","TOVOX"],"ITRAX-TUMAK-FRA":["ITRAX","DCT","ORBOL","G462","TUMAK"],"KUPRO-LALDO*-FRA":["KUPRO","N300","GIDOB","DCT","LALDO"],"KUPRO-LALDO-FRA":["KUPRO","DCT","GIDOB","DCT","LALDO"],"KUPRO-TONVO-FRA":["KUPRO","DCT","GIDOB","DCT","TONVO"],"KUPRO-TONVO*-FRA":["KUPRO","N300","GIDOB","DCT","TONVO"],"LALDO-ALPOB-FRA":["LALDO","DCT","TUDIS","N571","ALPOB"],"LALDO-ORMID-FRA":["LALDO","DCT","EGTAG","P699","ORMID"],"LALDO-TOSNA-FRA":["LALDO","DCT","EGTAG","Q576","RORON","M430","TOSNA"],"LALDO-TUMAK-FRA":["LALDO","DCT","MITIX","M557","TUMAK"],"MENSA-ALPOB-FRA":["MENSA","DCT","TUDIS","N571","ALPOB"],"MENSA-ORMID-FRA":["MENSA","DCT","EGTAG","P699","ORMID"],"MENSA-TOSNA-FRA":["MENSA","DCT","EGTAG","Q576","RORON","M430","TOSNA"],"MENSA-TUMAK-FRA":["MENSA","DCT","MITIX","M557","TUMAK"],"NALPO-LALDO-FRA":["NALPO","DCT","LALDO"],"NALPO-TARDI-FRA":["NALPO","DCT","LOVEM","DCT","TARDI"],"NALPO-TARDI*-FRA":["NALPO","DCT","LOVEM","DCT","ANVIX","L223","TARDI"],"NALPO-TONVO-FRA":["NALPO","DCT","TONVO"],"OBNET-LALDO-FRA":["OBNET","DCT","TOVIV","DCT","LALDO"],"OBNET-TARDI-FRA":["OBNET","DCT","IVOXI","DCT","TARDI"],"OBNET-TARDI*-FRA":["OBNET","DCT","IVOXI","DCT","ANVIX","L223","TARDI"],"OBNET-TONVO-FRA":["OBNET","DCT","TONVO"],"ORSAR-LALDO-FRA":["ORSAR","DCT","GIBIB","DCT","TOVIV","DCT","LALDO"],"ORSAR-TARDI-FRA":["ORSAR","DCT","LAGTA","DCT","TARDI"],"ORSAR-TARDI*-FRA":["ORSAR","DCT","LAGTA","DCT","ANVIX","L223","TARDI"],"ORSAR-TONVO-FRA":["ORSAR","DCT","GIBIB","DCT","TONVO"],"OVONA-LABRI-FRA":["OVONA","DCT","KAPUM","DCT","LABRI"],"OVONA-RETAS-FRA":["OVONA","DCT","NAPMA","N685","RETAS"],"PATAT-ALPOB-FRA":["PATAT","DCT","TUDIS","N571","ALPOB"],"PATAT-OMAA ,AD-FRA":["PATAT","DCT","ITLAP","L519","IVOXI","Q311","EMERU"],"PATAT-OMAL-FRA":["PATAT","DCT","ITLAP","L519","IVOXI","Q311","TONKI","DCT","KANIP"],"PATAT-ORMID-FRA":["PATAT","DCT","EGTAG","P699","ORMID"],"PATAT-TARDI-FRA":["PATAT","DCT","TARDI"],"PATAT-TARDI*-FRA":["PATAT","DCT","ANVIX","L223","TARDI"],"PATAT-TOSNA-FRA":["PATAT","DCT","EGTAG","Q576","RORON","M430","TOSNA"],"PATAT-TUMAK-FRA":["PATAT","DCT","MITIX","M557","TUMAK"],"SIR-LALDO-FRA":["SIR","DCT","TATLA","DCT","TOVIV","DCT","LALDO"],"SIR-TARDI-FRA":["SIR","DCT","TARDI"],"SIR-TARDI*-FRA":["SIR","DCT","ANVIX","L223","TARDI"],"SIR-TONVO-FRA":["SIR","DCT","TATLA","DCT","TONVO"],"SODEX-ALPOB-FRA":["SODEX","DCT","BOSEV","N563","ALPOB"],"SODEX-ORMID-FRA":["SODEX","DCT","BOSEV","N563","IMGUX","P699","ORMID"],"SODEX-TOVOX-FRA":["SODEX","DCT","UMIBU","DCT","TOVOX"],"SODEX-TOVOX*-FRA":["SODEX","DCT","UMIBU","P899","TOVOX"],"SODEX-TUMAK-FRA":["SODEX","DCT","BOSEV","Q565","UKUVO","G462","TUMAK"],"TOSNA-LABRI-FRA":["ORSIS","N685","TOSNA","DCT","LABRI"],"TOSNA-RETAS-FRA":["ORSIS","N685","TOSNA","DCT","NAPMA","N685","RETAS"]},We={"BUNDU-LABRI":["S","B"],"BUNDU-RETAS":["S","B"],"BUNDU-TONVO":["S","M"],"ITRAX-ALPOB":["B","S","C"],"ITRAX-ALPOB":["B","S","C"],"ITRAX-ORMID*":["B","S","C"],"ITRAX-ORMID":["B","S","C"],"ITRAX-TOVOX":["B","S","C"],"ITRAX-TUMAK":["B","S","C"],"ITRAX-TUMAK*":["B","S","C"],"KUPRO-GABKO":["S","M"],"KUPRO-LALDO*":["S","G","D","H","R"],"KUPRO-LALDO":["S","M"],"KUPRO-TONVO":["S","M"],"LALDO-ALPOB":["M","C"],"LALDO-ORMID":["M","C"],"LALDO-TOSNA":["M","C"],"LALDO-TUMAK":["M","C"],"LUDID-PEKEM":["L"],"LUDID-TANSU":["L"],"MENSA-ALPOB":["M","C"],"MENSA-KUMUN":["M"],"MENSA-ORMID":["M","C"],"MENSA-TOSNA":["M","C"],"MENSA-TUMAK":["M","C"],"MUSAP-KUMUN":["M"],"NALPO-GABKO":["N","M"],"NALPO-LALDO":["N","M"],"NALPO-TARDI":["N","M"],"NALPO-TONVO":["N","M"],"OBNET-GABKO":["N","M"],"OBNET-LALDO":["N","M"],"OBNET-TARDI":["N","M"],"OBNET-TONVO":["N","M"],"ORSAR-LALDO":["N","M"],"ORSAR-TARDI":["N","M"],"ORSAR-TONVO":["N","M"],"OVONA-LABRI":["S","B"],"OVONA-RETAS":["S","B"],"PATAT-ALPOB":["M","C"],"PATAT-ORMID":["M","C"],"PATAT-TARDI":["M"],"PATAT-TOSNA":["M","C"],"PATAT-TUMAK":["M","C"],"PEKEM-GABKO":["L","B","M"],"SIR-LALDO":["N","M"],"SIR-TARDI":["N","M"],"SIR-TONVO":["N","M"],"SODEX-ALPOB":["B","S","C"],"SODEX-ORMID":["B","S","C"],"SODEX-TOVOX":["B","S"],"SODEX-TUMAK":["B","S","C"],"SOLUD-ALPOB":["M","C"],"SOLUD-GABKO":["M"],"SOLUD-KUMUN":["M"],"SOLUD-ORMID":["M","C"],"SOLUD-TUMAK":["M","C"],"TANSU-GABKO":["L","B","M"],"TOSNA-LABRI":["S","B"],"TOSNA-RETAS":["S","B"],"OMAA,AD-ALPOB":["D","C"],"OMAA,AD-GABKO":["H","M"],"OMAA,AD-KATIT":["H","L"],"OMAA,AD-KUMUN":["H","M"],"OMAA,AD-LABRI":["A"],"OMAA,AD-ORMID":["D","C"],"OMAA,AD-ORSAR":["D","W"],"OMAA,AD-PEKEM":["A","L"],"OMAA,AD-RETAS":["A"],"OMAA,AD-RIBOT":["L"],"OMAA,AD-TANSU":["A","L"],"OMAA,AD-TOVOX":["G","S"],"OMAA,AD-TUMAK":["D","C"],"OMAL-ALPOB":["H","D","C"],"OMAL-GABKO":["H","M"],"OMAL-KATIT":["L"],"OMAL-KUMUN":["H","M"],"OMAL-ORMID":["H","D","C"],"OMAL-PEKEM":["A","L"],"OMAL-RIBOT":["L"],"OMAL-TANSU":["A","L"],"OMAL-TOVOX":["H","G","S"],"OMAL-TUMAK":["H","D","C"],"OMDB,DW,SJ-ALPOB":["D","C"],"OMDB,SJ-GABKO":["R"],"OMDB,DW,SJ-KATIT":["H","L"],"OMDB,DW,SJ-MEMTU":["E","A","L"],"OMDB,DW,SJ-ORMID":["D","C"],"OMDB,DW,SJ-ORSAR":["D","W"],"OMDB,DW,SJ-PEKEM":["E","A","L"],"OMDB,DW,SJ-RIBOT":["H","L"],"OMDB,DW,SJ-TANSU":["E","A","L"],"OMDB,DW,SJ-TARDI":["E"],"OMDB,DW,SJ-TOSNA*":["D","C"],"OMDB,DW,SJ-TOSNA":["D","C"],"OMDB,DW,SJ-TUMAK":["D","C"],"OMDB,SJ-GOMTA":["R"],"OMDB,SJ-LALDO":["R"],"OMDW-GABKO":["H","R"],"OMDW-GOMTA":["R"],"OMDW-LALDO":["R"],"OMFJ-ALPOB":["R","H","D","C"],"OMFJ-GABKO":["R"],"OMFJ-KATIT":["H","L"],"OMFJ-ORMID":["R","H","D","C"],"OMFJ-PEKEM":["E","A","L"],"OMFJ-RIBOT":["H","L"],"OMFJ-TANSU":["E","A","L"],"OMFJ-TONVO":["R"],"OMFJ-TOSNA":["R","H","D","C"],"OMFJ-TUMAK":["H","D","C"],"OMRK-ALPOB":["R","H","D","C"],"OMRK-GABKO":["R"],"OMRK-GOMTA":["R"],"OMRK-KATIT":["H","L"],"OMRK-LALDO":["R"],"OMRK-MEMTU":["E","A","L"],"OMRK-ORMID":["H","D","C"],"OMRK-PEKEM":["H","L"],"OMRK-RIBOT":["H","L"],"OMRK-TANSU":["E","A","L"],"OMRK-TARDI":["E"],"OMRK-TOSNA":["H","D","C"],"OMRK-TUMAK":["H","D","C"],"ASTOG-OMDB":["C","W"],"ASTOG-OMDW":["C","W"],"ASTOG-OMFJ":["C","W"],"ASTOG-OMRK":["C","W"],"ASTOG-OMSJ":["C","W"],"BUNDU-OMAA":["S","G"],"BUNDU-OMAD":["S","G"],"BUNDU-OMAL":["S","G"],"ITRAX-OMAA,AD":["A"],"ITRAX-OMAL":["A"],"KATIT-OMAA,AD":["L"],"KATIT-OMAL":["L"],"KATIT-OMDB":["L","H"],"KATIT-OMDW":["L"],"KATIT-OMRK":["L","H"],"KATIT-OMSJ":["L","H"],"KUPRO-OMAA":["S","G"],"KUPRO-OMAD":["S","G"],"KUPRO-OMAL":["S","G"],"MENSA-OMFJ":["E","Y"],"MENSA-OMRK":["E","Y"],"MENSA-OMSJ":["E","Y"],"MUSAP-OMDB":["E","Y"],"MUSAP-OMDW":["E","Y"],"MUSAP-OMFJ":["E","Y"],"MUSAP-OMRK":["E","Y"],"MUSAP-OMSJ":["E","Y"],"NALPO-OMDB":["N","W"],"NALPO-OMDW":["N","W"],"NALPO-OMDW*":["N","D"],"NALPO-OMFJ":["N","H","R"],"NALPO-OMRK":["N","W"],"NALPO-OMSJ":["N","W"],"OBNET-OMDB":["N","W"],"OBNET-OMDW":["N","W"],"OBNET-OMDW*":["N","D"],"OBNET-OMFJ":["N","H","R"],"OBNET-OMRK":["N","W"],"OBNET-OMSJ":["N","W"],"ORSAR-OMAA":["N","D"],"ORSAR-OMAA,AD*":["N","D"],"ORSAR-OMAA,AD":["N","H"],"ORSAR-OMAD":["N","D"],"ORSAR-OMAL":["N","H"],"ORSAR-OMDB":["N","W"],"ORSAR-OMDW*":["N","D"],"ORSAR-OMDW":["N","W"],"ORSAR-OMFJ":["N","H","R"],"ORSAR-OMRK":["N","W"],"ORSAR-OMSJ":["N","W"],"OVONA-OMAA":["S","G"],"OVONA-OMAD":["S","G"],"OVONA-OMAL":["S","G","H"],"PASOV-OMDB":["E","Y"],"PASOV-OMDW":["E","Y"],"PASOV-OMRK":["E","Y"],"PASOV-OMSJ":["E","Y"],"PATAT-OMAA,AD":["M","H"],"PATAT-OMAL":["M","H"],"PATAT-OMDB,SJ,DW":["R"],"PATAT-OMFJ":["R"],"PATAT-OMRK":["R"],"PEKEM-OMAA,AD":["L","A"],"PEKEM-OMAL":["L","A"],"PEKEM-OMDB":["L","A","E","Y"],"PEKEM-OMDW":["L","A","E","Y"],"PEKEM-OMFJ":["L","A","E","Y"],"PEKEM-OMRK":["L","A","E","Y"],"PEKEM-OMSJ":["L","A","E","Y"],"RIBOT-OMAA,AD":["L"],"RIBOT-OMAL":["L"],"RIBOT-OMDB,SJ":["L","H"],"RIBOT-OMDW":["L"],"RIBOT-OMRK":["L","H"],"SODEX-OMAA,AD":["A"],"SODEX-OMAL":["A"],"SOLUD-OMDB":["E","Y"],"TANSU-OMAA,AD":["L","A"],"TANSU-OMAL":["L","A"],"TANSU-OMDB":["L","A","E","Y"],"TANSU-OMDW":["L","A","E"],"TANSU-OMFJ":["L","A","E","Y"],"TANSU-OMRK":["L","A","E","Y"],"TANSU-OMSJ":["L","A","E","Y"],"TAPRA-OMDB":["E","Y"],"TAPRA-OMDW":["E","Y"],"TOSNA-OMAA":["S","G"],"TOSNA-OMAD":["S","G"],"TOSNA-OMAL":["S","G","H"],"VAXAS-OMDB":["E","Y"],"VAXAS-OMDW":["E","Y"],"VAXAS-OMRK":["E","Y"],"VAXAS-OMSJ":["E","Y"],"BUNDU-LABRI-FRA":["S","B"],"BUNDU-LABRI*-FRA":["S","B"],"BUNDU-OMAA-FRA":["S","G"],"BUNDU-OMAD-FRA":["S","G"],"BUNDU-OMAL-FRA":["S","G"],"BUNDU-RETAS-FRA":["S","B"],"BUNDU-TONVO-FRA":["S","M"],"BUNDU-TONVO*-FRA":["S","M"],"GISMO-ALPOB-FRA":["M","C"],"GISMO-GABKO-FRA":["M"],"GISMO-KUMUN-FRA":["M"],"GISMO-ORMID-FRA":["M","C"],"GISMO-TUMAK-FRA":["M","C"],"ITRAX-ALPOB-FRA":["B","S","C"],"ITRAX-ORMID-FRA":["B","S","C"],"ITRAX-TOVOX*-FRA":["B","S"],"ITRAX-TOVOX-FRA":["B","S"],"ITRAX-TUMAK-FRA":["B","S","C"],"KUPRO-LALDO*-FRA":["S","M"],"KUPRO-LALDO-FRA":["S","M"],"KUPRO-TONVO-FRA":["S","M"],"KUPRO-TONVO*-FRA":["S","M"],"LALDO-ALPOB-FRA":["M","C"],"LALDO-ORMID-FRA":["M","C"],"LALDO-TOSNA-FRA":["M","C"],"LALDO-TUMAK-FRA":["M","C"],"MENSA-ALPOB-FRA":["M","C"],"MENSA-ORMID-FRA":["M","C"],"MENSA-TOSNA-FRA":["M","C"],"MENSA-TUMAK-FRA":["M","C"],"NALPO-LALDO-FRA":["N","M"],"NALPO-TARDI-FRA":["N","M"],"NALPO-TARDI*-FRA":["N","M"],"NALPO-TONVO-FRA":["N","M"],"OBNET-LALDO-FRA":["N","M"],"OBNET-TARDI-FRA":["N","M"],"OBNET-TARDI*-FRA":["N","M"],"OBNET-TONVO-FRA":["N","M"],"ORSAR-LALDO-FRA":["M"],"ORSAR-TARDI-FRA":["M"],"ORSAR-TARDI*-FRA":["M"],"ORSAR-TONVO-FRA":["M"],"OVONA-LABRI-FRA":["S","B"],"OVONA-RETAS-FRA":["S","B"],"PATAT-ALPOB-FRA":["M","C"],"PATAT-OMAA ,AD-FRA":["M","H"],"PATAT-OMAL-FRA":["M","H"],"PATAT-ORMID-FRA":["M","C"],"PATAT-TARDI-FRA":["M"],"PATAT-TARDI*-FRA":["M"],"PATAT-TOSNA-FRA":["M","C"],"PATAT-TUMAK-FRA":["M","C"],"SIR-LALDO-FRA":["N","M"],"SIR-TARDI-FRA":["N","M"],"SIR-TARDI*-FRA":["N","M"],"SIR-TONVO-FRA":["N","M"],"SODEX-ALPOB-FRA":["B","S","C"],"SODEX-ORMID-FRA":["B","S","C"],"SODEX-TOVOX-FRA":["B","S"],"SODEX-TOVOX*-FRA":["B","S"],"SODEX-TUMAK-FRA":["B","S","C"],"TOSNA-LABRI-FRA":["S","B"],"TOSNA-RETAS-FRA":["S","B"]},et={"ASTOG-OMDB":{CFL:"F210 or Below",XFL:"A100"},"ASTOG-OMDW":{CFL:"F210 or Below",XFL:"F160"},"ASTOG-OMFJ":{CFL:"F210 or Below",XFL:"A100"},"ASTOG-OMRK":{CFL:"F210 or Below",XFL:"A100"},"ASTOG-OMSJ":{CFL:"F210 or Below",XFL:"A090"},"BUNDU-OMAA":{CFL:"F350 or Below",XFL:"A120"},"BUNDU-OMAD":{CFL:"F350 or Below",XFL:"A100"},"OMAA,AD-GABKO":{CFL:"F150",XFL:"RFL",REMARKS:"FPL remarks = 'K' (Krachi FIR)"},"BUNDU-LABRI":{CFL:"RFL / F270 if Dep Doha",XFL:"RFL",REMARKS:"Overflying Muscat FIR or with destination other than OOMS/OOMN/OOSH"},"BUNDU-RETAS":{CFL:"RFL / F270 if Dep Doha",XFL:"F600 or Below",REMARKS:"Destinations OOMS/OOMN/OOSH. <br>F330 or below for OOMS/OOMN and F230 for OOSH"},"BUNDU-TONVO":{CFL:"RFL / F270 if Dep Doha",XFL:"RFL",REMARKS:" Available levels over TONVO are F270 and above. <br>Traffic shall cross UKILI F230 or above and GEVIV F270 or above"},"OMAA,AD-TUMAK":{CFL:"F150",XFL:"RFL"},"OMAA,AD-ORMID":{CFL:"F150",XFL:"F260 or Below Cruising",REMARKS:"Destinations: OBBI, OBBS, OBKH, OEDF and OEDR"},"NALPO-OMFJ":{CFL:"F310",XFL:"F100",REMARKS:"N-H: F250, H-R: F190"}},Vt=[{shapeName:"P48 UNL_GND",shapeType:"circle",coords:["243850.46N","0550715.30E"],radiusNm:5,floor:"A000",ceiling:" F600",shapeInfo:"Argoob",type:"Permanent, Military activity extremely hazardous to aircraft"},{shapeName:"P108 FL220_GND",shapeType:"circle",coords:["244041N","0544152E"],radiusNm:3,floor:"A000",ceiling:"F220",shapeInfo:"Tawilah",type:"Permanent, Controlled by Air Operations Center."}],Ft=[{shapeName:"OIR38 12,000Ft_AMSL-GND",shapeType:"circle",coords:["255420N","0543320E"],radiusNm:12,floor:"A000",ceiling:"F120",shapeInfo:"Siri_Island",type:"Permanent"},{shapeName:"R51 FL300_FL155",shapeType:"polygon",coords:[["245630.00N","0551155.00E"],["244755.14N","0554814.67E"],["244303.89N","0554813.77E"],["244044.20N","0554813.34E"],["243500.00N","0554413.00E"],["242923.17N","0554558.61E"],["242437.88N","0554124.58E"],["242943.38N","0551411.55E"],["243429.76N","0551331.68E"],["243335.74N","0550548.57E"],["243447.39N","0550401.23E"],["243824.15N","0550147.31E"],["244009.93N","0550137.10E"],["245630.00N","0551155.00E"]],floor:"F155",ceiling:"F300",shapeInfo:"Minhad_Trng_Area",type:`Activity notified by UAE ACC, When active: Controlled by AL MAKTOUM RADAR,
 Contact 124.025 MHz before entering Military jet training`},{shapeName:"R53 FL155_GND",shapeType:"polygon",coords:[["244134.55N","0551221.09E"],["244030.00N","0551430.00E"],["243453.00N","0552421.00E"],["243500.00N","0552700.00E"],["243500.41N","0553519.70E"],["243500.00N","0554413.00E"],["242324.51N","0554750.88E"],["242534.00N","0553628.00E"],["242804.83N","0552301.05E"],["242943.38N","0551411.55E"],["243429.76N","0551331.68E"],["244134.55N","0551221.09E"]],floor:"A000",ceiling:"F155",shapeInfo:"Minhad_Trng_Area",type:`Activity notified by UAE ACC, When active: Controlled by DUBAI SOUTH RADAR,
 Contact 120.400 MHz before entering Military jet training`},{shapeName:"R67 FL300-9,500Ft_AGL",shapeType:"polygon",coords:[["253530N","0562150E"],["252500N","0562150E"],["252500N","0555958E"],["252800N","0554500E"],["255230N","0560130E"],["255316N","0560729E"],["253549N","0561011E"],["253613N","0561945E"],["253530N","0562150E"]],floor:"A095",ceiling:"F300",shapeInfo:"Ras_Al_Kheimah",type:"Activity notified by UAE ACC, High level military jet training"},{shapeName:"R90 FL185-2,000Ft_AGL",shapeType:"polygon",coords:[["234730N","0552312E"],["234428N","0553023E"],["232332N","0552406E"],["230723N","0551420E"],["234730N","0552312E"]],floor:"A020",ceiling:"F185",shapeInfo:"Burami South",type:"Permanent, Controlled by UAE Air Force"}],Gt=[{shapeName:"D22 FL300_GND",shapeType:"polygon",coords:[["250330N","0541625E"],["251200N","0542210E"],["250713N","0543130E"],["245830N","0542545E"],["250330N","0541625E"]],floor:"A000",ceiling:"F300",shapeInfo:"Sea_Range_Charlie",type:`NOTAM, Air to Air towed target gunnery and Naval gunnery practice,
 Controlled by UAE ACC `},{shapeName:"D24 FL220_GND",shapeType:"polygon",coords:[["243429.76N","0551331.68E"],["242931.08N","0551413.26E"],["242839.42N","0550708.58E"],["243008.88N","0550517.88E"],["243328.80N","0550449.32E"],["243429.76N","0551331.68E"]],floor:"A000",ceiling:"F220",shapeInfo:"Bargat_Al_Hagat",type:"NOTAM - Controlled by AUH APP"}],xt=[{shapeName:"TRNG_A",shapeType:"polygon",coords:[["253026N","0533441E"],["252203N","0532838E"],["250534N","0535616E"],["251355N","0540220E"],["253026N","0533441E"]],floor:"A060",ceiling:"A130",shapeInfo:"13,000ft AMSL - 6,000ft AMSL",type:`Civil Training Flights, Activity notified by UAE ACC,
 When active: Controlled by UAE ACC, Contact: 120.525 Mhz`},{shapeName:"TRNG_B",shapeType:"polygon",coords:[["251341N","0532237E"],["252203N","0532838E"],["250534N","0535616E"],["245711N","0535012E"],["251341N","0532237E"]],floor:"A060",ceiling:"A130",shapeInfo:"13,000ft AMSL - 6,000ft AMSL",type:`Civil Training Flights, Activity notified by UAE ACC,
 When active: Controlled by UAE ACC, Contact: 120.525 Mhz`}],_t=[{shapeName:"OMFJ CTA_I",shapeType:"dynamicShape",closed:!0,steps:[{type:"point",coord:["253605.65N","0562151.39E"]},{type:"arc",center:["250600.00N","0562103.00E"],radiusNm:30,to:["243644.15N","0562847.71E"],clockwise:!0},{type:"line",to:["250600N","0562103E"]},{type:"line",to:["252603.78N","0562135.23E"]},{type:"line",to:["253605.65N","0562151.39E"]}],floor:"A015",ceiling:"A095",shapeInfo:"9,500 FT AMSL / 1,500 FT AMSL",type:"Class: C"},{shapeName:"OMFJ CTA_II",shapeType:"dynamicShape",closed:!0,steps:[{type:"point",coord:["244606.37N","0562357.52E"]},{type:"arc",center:["250600N","0562103E"],radiusNm:20,to:["245420.06N","0560307.82E"],clockwise:!0},{type:"line",to:["251014N","0560656E"]},{type:"line",to:["252300N","0561000E"]},{type:"line",to:["252318.22N","0560952.37E"]},{type:"arc",center:["250600N","0562103E"],radiusNm:20,to:["252603.78N","0562135.23E"],clockwise:!0},{type:"line",to:["250600N","0562103E"]},{type:"line",to:["244606.37N","0562357.52E"]}],floor:"A020",ceiling:"A095",shapeInfo:"9,500 FT AMSL / 2,000 FT AMSL",type:"Class: C"},{shapeName:"OMAA_RADAR CENTRAL",shapeType:"dynamicShape",closed:!0,steps:[{type:"point",coord:["241805N","0542246E"]},{type:"line",to:["242541N","0542730E"]},{type:"line",to:["242506N","0543726E"]},{type:"line",to:["243629N","0544349E"]},{type:"line",to:["244203N","0544656E"]},{type:"line",to:["245302N","0545358E"]},{type:"line",to:["244702N","0550556E"]},{type:"line",to:["244520N","0550450E"]},{type:"line",to:["244011N","0550137E"]},{type:"line",to:["243827N","0550147E"]},{type:"arc",center:["243850N","0550715E"],radiusNm:5,to:["243420N","0550452E"],clockwise:!1},{type:"line",to:["243050N","0550920E"]},{type:"line",to:["243030N","0551000E"]},{type:"line",to:["242803N","0552300E"]},{type:"line",to:["241630N","0552129E"]},{type:"line",to:["235019N","0551800E"]},{type:"line",to:["240000N","0550000E"]},{type:"line",to:["241930N","0543100E"]},{type:"line",to:["241805N","0542246E"]}],floor:"A015",ceiling:"F155",shapeInfo:"FL 155 / 1,500 FT AMSL* Class : C",type:"1,500 FT AMSL / GND Class : G"},{shapeName:"OMAA_RADAR WEST",shapeType:"polygon",coords:[["242800N","0535500E"],["243500N","0535500E"],["244536N","0540032E"],["245800N","0541200E"],["245700N","0542446E"],["245500N","0545000E"],["245302N","0545358E"],["244203N","0544656E"],["243629N","0544349E"],["242506N","0543726E"],["242541N","0542730E"],["241805N","0542246E"],["242424N","0540828E"]],floor:"A015",ceiling:"F155",shapeInfo:"FL 155 / 1,500 FT AMSL* Class : C",type:"1,500 FT AMSL / GND Class : G"},{shapeName:"OMAA_RADAR EAST",shapeType:"polygon",coords:[["243500N","0552700E"],["243500N","0555000E"],["243500N","0560000E"],["243028N","0560525E"],["240000N","0553500E"],["234428N","0553023E"],["234730N","0552312E"],["235019N","0551800E"],["241630N","0552129E"],["242803N","0552300E"]],floor:"A020",ceiling:"A095",shapeInfo:"9,500 FT AMSL / 2,000 FT AMSL Class : C",type:"2,000 FT AMSL / GND Class : G"},{shapeName:"OMDB CTA_X",shapeType:"polygon",coords:[["254135N","0550842E"],["252355N","0545522E"],["252659N","0544348E"],["254453N","0545818E"]],floor:"A015",ceiling:"A085",shapeInfo:"8,500 FT AMSL / 1,500 FT AMSL Class: C",type:"1,500 FT AMSL / GND Class: G"},{shapeName:"OMRK CTA",shapeType:"polygon",coords:[["255800N","0560000E"],["252318N","0560952E"],["252300N","0561000E"],["252000N","0560600E"],["251900N","0555300E"],["252800N","0554500E"],["255500N","0553805E"],["255800N","0560000E"]],floor:"A015",ceiling:"A065",shapeInfo:"6,500 FT AMSL / 1,500 FT AMSL",type:"CLASS: C"}],Xt=[{frqName:"OMDB W / 124.9",condition:"some text",pin:["253710.07N","0545600.46E"]},{frqName:"OMDB E / 124.9",condition:"",pin:["250004.31N","0554157.58E"]},{frqName:"OMDW/SJ-DPN / 124.675",condition:"",pin:["253357.69N","0553321.70E"]},{frqName:"OMDW/DM-DPS / 121.025",condition:"",pin:["250319.37N","0543236.72E"]},{frqName:"OMFJ-APP / 129.4",condition:"",pin:["252519.97N","0562322.07E"]},{frqName:"OMFJ-TWR / 126.6",condition:"",pin:["252128.50N","0562322.07E"]},{frqName:"OMDW/DM-AMR / 124.025",condition:"",pin:["244831.28N","0553133.54E"]},{frqName:"OMRK / 118.25",condition:"",pin:["254324.23N","0555418.12E"]},{frqName:"OMAA-W / 128.1",condition:"",pin:["243553.29N","0540329.76E"]},{frqName:"OBBB-EH / 132.12",condition:"",pin:["260314.07N","0525044.48E"]},{frqName:"OTDF-ANL / 135.725",condition:"some text",pin:["260010.22N","0525046.76E"]},{frqName:"OBBB-EL / 132.85",condition:"F345 and below",pin:["254425.28N","0523420.57E"]},{frqName:"OTDF-ASH /132.975",condition:"",pin:["254050.11N","0523408.00E"]},{frqName:"OTDF-TMN / 121.1",condition:"",pin:["253726.16N","0523355.43E"]},{frqName:"OIIX-5 / 120.3",condition:"",pin:["262103.32N","0553602.55E"]},{frqName:"OIIX-4 / 133.4",condition:"",pin:["261612.39N","0535935.71E"]},{frqName:"OEJD / 120.55",condition:"some text",pin:["224615.29N","0525658.03E"]},{frqName:"OEJD / 132.9-MIGMA",condition:"some text",pin:["224309.82N","0525658.03E"]},{frqName:"OEJD / 134.5-PURDA",condition:"some text",pin:["223952.69N","0525658.03E"]},{frqName:"OTDF-TMS / 120.675",condition:"",pin:["251352.50N","0521308.77E"]},{frqName:"OOMM-C / 124.7",condition:"",pin:["241532.62N","0560145.91E"]},{frqName:"OOMM-N / 119.8",condition:"",pin:["251018.88N","0564104.96E"]}],kt=[{point:"ITLAP",heading:204,leg:6,turn:"Left",outboundHeading:24,limit:"A100 - F180",floor:"A100",ceiling:"F180"},{point:"VUTEB",heading:107,leg:8,turn:"Right",outboundHeading:287,limit:"A100 - F250",floor:"A100",ceiling:"F250"},{point:"IMPED",heading:298,leg:8,turn:"Right",outboundHeading:118,limit:"A100 - F250",floor:"A100",ceiling:"F250"},{point:"ALNEV",heading:117,leg:8,turn:"Right",outboundHeading:297,limit:"A100 - F220",floor:"A100",ceiling:"F220"},{point:"ROVOS",heading:280,leg:7,turn:"Right",outboundHeading:100,limit:"A100 - F150",floor:"A100",ceiling:"F150"}],tt={OMAA_31L:[["242518N","0544001E"],["241909N","0544841E"]],OMAA_31R:[["242632N","0544012E"],["242024N","0544852E"]],OMAA_13L:[["242754N","0543817E"],["243403N","0542938E"]],OMAA_13R:[["242639N","0543806E"],["243248N","0542927E"]],OMAD_31:[["242510N","0542814E"],["241900N","0543651E"]],OMAD_13:[["242614N","0542644E"],["243225N","0541806E"]],OMAL_19:[["241647N","0553642E"],["242641N","0553807E"]],OMAL_01:[["241438N","0553624E"],["240443N","0553459E"]],OMBY_13:[["241729N","0523416E"],["242414N","0522611E"]],OMBY_31:[["241633.46N","0523522.45E"],["240948N","0524327E"]],OMAS_31:[["250802.32N","0525247.65E"],["250131N","0530110E"]],OMAS_13:[["250834N","0525207E"],["251504N","0524344E"]],OMDB_12L:[["251600N","0552047E"],["252113N","0551122E"]],OMDB_12R:[["251522N","0552129E"],["252035N","0551204E"]],OMDB_30L:[["251407N","0552345E"],["250853N","0553310E"]],OMDB_30R:[["251446N","0552300E"],["250933N","0553225E"]],OMDW_30:[["245310N","0551049E"],["244757N","0552012E"]],OMDW_12:[["245426N","0550831E"],["245938N","0545907E"]],OMSJ_30:[["251914N","0553208E"],["251352N","0554127E"]],OMSJ_12:[["252025N","0553006E"],["252547N","0552046E"]],OMRK_16:[["253747N","0555602E"],["254726N","0555308E"]],OMRK_34:[["253549N","0555638E"],["252610N","0555931E"]],OMFJ_11:[["250707N","0561825E"],["251056N","0560813E"]],OMFJ_29:[["250620N","0562029E"],["250230N","0563040E"]],SIR_12:[["255458N","0543145E"],["260054N","0542248E"]],SIR_30:[["255411N","0543258E"],["254815N","0544154E"]],KIS_27R:[["263136N","0535957E"],["263045N","0541105E"]],KIS_09L:[["263146N","0535746E"],["263237N","0534638E"]],MCT_08R:[["233531N","0581618E"],["233439N","0580526E"]],MCT_26L:[["233542N","0581824E"],["233633N","0582916E"]],OOSH_15:[["242409N","0563702E"],["243312N","0563223E"]],OOSH_33:[["242211N","0563802E"],["241308N","0564241E"]],BND_12L:[["271357N","0562315E"],["272248N","0562828E"]],BNE_03R:[["271211N","0562213E"],["270320N","0561701E"]],QSM_23:[["264601N","0555507E"],["265232N","0560337E"]],QSM_05:[["264432N","0555310E"],["263802N","0554441E"]],DOH_16L:[["251746N","0513632E"],["252703N","0513226E"]],DOH_34R:[["251520N","0513736E"],["250603N","0514142E"]],DOH_16R:[["251728N","0513523E"],["252645N","0513118E"]],DOH_34L:[["251519N","0513619E"],["250602N","0514024E"]],BAH_12L:[["261644N","0503710E"],["262209N","0502748E"]],BAH_30R:[["261546N","0503852E"],["261021N","0504814E"]]},Ie={AA820:["243127.2N","0543121.3E"],AA824:["244605.8N","0543435.8E"],AA827:["243315.8N","0544907.3E"],AA834:["242200.0N","0545443.3E"],AA836:["242407.5N","0545441.5E"],AA839:["241526.5N","0545353.1E"],AA842:["242419.6N","0545020.0E"],AD814:["241441.8N","0544331.1E"],AD813:["241321.4N","0545204.0E"],EGSUP:["242155.0N","0542139.3E"],IMTUP:["241922.3N","0550345.3E"],ITKOV:["241718.3N","0545116.3E"],ITLIV:["244505.3N","0544921.7E"],ITREN:["241222.8N","0545810.1E"],KUVIN:["243940.1N","0542635.7E"],LONUP:["243608.8N","0544604.3E"],MURSU:["244820.3N","0544011.6E"],MUSUL:["244047.8N","0541503.0E"],OBMUK:["244403.1N","0542930.4E"],OBTOL:["243621.9N","0542424.4E"],PATAM:["242947.6N","0545531.7E"],PEGEB:["241921.4N","0545718.3E"],RABDU:["242407.0N","0543845.9E"],RUKOS:["242324.7N","0543018.8E"],UKPAP:["243701.8N","0545236.8E"],ULALA:["242432.4N","0545119.9E"],VEGIR:["241148.3N","0544636.4E"]},ue={STARA_13:[["AA836","A030"],["PATAM","A060"],["UKPAP","A090"],["ITLIV","A120"],["MURSU","A150"],["DAXIB","A150"]],DAXIB_AD_13:[["AD814",""],["AD813",""],["VEGIR",""],["RUKOS",""],["EGSUP",""],["MUSUL",""],["DAXIB",""]],BOSEV_AA_13:[["ULALA",""],["AA834",""],["ITKOV",""],["VEGIR",""],["RUKOS",""],["EGSUP",""],["MUSUL",""],["BOSEV",""]],TULON_AA_13:[["AA836",""],["PATAM",""],["UKPAP",""],["ITLIV",""],["TULON",""]],KANIP_AA_13:[["ITKOV",""],["AA839",""],["ITREN",""],["KANIP",""]],ATUDO_AA_13:[["ITKOV",""],["AA839",""],["PEGEB",""],["AA842",""],["RABDU",""],["ATUDO",""]],KANIP_AA_31:[["AA820",""],["OBTOL",""],["KUVIN",""],["OBMUK",""],["AA824",""],["MURSU",""],["ITLIV",""],["LONUP",""],["AA827",""],["IMTUP",""],["KANIP",""]]},Ve={OUT:["ORMID","ALPOB","TUMAK","GABKO","GOMTA","TONVO","TARDI","LABRI","RETAS","MEMTU","KUMUN","TOVOX"],IN:["ORSAR","SIR","PATAT","MENSA","PASOV","SOLUD","TAPRA","MUSAP","ITRAX","SODEX","BUNDU","KUPRO","LUDID","ASTOG","OVONA","NALPO","OBNET"],BI:["LALDO","RIBOT","TANSU","PEKEM","MUXIT","RIBOT","TOSNA"],ST:["UKILI","VUTEB","PUVAL","IMPED","EMERU","ROVOS","NOBTO","ATUDO","LORID","GONVI","DATOB","GIDOB","ELOVU","GERUL","UMAMI","NOLSU","GIDIS","KANIP"]};Object.entries(Ve).forEach(([o,t])=>{t.forEach(e=>{Ve[e]=o})});const ze={IN:"#c95e85",OUT:"#51a9e4",BI:"#c4aa4b",ST:"#61a386"};class Ht{fixLayer=null;fixNameLayer=null;constructor(){this.map=null,this._baseMapVisible=!1,this._baseMapLayer=null,this._theme={airwaysOff:"#848787",airwaysOn:"#576C7D",runwaysOff:"#00ADD6",runwaysOn:"black",boundaryOff:"#B3B386",boundaryOn:"#7D4575"},this._airwayColor=this._theme.airwaysOff,this._runwayColor=this._theme.runwaysOff,this._boundaryColor=this._theme.boundaryOff,this.layers={airspace:L.layerGroup(),sectors:L.layerGroup(),airways:L.layerGroup(),runways:L.layerGroup(),fixes:L.layerGroup(),fixNames:L.layerGroup(),routes:L.layerGroup(),airwayHighlights:L.layerGroup(),airwayLabels:L.layerGroup(),airwayPickHighlights:L.layerGroup(),holdings:L.layerGroup(),freq:L.layerGroup(),areasCTA:L.layerGroup(),areasTraining:L.layerGroup(),areasRestricted:L.layerGroup(),areasDanger:L.layerGroup(),areasProhibited:L.layerGroup(),sids:L.layerGroup()},this._airwaysDrawn=!1,this._awyLabelsBuilt=!1,this._awyLabelsVisible=!1,this._activeHighlightedAirways=new Map,this._airwayColorIndex=0,this._airwayColors=["#F7663F","#3DA0F1","#52E747","#FBD329","#7373F1","#17F5CB","#F79E3F","#93C3C7","#C2E747","#CD29FB"]}invalidateSize(){this.map?.invalidateSize?.()}_fixNameScaleCfg={baseZoom:8,basePx:9,minPx:9,maxPx:18,pxPerZoom:1.8};_clamp(t,e,i){return Math.max(e,Math.min(i,t))}_applyFixNameScale(){if(!this.map)return;const t=this.map.getZoom(),e=this._fixNameScaleCfg,i=this._clamp(e.basePx+(t-e.baseZoom)*e.pxPerZoom,e.minPx,e.maxPx);document.querySelectorAll(".fix-label div").forEach(r=>{r.style.fontSize=`${i}px`,r.style.lineHeight="1"}),document.querySelectorAll(".leaflet-tooltip.airway-name-tooltip").forEach(r=>{r.style.fontSize=`${i}px`,r.style.lineHeight="1"}),document.querySelectorAll(".leaflet-tooltip.airway-label").forEach(r=>{r.style.fontSize=`${i}px`,r.style.lineHeight="1"})}_applyFixNameColors(){document.querySelectorAll(".fix-label div").forEach(t=>{const e=(t.textContent||"").trim().toUpperCase(),i=Ve[e];i&&ze[i]?t.style.color=ze[i]:t.style.color=""})}_hookFixNameAutoScale(){this.map&&(this._applyFixNameScale(),this.map.on("zoomend",()=>this._applyFixNameScale()))}init(t){this.map=L.map(t,{zoomControl:!1,preferCanvas:!0,attributionControl:!0,scrollWheelZoom:!0,wheelPxPerZoomLevel:150,zoomSnap:.25,zoomDelta:.25,doubleClickZoom:!1}).setView([24.5,54.3],8.37),this.map.createPane("airwayLabelPane"),this.map.getPane("airwayLabelPane").style.zIndex="550",this.map.getPane("airwayLabelPane").style.pointerEvents="none",this._baseMapLayer||(this._baseMapLayer=L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{attribution:' <a href="https://www.esri.com/">Esri</a>,  Map data from <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, and the GIS User Community',maxZoom:19,opacity:.65}));const e=this.map.getContainer?.();e&&(e.classList.add("basemap-off"),e.classList.remove("basemap-on")),this.fixLayer=this.layers.fixes,this.fixNameLayer=this.layers.fixNames,setTimeout(()=>this.map.invalidateSize(),200),Object.values(this.layers).forEach(i=>i.addTo(this.map)),this._buildAirwayLabelsOnce(),this._hookFixNameAutoScale()}setBaseMapVisible(t){const e=!!t;if(this._baseMapVisible=e,!this.map)return;e?(this._baseMapLayer&&!this.map.hasLayer(this._baseMapLayer)&&this._baseMapLayer.addTo(this.map),this._airwayColor=this._theme.airwaysOn,this._runwayColor=this._theme.runwaysOn,this._boundaryColor=this._theme.boundaryOn):(this._baseMapLayer&&this.map.hasLayer(this._baseMapLayer)&&this.map.removeLayer(this._baseMapLayer),this._airwayColor=this._theme.airwaysOff,this._runwayColor=this._theme.runwaysOff,this._boundaryColor=this._theme.boundaryOff);const i=this.map.getContainer?.();i&&(i.classList.toggle("basemap-on",e),i.classList.toggle("basemap-off",!e)),this.layers.airways?.eachLayer?.(r=>r?.setStyle?.({color:this._airwayColor})),this.layers.runways?.eachLayer?.(r=>r?.setStyle?.({color:this._runwayColor})),this.layers.airspace?.eachLayer?.(r=>r?.setStyle?.({color:this._boundaryColor})),this._applyFixNameColors()}drawRunways({show:t=!0}={}){if(!(!this.map||!this.layers.runways)&&(this.layers.runways.clearLayers(),!!t))for(const[e,i]of Object.entries(tt||{})){if(!Array.isArray(i)||i.length<2)continue;const r=i.map(s=>{const l=v(s?.[0]),A=v(s?.[1]);return l==null||A==null?null:[l,A]}).filter(Boolean);if(r.length<2)continue;const a=L.polyline(r,{color:this._runwayColor,weight:1,dashArray:"4 2",opacity:.8});a.bindTooltip(String(e),{direction:"center",className:"runway-hover-label"}),a.addTo(this.layers.runways)}}clearHoldings(){this.layers.holdings?.clearLayers?.()}drawHoldingsFromLibrary(t=[],{show:e=!0}={}){if(!this.map||!this.layers.holdings||(this.layers.holdings.clearLayers(),!e))return;const i=r=>`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" style="transform: rotate(${r}deg); fill: yellow;"><path d="M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"/></svg>`;for(const r of t||[]){const a=r?.point,s=Number(r?.heading);if(!a||!Number.isFinite(s))continue;const l=$?.[a];if(!l){console.warn("Holding fix not found in extraPoints:",a);continue}const A=v(l[0]),u=v(l[1]);if(A==null||u==null)continue;const O=Xe({lat:A,lon:u,inboundHeadingDeg:s,legLengthNm:Number(r?.leg)||10,turn:r?.turn||"Right",turnRadiusNm:2});if(!O)continue;const N=O.path.map(g=>[g.lat,g.lon]);L.polyline(N,{color:"red",weight:2,dashArray:"6 4"}).addTo(this.layers.holdings);const E=r?.limit||"N/A";L.circleMarker([O.fix.lat,O.fix.lon],{radius:4,color:"yellow",weight:2,fillColor:"black",fillOpacity:1}).bindTooltip(`<b>${a}</b> - (${O.turn})<br>Inbound: ${O.inboundHeadingDeg}<br>Outbound: ${O.outboundHeadingDeg}<br>Limit: ${E}`,{permanent:!0,direction:"top",offset:[-40,-40],className:"holding-tooltip"}).addTo(this.layers.holdings);const h=L.divIcon({className:"",iconSize:[16,16],iconAnchor:[8,8],html:i(O.outboundHeadingDeg)});L.marker([O.midOutbound.lat,O.midOutbound.lon],{icon:h}).addTo(this.layers.holdings);const T=L.divIcon({className:"",iconSize:[16,16],iconAnchor:[8,8],html:i(O.inboundHeadingDeg)});L.marker([O.midInbound.lat,O.midInbound.lon],{icon:T}).addTo(this.layers.holdings)}}clearFreq(){this.layers.freq?.clearLayers?.()}drawFreqFromLibrary(t=[],{show:e=!0}={}){if(!(!this.map||!this.layers.freq)&&(this.layers.freq.clearLayers(),!!e))for(const i of t||[]){const r=(i?.frqName||"").trim(),a=(i?.condition||"").trim(),s=i?.pin;if(!r||!Array.isArray(s)||s.length<2)continue;const[l,A]=this._dmsToLatLng(s[0],s[1]);if(!Number.isFinite(l)||!Number.isFinite(A))continue;const u=(i?.frqName||"").trim(),O=L.marker([l,A],{pane:"markerPane",icon:L.divIcon({className:"freq-marker",html:`<div class="freq-label">${u}</div>`,iconAnchor:[0,0]}),interactive:!0});a&&O.bindTooltip(`<div class="freq-hover"><div class="freq-hover-title">${r}</div><div class="freq-hover-body">${a}</div></div>`,{direction:"top",offset:[0,-8],opacity:1,sticky:!0,className:"freq-hover-tooltip"}),O.addTo(this.layers.freq)}}destroy(){this.map&&this.map.remove(),this.map=null,this._baseMapVisible=!1,this._baseMapLayer=null,this._theme={airwaysOff:"#848787",airwaysOn:"#576C7D",runwaysOff:"#00ADD6",runwaysOn:"black",boundaryOff:"#B3B386",boundaryOn:"#7D4575"},this._airwayColor=this._theme.airwaysOff,this._runwayColor=this._theme.runwaysOff,this._boundaryColor=this._theme.boundaryOff}setView({lat:t,lon:e,zoom:i}){this.map&&this.map.setView([t,e],i??this.map.getZoom())}flyToBounds(t,e={}){this.map&&this.map.flyToBounds(t,{padding:[60,60],maxZoom:8.75,duration:.6,...e})}flyToBoundsAsync(t,e={}){return this.map?new Promise(i=>{let r=!1;const a=()=>{r||(r=!0,this.map.off("moveend",a),i(!0))};this.map.once("moveend",a),this.map.flyToBounds(t,{padding:[60,60],maxZoom:8.75,duration:.6,...e}),setTimeout(a,Math.max(600,(e.duration??.4)*1e3+200))}):Promise.resolve(!1)}drawAirspaceBoundary(){if(this.layers.airspace.clearLayers(),!Te?.length)return;const t=Te.map(e=>[v(e[0]),v(e[1])]).filter(e=>e[0]!=null&&e[1]!=null);t.length<2||L.polyline([...t,t[0]],{color:this._boundaryColor,weight:1.2,dashArray:"3 4",opacity:.9}).addTo(this.layers.airspace)}drawSectors({colored:t=!0,borderOnly:e=!1,stroke:i=void 0,fill:r=void 0,opacity:a=.12,selectedCodes:s=null}={}){this.layers.sectors.clearLayers();const l=s?new Set(s):null,A=i!==void 0?!!i:!0,u=r!==void 0?!!r:e?!1:!!t;for(const[O,N]of Object.entries(He||{})){if(l&&!l.has(O))continue;const E=N?.coords;if(!E||E.length<3)continue;const h=(()=>{const p=(Te||[]).map(R=>[v(R[0]),v(R[1])]).filter(R=>R[0]!=null&&R[1]!=null);if(!p.length)return null;let M=999,f=-999,S=999,w=-999;for(const[R,V]of p)M=Math.min(M,R),f=Math.max(f,R),S=Math.min(S,V),w=Math.max(w,V);return{minLat:M-1,maxLat:f+1,minLon:S-1,maxLon:w+1}})(),T=[];for(const p of E||[]){const M=v(p?.[0]),f=v(p?.[1]);if(M==null||f==null)continue;const S={lat:M,lon:f},w={lat:f,lon:M},R=G=>h?G.lat>=h.minLat&&G.lat<=h.maxLat&&G.lon>=h.minLon&&G.lon<=h.maxLon:!0,V=R(S)?S:R(w)?w:S;T.push([V.lat,V.lon])}if(T.length<3)continue;const g=N.color||"#6fa7a2";if(L.polygon(T,{color:g,weight:A?.6:0,opacity:A?1:0,stroke:A,fill:u,fillColor:g,fillOpacity:u?a:0,interactive:!1}).addTo(this.layers.sectors),u&&N?.label){const p=ve(N.label);if(p){const M=L.divIcon({className:"sector-label",html:`<div>${O}</div>`,iconSize:[0,0]});L.marker(p,{icon:M,interactive:!1,keyboard:!1,bubblingMouseEvents:!1}).addTo(this.layers.sectors)}}}}drawFixes(t,{showFixes:e=!0,showNames:i=!0}={}){!this.map||!this.fixLayer||!this.fixNameLayer||(this.fixLayer.clearLayers(),this.fixNameLayer.clearLayers())}drawFixTriangle(t,e,i=.05){const r=i,a=i/Math.sqrt(3),s=[t+r/2,e],l=[t-r/2,e-a],A=[t-r/2,e+a];return L.polygon([s,l,A],{color:"#7fd3ff",weight:1,fillColor:"#7fd3ff",fillOpacity:.7,interactive:!1})}async drawFixesFromData(t,e){const{convertDMSToDecimal:i}=await _e(async()=>{const{convertDMSToDecimal:s}=await Promise.resolve().then(()=>ke);return{convertDMSToDecimal:s}},void 0,import.meta.url),r=!!e?.fixes,a=!!e?.fixNames;if(this.fixLayer.clearLayers(),this.fixNameLayer.clearLayers(),!(!r&&!a)){for(const[s,l]of Object.entries(t||{})){const A=i(l?.[0]),u=i(l?.[1]);if(!(A==null||u==null)){if(r){const N=L.divIcon({className:"fix-tri-icon",iconSize:[6.5,6.5],iconAnchor:[3.25,8.5],html:`
          <svg width="${6.5}" height="${6.5}" viewBox="0 0 ${6.5} ${6.5}">
            <polygon points="${3.25},0 ${6.5},${6.5} 0,${6.5}"
              fill="none"
              stroke="rgba(160, 171, 177, 0.59)"
              stroke-width="1"/>
          </svg>
        `});this.fixLayer.addLayer(L.marker([A,u],{icon:N,interactive:!1}))}if(a){const O=L.divIcon({className:"fix-label",html:`<div style="
            white-space: nowrap;
            transform: translate(-5px, -16px); //Fixes name position
            //text-shadow: 0 1px 2px rgba(0,0,0,.6);
          ">${s}</div>`,iconSize:[1,1]}),N=L.marker([A,u],{icon:O,interactive:!1});this.fixNameLayer.addLayer(N)}}}this._applyFixNameScale(),this._applyFixNameColors()}}drawAirways(){if(!this._airwaysDrawn){this._airwaysDrawn=!0,this.layers.airways.clearLayers();for(const[t,e]of Object.entries(se||{})){const i=(e||[]).map(r=>$?.[r]).filter(Boolean).map(r=>[v(r[0]),v(r[1])]).filter(r=>r[0]!=null&&r[1]!=null);i.length>=2&&L.polyline(i,{color:this._airwayColor,weight:1,opacity:.5,interactive:!1}).addTo(this.layers.airways)}}}clearRoute(){this.layers.routes.clearLayers(),this.layers.airwayHighlights.clearLayers()}clearSids(){this.layers.sids?.clearLayers?.()}drawSidLatLngs(t,e={}){return!this.map||!this.layers.sids||!Array.isArray(t)||t.length<2?null:L.polyline(t,{color:e.color||"#FCFBBB",weight:e.weight||1.7,dashArray:e.dashArray||"10 10",opacity:e.opacity??.85,interactive:!1}).addTo(this.layers.sids)}clearAreas(){this.layers.areasCTA?.clearLayers(),this.layers.areasTraining?.clearLayers(),this.layers.areasRestricted?.clearLayers(),this.layers.areasDanger?.clearLayers(),this.layers.areasProhibited?.clearLayers()}_buildAirwayLabelsOnce(){if(this._awyLabelsBuilt||(this._awyLabelsBuilt=!0,!this.map))return;const t=Kt||{};for(const[e,i]of Object.entries(t))(i||[]).forEach(r=>{const a=r?.coord,s=r?.rotate??0,l=r?.arrow??"none",A=ve(a);if(!A)return;const u=L.tooltip({permanent:!0,direction:"center",offset:[0,0],interactive:!0,className:"airway-name-tooltip",pane:"airwayLabelPane"}).setLatLng(A).setContent(`
            <div class="airway-name-inner" style="transform: rotate(${s}deg);">
              ${l==="left"?'<span class="airway-arrow left"></span>':""}
              ${e}
              ${l==="right"?'<span class="airway-arrow right"></span>':""}
            </div>
          `);u.on("click",()=>this._highlightSingleAirway(e)),this.layers.airwayLabels.addLayer(u)})}setAwyLabelsVisible(t){if(this._awyLabelsVisible=!!t,!this.map)return;this._buildAirwayLabelsOnce();const e=this.map.getPane("airwayLabelPane");e&&(e.style.pointerEvents=this._awyLabelsVisible?"auto":"none"),this._awyLabelsVisible?(this.layers.airwayLabels.addTo(this.map),this._applyFixNameScale()):this.map.removeLayer(this.layers.airwayLabels)}_highlightSingleAirway(t){if(!this.map)return;if(this._activeHighlightedAirways.has(t)){this._activeHighlightedAirways.get(t)?.layers?.forEach(l=>this.map.removeLayer(l)),this._activeHighlightedAirways.delete(t);return}const e=se?.[t];if(!e)return;const i=(e||[]).map(s=>$?.[s]).filter(Boolean).map(s=>[v(s[0]),v(s[1])]).filter(s=>s[0]!=null&&s[1]!=null);if(i.length<2)return;const r=this._airwayColors[this._airwayColorIndex%this._airwayColors.length];this._airwayColorIndex++;const a=L.polyline(i,{color:r,weight:2.5,opacity:.6,lineCap:"round",lineJoin:"round",interactive:!1}).addTo(this.layers.airwayPickHighlights);this._activeHighlightedAirways.set(t,{layers:[a],color:r})}drawRouteLatLngs(t,e={}){return t.length<2?null:L.polyline(t,{color:e.color||"#fbc965",weight:e.weight||2.4,opacity:e.opacity??.95}).addTo(this.layers.routes)}highlightAirway(t,e={}){const i=se?.[t];if(!i)return null;const r=i.map(a=>$?.[a]).filter(Boolean).map(a=>[v(a[0]),v(a[1])]).filter(a=>a[0]!=null&&a[1]!=null);return r.length<2?null:L.polyline(r,{color:e.color||"white",weight:e.weight||1.8,dashArray:e.dashArray||"2 8",opacity:e.opacity??.7,interactive:!1}).addTo(this.layers.airwayHighlights)}drawRouteEndTooltips(t,e,i){if(!this.map)return;const r=et?.[t];if(!r)return;const a=this.layers.routes,s=(l,A,u)=>{const O=L.tooltip({className:"route-extra-label",permanent:!0,direction:"top",offset:[0,-20],interactive:!1,opacity:1}).setLatLng([l,A]).setContent(u);return O.addTo(a),O};if(e&&$?.[e]){const l=$[e],A=v(l[0]),u=v(l[1]);A!=null&&u!=null&&s(A,u,`CFL: ${r.CFL||""}`)}if(i&&$?.[i]){const l=$[i],A=v(l[0]),u=v(l[1]);A!=null&&u!=null&&s(A,u,`XFL: ${r.XFL||""}`)}}drawRouteSegmentsAnimated(t,e={}){const i=e.frameDelayMs??50,r=[];this._animFrameId&&(cancelAnimationFrame(this._animFrameId),this._animFrameId=null);const a=this.layers.routes;try{const A=t?.[t.length-1]?.coords||[],u=A[A.length-1];if(u&&typeof window.L<"u"){const O=L.divIcon({className:"arrow-head",iconSize:[11,11],iconAnchor:[8,8],html:"<div></div>"});L.marker([u.lat,u.lon],{icon:O}).addTo(a)}}catch{}const s=(l,A,u)=>{const O=L.tooltip({permanent:!0,direction:"center",className:"airway-label",offset:[0,0],opacity:1,interactive:!1}).setLatLng([l,A]).setContent(`<span style="font-weight:bold;">${u}</span>`);return O.addTo(a),O};return new Promise(l=>{const A=u=>{if(u>=t.length){this._animFrameId=null,r.length?l(L.latLngBounds(r)):l(null);return}const O=t[u],N=O.coords||[];if(N.length<2){this._animFrameId=requestAnimationFrame(()=>A(u+1));return}for(const p of N)r.push([p.lat,p.lon]);const E=L.polyline([],{color:O.color||"#fbc965",weight:3,opacity:.95}).addTo(a);E.addLatLng([N[0].lat,N[0].lon]);let h=0,T=performance.now();const g=p=>{if(h<N.length-1){if(p-T>=i){const M=h;if(h++,E.addLatLng([N[h].lat,N[h].lon]),T=p,O.airway&&M===Math.floor((N.length-1)/2)){const f=N[M],S=N[M+1],w=(f.lat+S.lat)/2,R=(f.lon+S.lon)/2;s(w,R,O.airway)}}this._animFrameId=requestAnimationFrame(g)}else this._animFrameId=requestAnimationFrame(()=>A(u+1))};this._animFrameId=requestAnimationFrame(g)};A(0)})}drawAreasCategory(t,e=[],i="#FFFF66"){const r=this.layers[t];r&&(e||[]).forEach(a=>{let s=null,l=null;switch(a.shapeType){case"circle":{if(!Array.isArray(a.coords)||a.coords.length!==2)return;const A=this._dmsToLatLng(a.coords[0],a.coords[1]);s=L.circle(A,{radius:this._nmToMeters(a.radiusNm),color:i,weight:.8,fill:!0,fillOpacity:.1}).addTo(r),l=A,s.on("click",()=>{window.__AIR?.showAreaDetails?.(a,i)});break}case"polygon":{if(!Array.isArray(a.coords)||a.coords.length<3)return;const A=a.coords.map(([u,O])=>this._dmsToLatLng(u,O));s=L.polygon(A,{color:i,weight:.8,fill:!0,fillOpacity:.1}).addTo(r),l=s.getBounds().getCenter(),s.on("click",()=>{window.__AIR?.showAreaDetails?.(a,i)});break}case"rectangle":{if(!Array.isArray(a.corner1)||!Array.isArray(a.corner2))return;const A=this._dmsToLatLng(a.corner1[0],a.corner1[1]),u=this._dmsToLatLng(a.corner2[0],a.corner2[1]);s=L.rectangle([A,u],{color:i,weight:.8,fill:!0,fillOpacity:.1}).addTo(r),l=s.getBounds().getCenter(),s.on("click",()=>{window.__AIR?.showAreaDetails?.(a,i)});break}case"dynamicShape":{const A=this._expandDynamicShape(a);if(!A||A.length<2)return;s=a.closed?L.polygon(A,{color:i,weight:.8,fillOpacity:.1}):L.polyline(A,{color:i,weight:.8}),s.addTo(r),l=s.getBounds().getCenter(),s.on("click",()=>{window.__AIR?.showAreaDetails?.(a,i)});break}default:return}l&&L.marker(l,{icon:L.divIcon({className:"area-label",html:`<div style="color:${i}; font-weight:bold;">${a.shapeName}</div>`,iconSize:[0,0]}),interactive:!1}).addTo(r)})}_nmToMeters(t){return(Number(t)||0)*1852}_dmsToLatLng(t,e){return[v(t),v(e)]}_expandDynamicShape(t){const e=[];let i=null;for(const r of t.steps||[]){if(r.type==="point"){i=this._dmsToLatLng(r.coord[0],r.coord[1]),e.push(i);continue}if(r.type==="line"){const a=this._dmsToLatLng(r.to[0],r.to[1]);e.push(a),i=a;continue}if(r.type==="arc"){if(!i)continue;const a=this._dmsToLatLng(r.center[0],r.center[1]),s=this._dmsToLatLng(r.to[0],r.to[1]),l=this._arcPoints(a[0],a[1],r.radiusNm,i[0],i[1],s[0],s[1],!!r.clockwise);e.push(...l),i=s;continue}}if(t.closed&&e.length>1){const r=e[0],a=e[e.length-1];(r[0]!==a[0]||r[1]!==a[1])&&e.push(r)}return e}_arcPoints(t,e,i,r,a,s,l,A){const u=[],N=(Number(i)||0)*1852;if(!isFinite(N)||N<=0)return u;const E=6371e3,h=R=>R*Math.PI/180,T=R=>R*180/Math.PI,g=h(t),p=h(e),M=(R,V)=>{const G=h(R),k=h(V)-p,q=Math.sin(k)*Math.cos(G),Z=Math.cos(g)*Math.sin(G)-Math.sin(g)*Math.cos(G)*Math.cos(k);return Math.atan2(q,Z)};let f=M(r,a),S=M(s,l);A&&S<f&&(S+=2*Math.PI),!A&&S>f&&(S-=2*Math.PI);const w=R=>{const V=N/E,G=Math.sin(g),X=Math.cos(g),k=Math.sin(V),q=Math.cos(V),Z=G*q+X*k*Math.cos(R),oe=Math.asin(Z),Ne=Math.sin(R)*k*X,ne=q-G*Z,fe=p+Math.atan2(Ne,ne);return[T(oe),T(fe)]};for(let R=0;R<=48;R++){const V=R/48,G=f+(S-f)*V;u.push(w(G))}return u}setLayerVisible(t,e){const i=this.layers[t];!i||!this.map||(e?i.addTo(this.map):this.map.removeLayer(i))}}class Wt{_fixEntities=[];_fixNameEntities=[];constructor(){this.viewer=null,this._baseImageryLayer=null,this._baseKind="bingAerial",this._baseVisible=!0,this.dsAirspace=null,this.dsSectors=null,this.dsAirways=null,this.dsFixMarks=null,this.dsFixNames=null,this.dsRoutes=null,this.dsAirwayHighlights=null,this.dsHoldings=null,this.dsAreas=null,this.dsRunways=null,this._airwaysDrawn=!1}_ensureCesium(){const t=window.Cesium;return t||(console.error("[Map3DAdapter] Cesium is not loaded yet (window.Cesium is undefined). Check that Cesium.js loads successfully and is not deferred/blocked."),null)}_ensureDataSources(){const t=this._ensureCesium();return t?(this.dsAirspace||(this.dsAirspace=new t.CustomDataSource("airspace")),this.dsSectors||(this.dsSectors=new t.CustomDataSource("sectors")),this.dsAirways||(this.dsAirways=new t.CustomDataSource("airways")),this.dsFixMarks||(this.dsFixMarks=new t.CustomDataSource("fixMarks")),this.dsFixNames||(this.dsFixNames=new t.CustomDataSource("fixNames")),this.dsRoutes||(this.dsRoutes=new t.CustomDataSource("routes")),this.dsAirwayHighlights||(this.dsAirwayHighlights=new t.CustomDataSource("airwayHighlights")),this.dsHoldings||(this.dsHoldings=new t.CustomDataSource("holdings")),this.dsAreas||(this.dsAreas=new t.CustomDataSource("areas")),this.dsRunways||(this.dsRunways=new t.CustomDataSource("runways")),!0):!1}init(t,{cesiumControlsMountEl:e}={}){const i=this._ensureCesium();if(i&&(i.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJhMDViMTZmYS0xZWJhLTRhMDQtYmFhMS1jODVmYzVlZmVjNGEiLCJpZCI6MzkwNjM3LCJpYXQiOjE3NzEwODc4OTB9.hjD9j5QcrDLSy9W5-OdE2AiZ7QLlO5gARb4-Sk9NgQ4",!!this._ensureDataSources())){if(this.viewer=new i.Viewer(t,{sceneMode:i.SceneMode.COLUMBUS_VIEW,animation:!1,timeline:!1,fullscreenButton:!0,geocoder:!1,homeButton:!0,sceneModePicker:!0,navigationHelpButton:!1,baseLayerPicker:!1,terrainProvider:i.createWorldTerrain?i.createWorldTerrain():i.Terrain&&i.Terrain.fromWorldTerrain?i.Terrain.fromWorldTerrain():new i.EllipsoidTerrainProvider,shouldAnimate:!1,infoBox:!0,selectionIndicator:!0}),this._installAttributionBadge(),this._baseMapVisible!==!1?(this.viewer.imageryLayers.removeAll(),i.IonImageryProvider.fromAssetId(2).then(r=>{this.viewer.imageryLayers.addImageryProvider(r)}).catch(()=>{this.viewer.imageryLayers.addImageryProvider(new i.OpenStreetMapImageryProvider({url:"https://tile.openstreetmap.org/"}))})):(this.viewer.imageryLayers.removeAll(),this.viewer.scene?.globe&&(this.viewer.scene.globe.baseColor=i.Color.BLACK)),this.setDefaultView(),this.viewer?.homeButton?.viewModel?.command&&this.viewer.homeButton.viewModel.command.beforeExecute.addEventListener(a=>{a.cancel=!0,this.setDefaultView()}),this.viewer.scene.morphToColumbusView(0),this.viewer.dataSources.add(this.dsAirspace),this.viewer.dataSources.add(this.dsSectors),this.viewer.dataSources.add(this.dsAirways),this.viewer.dataSources.add(this.dsFixMarks),this.viewer.dataSources.add(this.dsFixNames),this.viewer.dataSources.add(this.dsRoutes),this.viewer.dataSources.add(this.dsAirwayHighlights),this.viewer.dataSources.add(this.dsHoldings),this.viewer.dataSources.add(this.dsAreas),this.viewer.dataSources.add(this.dsRunways),e){const r=this.viewer.container.querySelector(".cesium-viewer-toolbar"),a=this.viewer.container.querySelector(".cesium-viewer-geocoderContainer");e.querySelectorAll(".cesium-viewer-toolbar").forEach(l=>l.remove()),a&&a.parentNode&&a.parentNode.removeChild(a),r&&e.appendChild(r),this._baseMapVisible=!0;const s=document.getElementById("toggleMapBtn3D");s&&(s.classList.add("active"),s.addEventListener("click",()=>{this._baseMapVisible=!this._baseMapVisible,this._baseMapVisible?(this.setImagery("osm"),s.classList.add("active")):(this.viewer.imageryLayers.removeAll(),this.viewer.scene.globe.baseColor=i.Color.BLACK,s.style.color="",s.classList.remove("active"))}))}this.viewer.selectedEntityChanged.addEventListener(()=>{const r=document.querySelector(".cesium-infoBox");r&&(r.classList.remove("cesium-infoBox-visible"),r.offsetWidth,r.classList.add("cesium-infoBox-visible"))})}}setImagery(t="osm"){const e=this._ensureCesium();if(!this.viewer||!e)return;const i=this.viewer,r=i.imageryLayers;i.scene&&i.scene.globe&&(i.scene.globe.show=!0);try{r.removeAll()}catch{}let a=null;try{if(t==="esri")a=new e.UrlTemplateImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",credit:" Esri,  OpenStreetMap contributors, and the GIS User Community"});else{e.IonImageryProvider.fromAssetId(2).then(s=>{r.addImageryProvider(s)}).catch(()=>{r.addImageryProvider(new e.UrlTemplateImageryProvider({url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png"}))});return}r.addImageryProvider(a)}catch(s){console.warn("[3D] Failed to set imagery:",t,s)}try{i.scene.requestRender()}catch{}}setTerrainEnabled(t){const e=this._ensureCesium();if(!this.viewer||!e)return;const i=this.viewer;if(!!!t){i.terrainProvider=new e.EllipsoidTerrainProvider;try{i.scene.requestRender()}catch{}return}if(!(e.Ion&&e.Ion.defaultAccessToken?e.Ion.defaultAccessToken:"")){i.terrainProvider=new e.EllipsoidTerrainProvider;try{i.scene.requestRender()}catch{}return}try{i.terrainProvider=e.createWorldTerrain();try{i.scene.requestRender()}catch{}}catch{i.terrainProvider=new e.EllipsoidTerrainProvider}}setLightingEnabled(t){const e=this._ensureCesium();!this.viewer||!e||(this.viewer.scene.globe.enableLighting=!!t)}setFogEnabled(t){const e=this._ensureCesium();!this.viewer||!e||(this.viewer.scene.fog.enabled=!!t)}drawRunways({show:t=!0}={}){const e=this._ensureCesium();if(!this.viewer||!e||!this.dsRunways||(this.dsRunways.entities.removeAll(),this.dsRunways.show=!!t,!t))return;const i=e.Color.fromCssColorString("#00ADD6").withAlpha(.8);for(const[r,a]of Object.entries(tt||{})){if(!Array.isArray(a)||a.length<2)continue;const s=[];for(const u of a){const O=v(u?.[0]),N=v(u?.[1]);O==null||N==null||s.push(N,O)}if(s.length<4)continue;const l=10,A=[];for(let u=0;u<s.length;u+=2)A.push(s[u],s[u+1],l);this.dsRunways.entities.add({name:String(r),polyline:{positions:e.Cartesian3.fromDegreesArrayHeights(A),width:.8,clampToGround:!1,material:new e.PolylineDashMaterialProperty({color:i,dashLength:7})}})}}clearHoldings(){this.dsHoldings?.entities?.removeAll?.()}drawHoldingsFromLibrary(t=[],{show:e=!0,zScale:i=1}={}){const a=((Number.isFinite(i)?i:1)+1)/2,s=this._ensureCesium();if(!this.viewer||!s||!this.dsHoldings||(this.dsHoldings.entities.removeAll(),!e))return;const l=1500*a,A=(N,E,h,T)=>{const g=(Number(h)||0)*Math.PI/180,p=3e3,M=p*Math.cos(g)/111320,f=p*Math.sin(g)/(111320*Math.cos(E*Math.PI/180)),S=N+f,w=E+M;this.dsHoldings.entities.add({polyline:{positions:s.Cartesian3.fromDegreesArrayHeights([N,E,T,S,w,T]),width:12,material:new s.PolylineArrowMaterialProperty(s.Color.YELLOW.withAlpha(.9)),clampToGround:!1}})},u=(N,E,h,T)=>{this.dsHoldings.entities.add({polyline:{positions:s.Cartesian3.fromDegreesArrayHeights([N,E,h,N,E,T]),width:2,material:s.Color.CYAN.withAlpha(.25),clampToGround:!1}})},O=(N,E)=>{const h=[];for(const T of N||[]){const g=T?.lon??T?.lng,p=T?.lat;!Number.isFinite(g)||!Number.isFinite(p)||h.push(g,p,E)}return h};for(const N of t||[]){const E=N?.point,h=Number(N?.heading);if(!E||!Number.isFinite(h))continue;const T=$?.[E];if(!T)continue;const g=v(T[0]),p=v(T[1]);if(g==null||p==null)continue;const M=Xe({lat:g,lon:p,inboundHeadingDeg:h,legLengthNm:Number(N?.leg)||10,turn:N?.turn||"Right",turnRadiusNm:2});if(!M)continue;const f=Ze(N?.floor,N?.ceiling);let S=0;try{const X=s.Cartographic.fromDegrees(M.fix.lon,M.fix.lat),k=this.viewer?.scene?.globe?.getHeight?.(X);Number.isFinite(k)&&(S=k)}catch{}S=Math.max(0,S)+10;const R=f?(()=>{let X=f.floorM*a,k=f.ceilM*a;return X=Math.max(0,Math.min(X,k)),k=Math.max(X+1,Math.max(X,k)),{floorAbs:S+X,ceilAbs:S+k,midAbs:S+(X+k)/2}})():null;if(R){const X=O(M.path,R.floorAbs),k=O(M.path,R.ceilAbs);X.length>=6&&this.dsHoldings.entities.add({polyline:{positions:s.Cartesian3.fromDegreesArrayHeights(X),width:2,material:new s.PolylineDashMaterialProperty({color:s.Color.RED.withAlpha(.95),dashLength:12}),clampToGround:!1}}),k.length>=6&&this.dsHoldings.entities.add({polyline:{positions:s.Cartesian3.fromDegreesArrayHeights(k),width:2,material:new s.PolylineDashMaterialProperty({color:s.Color.RED.withAlpha(.75),dashLength:12}),clampToGround:!1}}),u(M.fix.lon,M.fix.lat,R.floorAbs,R.ceilAbs),u(M.midOutbound.lon,M.midOutbound.lat,R.floorAbs,R.ceilAbs),u(M.midInbound.lon,M.midInbound.lat,R.floorAbs,R.ceilAbs),this.dsHoldings.entities.add({position:s.Cartesian3.fromDegrees(M.fix.lon,M.fix.lat,R.ceilAbs),point:{pixelSize:8,color:s.Color.BLACK.withAlpha(.8),outlineColor:s.Color.YELLOW,outlineWidth:2.5,disableDepthTestDistance:Number.POSITIVE_INFINITY,scaleByDistance:new s.NearFarScalar(2e3,1,2e6,.25)}}),A(M.midOutbound.lon,M.midOutbound.lat,M.outboundHeadingDeg,R.ceilAbs+10),A(M.midInbound.lon,M.midInbound.lat,M.inboundHeadingDeg,R.ceilAbs+10);const q=`${N.floor}${N.ceiling}`,Z=N?.limit||q;this.dsHoldings.entities.add({position:s.Cartesian3.fromDegrees(M.fix.lon,M.fix.lat,R.ceilAbs+400),label:{text:`${E}  ${q}`,font:"14px sans-serif",fillColor:s.Color.YELLOW,outlineColor:s.Color.BLACK,outlineWidth:2,style:s.LabelStyle.FILL_AND_OUTLINE,pixelOffset:new s.Cartesian2(10,-10),disableDepthTestDistance:Number.POSITIVE_INFINITY,scaleByDistance:new s.NearFarScalar(2e3,1,2e6,.3)},description:`<b>${E}</b> - (${M.turn})<br>Inbound: ${M.inboundHeadingDeg}<br>Outbound: ${M.outboundHeadingDeg}<br>Limit: ${Z}`});continue}const V=O(M.path,l);if(V.length<6)continue;this.dsHoldings.entities.add({polyline:{positions:s.Cartesian3.fromDegreesArrayHeights(V),width:2,material:new s.PolylineDashMaterialProperty({color:s.Color.RED.withAlpha(.9),dashLength:12}),clampToGround:!1}}),this.dsHoldings.entities.add({position:s.Cartesian3.fromDegrees(M.fix.lon,M.fix.lat,l),point:{pixelSize:6,color:s.Color.YELLOW,outlineColor:s.Color.BLACK,outlineWidth:2,disableDepthTestDistance:Number.POSITIVE_INFINITY}}),A(M.midOutbound.lon,M.midOutbound.lat,M.outboundHeadingDeg,l+10),A(M.midInbound.lon,M.midInbound.lat,M.inboundHeadingDeg,l+10);const G=N?.limit||"";this.dsHoldings.entities.add({position:s.Cartesian3.fromDegrees(M.fix.lon,M.fix.lat,l+400),label:{text:E,font:"12px sans-serif",fillColor:s.Color.YELLOW,outlineColor:s.Color.BLACK,outlineWidth:2,style:s.LabelStyle.FILL_AND_OUTLINE,pixelOffset:new s.Cartesian2(10,-10),disableDepthTestDistance:Number.POSITIVE_INFINITY,scaleByDistance:new s.NearFarScalar(2e3,1,2e6,.3)},description:`<b>${E}</b> - (${M.turn})<br>Inbound: ${M.inboundHeadingDeg}<br>Outbound: ${M.outboundHeadingDeg}<br>`+(G?`Limit: ${G}`:"")})}}clearAreas(){this.dsAreas?.entities?.removeAll?.()}drawAreasCategory(t,e=[],i="#FFFF66"){const r=this._ensureCesium();if(!this.viewer||!r||!this.dsAreas)return;const a=r.Color.fromCssColorString(i).withAlpha(.28),s=r.Color.fromCssColorString(i).withAlpha(.9),l=(A,u,O,N)=>{this.dsAreas.entities.add({position:r.Cartesian3.fromDegrees(A,u,150),label:{text:O,font:"12px sans-serif",fillColor:r.Color.WHITE,outlineColor:r.Color.BLACK,outlineWidth:2,style:r.LabelStyle.FILL_AND_OUTLINE,pixelOffset:new r.Cartesian2(10,-10),disableDepthTestDistance:Number.POSITIVE_INFINITY,scaleByDistance:new r.NearFarScalar(5e3,1,2e6,.25)},description:N||"",properties:new r.PropertyBag({layerName:t})})};for(const A of e||[]){const u=(A?.shapeType||"").toLowerCase(),O=A?.shapeName||t,N=A?.floor||A?.limit||"",E=A?.ceiling||"",h=A?.shapeInfo||"",T=A?.type||"",g=`<b>${O}</b><br>`+(h?`${h}<br>`:"")+(N||E?`Floor: ${N} &nbsp;&nbsp; Ceiling: ${E}<br>`:"")+(T?`${T}`:"");if(u==="circle"){const p=A?.coords;if(!p||p.length<2)continue;const M=v(p[0]),f=v(p[1]);if(M==null||f==null)continue;const S=(Number(A?.radiusNm)||0)*1852;if(!S)continue;this.dsAreas.entities.add({name:O,position:r.Cartesian3.fromDegrees(f,M,0),ellipse:{semiMajorAxis:S,semiMinorAxis:S,material:a,outline:!1,height:0,heightReference:r.HeightReference.CLAMP_TO_GROUND},properties:new r.PropertyBag({layerName:t}),description:g}),l(f,M,O.split(" ")[0]||O,g);continue}if(u==="polygon"){const p=A?.coords||[],M=[];let f=0,S=0,w=0;for(const R of p){if(!R||R.length<2)continue;const V=v(R[0]),G=v(R[1]);V==null||G==null||(M.push(G,V),f+=G,S+=V,w+=1)}if(M.length<6)continue;this.dsAreas.entities.add({name:O,polygon:{hierarchy:r.Cartesian3.fromDegreesArray(M),material:a,outline:!0,outlineColor:s,heightReference:r.HeightReference.CLAMP_TO_GROUND},properties:new r.PropertyBag({layerName:t}),description:g}),l(f/w,S/w,O.split(" ")[0]||O,g);continue}if(u==="rectangle"){const p=A?.corner1,M=A?.corner2;if(!p||!M)continue;const f=v(p[0]),S=v(p[1]),w=v(M[0]),R=v(M[1]);if([f,S,w,R].some(q=>q==null))continue;const V=Math.min(S,R),G=Math.max(S,R),X=Math.min(f,w),k=Math.max(f,w);this.dsAreas.entities.add({name:O,rectangle:{coordinates:r.Rectangle.fromDegrees(V,X,G,k),material:a,outline:!0,outlineColor:s,heightReference:r.HeightReference.CLAMP_TO_GROUND},properties:new r.PropertyBag({layerName:t}),description:g}),l((V+G)/2,(X+k)/2,O.split(" ")[0]||O,g);continue}}}destroy(){this.viewer&&this.viewer.destroy(),this.viewer=null}setDefaultView(){const t=window.Cesium;!this.viewer||!t||this.viewer.camera.flyTo({destination:t.Cartesian3.fromDegrees(54,22.3,9e5),orientation:{heading:t.Math.toRadians(0),pitch:t.Math.toRadians(-75),roll:0},duration:1})}clearFixes(){if(this.viewer){for(const t of this._fixEntities)this.viewer.entities.remove(t);for(const t of this._fixNameEntities)this.viewer.entities.remove(t);this._fixEntities=[],this._fixNameEntities=[]}}async drawFixesFromData(t,e){if(!this.viewer)return;const{convertDMSToDecimal:i}=await _e(async()=>{const{convertDMSToDecimal:u}=await Promise.resolve().then(()=>ke);return{convertDMSToDecimal:u}},void 0,import.meta.url),r=window.Cesium;if(!r)return;const a=13900,s=e?.mapLayersMaster!==!1,l=s&&!!e?.fixes,A=s&&!!e?.fixNames;if(this.clearFixes(),!(!l&&!A))for(const[u,O]of Object.entries(t||{})){const N=i(O?.[0]),E=i(O?.[1]);if(N==null||E==null)continue;const h=r.Cartesian3.fromDegrees(E,N,a);if(l){const T=`
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
            <polygon points="8,0 16,16 0,16" fill="rgba(105, 176, 211, 0.4)"/>
          </svg>
        `.trim(),g=this.viewer.entities.add({position:h,billboard:{image:"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(T),verticalOrigin:r.VerticalOrigin.BOTTOM,width:7,height:7,disableDepthTestDistance:Number.POSITIVE_INFINITY}});this._fixEntities.push(g)}if(A){const T=this.viewer.entities.add({position:h,label:{text:u,font:"16px sans-serif",fillColor:r.Color.fromCssColorString("#918e8ef1"),pixelOffset:new r.Cartesian2(10,-10),disableDepthTestDistance:Number.POSITIVE_INFINITY,showBackground:!1,scaleByDistance:new r.NearFarScalar(2e3,1,2e6,.3)}});this._fixNameEntities.push(T)}}}_dmsArrayToDegreesArray(t){const e=(Te||[]).map(s=>[v(s[0]),v(s[1])]).filter(s=>s[0]!=null&&s[1]!=null);let i=null;if(e.length){let s=999,l=-999,A=999,u=-999;for(const[O,N]of e)s=Math.min(s,O),l=Math.max(l,O),A=Math.min(A,N),u=Math.max(u,N);i={minLat:s-1,maxLat:l+1,minLon:A-1,maxLon:u+1}}const r=(s,l)=>i?s>=i.minLat&&s<=i.maxLat&&l>=i.minLon&&l<=i.maxLon:!0,a=[];for(const s of t||[]){const l=v(s?.[0]),A=v(s?.[1]);if(l==null||A==null)continue;let u=l,O=A;!r(u,O)&&r(A,l)&&(u=A,O=l),a.push(O,u)}return a}_sectorCodeMaps(){const t={SOUTH:"S",LIMA:"L",BRAVO:"B",GOLF:"G",ALPHA:"A",NORTH:"N",MIKE:"M",WEST:"W",KBOX:"K",CENTRAL:"C",DELTA:"D",HOTEL:"H",EAST:"E",YANKEE:"Y",ROMEO:"R"},e={},i={};for(const r of je||[]){const a=t[String(r.sector||"").toUpperCase()];a&&(r.limit&&(e[a]=r.limit),r.freq&&(i[a]=r.freq))}return{codeToLimit:e,codeToFreq:i}}_ftToM(t){return t*.3048}_parseLimitToMeters(t){const e=l=>(l||"").trim().toUpperCase(),i=l=>{if(l=e(l),l==="GND"||l==="SFC"||l==="000")return 0;if(l.startsWith("A")&&/^\d+$/.test(l.slice(1)))return this._ftToM(parseInt(l.slice(1),10)*100);if(l.startsWith("F")&&/^\d+$/.test(l.slice(1)))return this._ftToM(parseInt(l.slice(1),10)*100);if(l.startsWith("FL")&&/^\d+$/.test(l.slice(2)))return this._ftToM(parseInt(l.slice(2),10)*100);const A=l.match(/^(\d+)\s*(FT)?$/);return A?this._ftToM(parseInt(A[1],10)):0},r=String(t||"GND - F600").split("-").map(l=>l.trim()),a=i(r[0]??"GND"),s=i(r[1]??"F600");return{bottom:a,top:s}}drawAirspaceBoundary(){this.dsAirspace.entities.removeAll();const t=window.Cesium,e=this._dmsArrayToDegreesArray(Te);if(!e||e.length<4)return;let i=0;try{const l=e[0],A=e[1],u=t.Cartographic.fromDegrees(l,A),O=this.viewer?.scene?.globe?.getHeight?.(u);Number.isFinite(O)&&(i=O)}catch{}const a=i+10,s=[];for(let l=0;l<e.length;l+=2)s.push(e[l],e[l+1],a);s.push(e[0],e[1],a),this.dsAirspace.entities.add({name:"Airspace Boundary",polyline:{positions:t.Cartesian3.fromDegreesArrayHeights(s),width:.5,material:new t.PolylineDashMaterialProperty({color:t.Color.YELLOW.withAlpha(.95),dashLength:10,dashPattern:63}),clampToGround:!1,disableDepthTestDistance:void 0}})}drawSectors({colored:t=!0,borderOnly:e=!1,stroke:i=void 0,fill:r=void 0,opacity:a=.18,selectedCodes:s=null,zScale:l=3}={}){this.dsSectors.entities.removeAll();const A=s?new Set(s):null,u=i!==void 0?!!i:!0,O=r!==void 0?!!r:e?!1:!!t,{codeToLimit:N,codeToFreq:E}=this._sectorCodeMaps();for(const[h,T]of Object.entries(He||{})){if(A&&!A.has(h))continue;const g=T?.coords;if(!g||g.length<3)continue;const p=N[h]||"GND - F600";let{bottom:M,top:f}=this._parseLimitToMeters(p);const S=(M+f)/2;M=S+(M-S)*l,f=S+(f-S)*l,M=Math.max(0,M),f=Math.max(M+1,f);const w=this._dmsArrayToDegreesArray(g);if(w.length<6)continue;const R=Cesium.Color.fromCssColorString(T.color||"#6fa7a2"),V=this.dsSectors.entities.add({name:`${T.name||h} (${p})`,polygon:{hierarchy:Cesium.Cartesian3.fromDegreesArray(w),height:M,extrudedHeight:f,heightReference:Cesium.HeightReference.NONE,extrudedHeightReference:Cesium.HeightReference.NONE,material:O?R.withAlpha(a):R.withAlpha(0),outline:u,outlineColor:u?R.withAlpha(.55):R.withAlpha(0)},properties:new Cesium.PropertyBag({code:h,limitStr:p})}),G=E[h]||"";V.description=`
        <div style="font-family:sans-serif; font-size:13px;">
          <div><b>Sector:</b> ${T.name||h}</div>
          <div><b>Limits:</b> ${p}</div>
          <div><b>Frequency:</b> ${G}</div>
        </div>`;let X=0,k=0,q=0;for(let ne=0;ne<w.length;ne+=2)X+=w[ne],k+=w[ne+1],q++;const Z=X/Math.max(1,q),oe=k/Math.max(1,q),Ne=(M+f)/2;this.dsSectors.entities.add({name:`LABEL_${h}`,position:Cesium.Cartesian3.fromDegrees(Z,oe,Ne),label:{text:T.name||h,font:"bold 11px sans-serif",showBackground:!1,backgroundColor:Cesium.Color.BLACK.withAlpha(.2),verticalOrigin:Cesium.VerticalOrigin.CENTER,distanceDisplayCondition:new Cesium.DistanceDisplayCondition(0,12e5),disableDepthTestDistance:Number.POSITIVE_INFINITY},properties:new Cesium.PropertyBag({isSectorLabel:!0,code:h})})}}drawAirways(){if(this._airwaysDrawn)return;this._airwaysDrawn=!0,this.dsAirways.entities.removeAll();const t=13900;for(const[e,i]of Object.entries(se||{})){const r=[];for(const a of i||[]){const s=$?.[a];if(!s)continue;const l=v(s[0]),A=v(s[1]);l==null||A==null||r.push(A,l,t)}r.length<6||this.dsAirways.entities.add({name:`AIRWAY_${e}`,polyline:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(r),width:1.3,material:Cesium.Color.GRAY.withAlpha(.5),clampToGround:!1},properties:new Cesium.PropertyBag({isAirway:!0,airwayName:e})})}}clearRoute(){this.dsRoutes.entities.removeAll(),this.dsAirwayHighlights.entities.removeAll()}drawRouteSegmentsDegrees(t,e={}){if(!t||!t.length)return;const i=Number.isFinite(e.zScale)?e.zScale:1,r=(1+i)/2,a=u=>Math.max(0,u*r),s=e.heightM??12e3*.3048,l=e.width??3,A=e.alpha??.95;for(const u of t){const O=u.coords||[];if(O.length<2)continue;const N=[];for(const E of O){const h=typeof E.altM=="number"?E.altM:s,T=a(h);N.push(E.lon,E.lat,T)}if(this.dsRoutes.entities.add({name:u.airway?`ROUTE-${u.airway}`:"ROUTE-DCT",polyline:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(N),width:l,material:Cesium.Color.fromCssColorString(u.color??"#fbc965").withAlpha(A),clampToGround:!1}}),u.airway){const E=Math.floor(O.length/2),h=O[E];if(h){const T=typeof h.altM=="number"?h.altM:s,g=a(T);this.dsRoutes.entities.add({position:Cesium.Cartesian3.fromDegrees(h.lon,h.lat,g+4e3*i),label:{text:u.airway,font:"bold 12px sans-serif",fillColor:Cesium.Color.WHITE.withAlpha(.95),outlineColor:Cesium.Color.BLACK.withAlpha(.8),outlineWidth:2,style:Cesium.LabelStyle.FILL_AND_OUTLINE,verticalOrigin:Cesium.VerticalOrigin.CENTER,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,disableDepthTestDistance:Number.POSITIVE_INFINITY}})}}}}drawRouteDegrees(t,e={}){if(!t||t.length<2)return;const r=(1+(Number.isFinite(e.zScale)?e.zScale:1))/2,a=A=>Math.max(0,A*r),s=e.heightM??12e3*.3048,l=[];for(const A of t){const u=typeof A.altM=="number"?A.altM:s;l.push(A.lon,A.lat,a(u))}this.dsRoutes.entities.add({name:"ROUTE",polyline:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(l),width:e.width??3,material:Cesium.Color.fromCssColorString(e.color??"#fbc965").withAlpha(e.alpha??.95),clampToGround:!1}})}highlightAirway(t,e={}){const i=se?.[t];if(!i)return;const r=13900,a=[];for(const s of i){const l=$?.[s];if(!l)continue;const A=v(l[0]),u=v(l[1]);A==null||u==null||a.push(u,A,r)}a.length<6||this.dsAirwayHighlights.entities.add({name:`HL_${t}`,polyline:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(a),width:e.width??2,material:Cesium.Color.fromCssColorString(e.color??"white").withAlpha(e.alpha??.7),clampToGround:!1},properties:new Cesium.PropertyBag({airwayName:t})})}setLayerVisible(t,e){const i={airspace:this.dsAirspace,sectors:this.dsSectors,airways:this.dsAirways,runways:this.dsRunways,fixes:this.dsFixMarks,fixNames:this.dsFixNames,routes:this.dsRoutes,holdings:this.dsHoldings}[t];i&&(i.show=!!e)}nudgeHeading(t){if(!this.viewer)return;const e=window.Cesium;if(!e)return;const i=this.viewer.camera,r=e.Math.toRadians(t);i.setView({orientation:{heading:i.heading+r,pitch:i.pitch,roll:i.roll}})}nudgePitch(t){if(!this.viewer)return;const e=window.Cesium;if(!e)return;const i=this.viewer.camera,r=e.Math.toRadians(t),a=Math.max(e.Math.toRadians(-89.9),Math.min(e.Math.toRadians(-1),i.pitch+r));i.setView({orientation:{heading:i.heading,pitch:a,roll:i.roll}})}faceNorth(){if(!this.viewer||!window.Cesium)return;const e=this.viewer.camera;e.setView({orientation:{heading:0,pitch:e.pitch,roll:0}})}_installAttributionBadge(){try{if(!this.viewer||!this.viewer.container||this.viewer.container.querySelector(".attribution-badge"))return;const t=document.createElement("div");t.className="attribution-badge",t.textContent="Cesium ion | Bing Maps | Microsoft",Object.assign(t.style,{position:"absolute",right:"28px",bottom:"4px",zIndex:"5001",background:"rgba(0,0,0,0.55)",color:"#ddd",padding:"3px 8px",borderRadius:"10px",fontSize:"10px",lineHeight:"1.2",userSelect:"text",pointerEvents:"auto",whiteSpace:"nowrap"}),t.title="Click to open full data attribution",t.addEventListener("click",()=>{try{const e=this.viewer;if(!e)return;if(e.creditDisplay&&typeof e.creditDisplay.showLightbox=="function"){e.creditDisplay.showLightbox();return}const i=e.container.querySelector(".cesium-credit-expand-link");i&&i.click()}catch{}}),this.viewer.container.appendChild(t)}catch{}}_autoOpenAttributionOnce(){try{if(!this.viewer||!this.viewer.container||this._didAutoOpenAttribution)return;this._didAutoOpenAttribution=!0,setTimeout(()=>{try{const t=this.viewer;if(!t)return;if(t.creditDisplay&&typeof t.creditDisplay.showLightbox=="function"){t.creditDisplay.showLightbox();return}const e=t.container.querySelector(".cesium-credit-expand-link");e&&e.click()}catch{}},0)}catch{}}}function ot(o,t){const e=[];for(let i=0;i<o.length;i++){const r=o[i];if(t[r]){let a=null,s=null;for(let O=i-1;O>=0;O--)if(!t[o[O]]){a=o[O];break}for(let O=i+1;O<o.length;O++)if(!t[o[O]]){s=o[O];break}const l=t[r],A=l.indexOf(a),u=l.indexOf(s);if(A!==-1&&u!==-1){let O=l.slice(Math.min(A,u),Math.max(A,u)+1);A>u&&O.reverse(),e.length&&e.at(-1)===O[0]&&O.shift(),e.push(...O)}}else e.includes(r)||e.push(r)}return e}function Jt(){const o=Array.from(c.selectedSectorCodes),t=[];for(const e of Object.keys(Re||{})){const i=e.endsWith("-FRA"),[r,a]=e.split("-"),s=a?.startsWith("OM"),l=r?.startsWith("OM"),A=!s&&!l,u=c.routeFilter;let O=!0;if(u==="FRA"?O=i:u==="Arr"?O=s&&!i:u==="Dep"?O=l&&!i:u==="Ovf"&&(O=A&&!i),!O||o.length>0&&!(We?.[e]||[]).some(T=>o.includes(T)))continue;const N=i?e.replace("-FRA",""):e;t.push({fullKey:e,label:N})}return t.sort((e,i)=>e.label.localeCompare(i.label)),t}function $t(o,t){const e=[];if(!Array.isArray(o)||o.length<2)return e;const i=A=>!!t?.[A],r=A=>String(A).toUpperCase()==="DCT",a=A=>!!A&&!i(A)&&!r(A),s=A=>{for(let u=A-1;u>=0;u--)if(a(o[u]))return o[u];return null},l=A=>{for(let u=A+1;u<o.length;u++)if(a(o[u]))return o[u];return null};for(let A=0;A<o.length;A++){const u=o[A];if(r(u)){const O=s(A),N=l(A);if(O&&N&&O!==N){const E=e[e.length-1];E?.points?.[E.points.length-1]!==N&&e.push({airway:null,points:[O,N],kind:"DCT"})}continue}if(i(u)){const O=s(A),N=l(A);if(!O||!N)continue;const E=t[u],h=E.indexOf(O),T=E.indexOf(N);if(h===-1||T===-1)continue;let g=E.slice(Math.min(h,T),Math.max(h,T)+1);h>T&&g.reverse(),g.length>=2&&e.push({airway:u,points:g,kind:"AIRWAY"});continue}if(a(u)){const O=o[A+1];if(a(O)){const N=e[e.length-1];N?.points?.[N.points.length-1]!==O&&e.push({airway:null,points:[u,O],kind:"DCT"})}}}return e}function nt(o,t,e){const i=Re?.[o];if(!i)return{segments:[],airwayColorMap:{},usedAirways:[]};const r=$t(i,se||{});if(!r.length)return{segments:[],airwayColorMap:{},usedAirways:[]};const a={};let s=0;const l=i.filter(u=>se?.[u]);for(const u of r)u.airway&&!a[u.airway]&&(a[u.airway]=e[s++%e.length]);return{segments:r.map(u=>{const O=[],N=[];for(const h of u.points){const T=t?.[h];if(!T)continue;const g=v(T[0]),p=v(T[1]);g==null||p==null||(O.push({name:h,lat:g,lon:p}),N.push(h))}const E=u.airway?a[u.airway]||"#fbc965":"#9aa0a6";return{airway:u.airway,color:E,coords:O,names:N}}).filter(u=>u.coords.length>=2),airwayColorMap:a,usedAirways:l}}function rt(o,t){const e=Re?.[o];if(!e)return{fixes:[],expandedFixNames:[],usedAirways:[]};const i=ot(e,se||{}),r=[];for(const s of i){const l=t?.[s];if(!l)continue;const A=v(l[0]),u=v(l[1]);A==null||u==null||r.push({name:s,lat:A,lon:u})}const a=e.filter(s=>se?.[s]);return{fixes:r,expandedFixNames:i,usedAirways:a}}let Fe=0,ge=null,pe=null,ye=null,Le=!1;const it=["#F7663F","#3DA0F1","#52E747","#FBD329","#7373F1","#17F5CB","#F79E3F","#93C3C7","#C2E747","#CD29FB"],y=o=>document.getElementById(o);function Ce(o){if(!o||typeof o!="string")return null;const t=o.toUpperCase().match(/\b(FL|F|A)\s*([0-9]{2,3})\b/);if(!t)return null;const e=parseInt(t[2],10);return Number.isFinite(e)?e*100:null}function Qt(o){return(o??0)*.3048}function qt(o,t){const i=N=>N*Math.PI/180,r=i(t.lat-o.lat),a=i(t.lon-o.lon),s=i(o.lat),l=i(t.lat),A=Math.sin(r/2),u=Math.sin(a/2),O=A*A+Math.cos(s)*Math.cos(l)*u*u;return 2*6371e3*Math.asin(Math.min(1,Math.sqrt(O)))}function st(o,t){if(!t?.length)return t;const e=c.route3dProfile||null,i=e&&Number.isFinite(e.cflFt)?e.cflFt:12e3,r=e&&Number.isFinite(e.xflFt)?e.xflFt:12e3,a=[];for(const E of t)for(const h of E.coords||[]){const T=a[a.length-1];T&&T.name===h.name||a.push({...h})}if(a.length<2)return t;const s=[0];for(let E=1;E<a.length;E++)s[E]=s[E-1]+qt(a[E-1],a[E]);const l=s[s.length-1]||1,A=c.route3dProfile;let u=-1,O=null;A?.fixName&&Number.isFinite(A?.fixFt)&&(u=a.findIndex(E=>(E.name||"").toUpperCase()===String(A.fixName).toUpperCase()),O=A.fixFt);for(let E=0;E<a.length;E++){let h;if(u>0&&u<a.length-1&&O!=null){const T=s[u];if(s[E]<=T){const g=T>0?s[E]/T:0;h=i+(O-i)*g}else{const g=l-T||1,p=(s[E]-T)/g;h=O+(r-O)*p}}else{const T=s[E]/l;h=i+(r-i)*T}a[E].altM=Qt(h)}const N=new Map;for(const E of a){const h=`${E.name}|${E.lat.toFixed(6)}|${E.lon.toFixed(6)}`;N.set(h,E.altM)}return t.map(E=>({...E,coords:(E.coords||[]).map(h=>{const T=`${h.name}|${h.lat.toFixed(6)}|${h.lon.toFixed(6)}`,g=N.get(T);return typeof g=="number"?{...h,altM:g}:{...h}})}))}function zt(o,t){if(!t?.length||t.length<2)return t;const e=[{airway:null,color:"#fbc965",coords:t.map(r=>({...r}))}];return st(o,e)?.[0]?.coords||t}function Yt(o){const t=[];for(const e of o||[])for(const i of e.coords||[]){const r=i?.name;!r||t[t.length-1]===r||t.push(r)}return t}function Zt(){c.route3dProfile=null;const o=y("routeAltCfl3D"),t=y("routeAltFix3D"),e=y("routeAltLevel3D"),i=y("routeAltXfl3D");o&&(o.value=""),t&&(t.value=""),e&&(e.value=""),i&&(i.value="")}function Ue(o,t){const e=y("routeAltPanel3D");if(!e)return;if(c.mode!=="3d"||!o){e.style.display="none";return}const i=y("routeAltFix3D"),r=y("routeAltLevel3D"),a=y("routeAltHint3D");if(!i||!r||!a)return;const s=c.route3dProfile||null,l=Yt(t);i.innerHTML="";const A=document.createElement("option");A.value="",A.textContent="(none)",i.appendChild(A);for(const N of l){const E=document.createElement("option");E.value=N,E.textContent=N,i.appendChild(E)}s?.fixName&&l.includes(s.fixName)?i.value=s.fixName:i.value="";const u=y("routeAltCfl3D"),O=y("routeAltXfl3D");u&&(u.value=s?.cflFt&&Number.isFinite(s.cflFt)?`F${Math.round(s.cflFt/100)}`:""),O&&(O.value=s?.xflFt&&Number.isFinite(s.xflFt)?`A${Math.round(s.xflFt/100)}`:""),s?.fixFt&&Number.isFinite(s.fixFt)?r.value=`F${Math.round(s.fixFt/100)}`:r.value="",a.textContent="Enter CFL/XFL and (optional) Fix+Level, then Apply.",e.style.display="block"}function jt(o){const t={R:6371e3,toRad(n){return n*Math.PI/180},toDeg(n){return n*180/Math.PI},nmToMeters(n){return n*1852},bearing(n,d,m,P){const b=this.toRad(P-d),U=this.toRad(n),C=this.toRad(m),F=Math.sin(b)*Math.cos(C),I=Math.cos(U)*Math.sin(C)-Math.sin(U)*Math.cos(C)*Math.cos(b);return(this.toDeg(Math.atan2(F,I))+360)%360},haversineMeters(n,d,m,P){const b=this.toRad(m-n),U=this.toRad(P-d),C=this.toRad(n),F=this.toRad(m),I=Math.sin(b/2)**2+Math.cos(C)*Math.cos(F)*Math.sin(U/2)**2;return this.R*2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I))},haversineNm(n,d,m,P){return this.haversineMeters(n,d,m,P)/1852},arcPoints(n,d,m,P,b,U,C,F=!0){const I=this.nmToMeters(m),D=this.toRad(n),K=this.toRad(d),x=(Y,re)=>{const le=this.toRad(re-d),he=Math.sin(le)*Math.cos(this.toRad(Y)),Pe=Math.cos(D)*Math.sin(this.toRad(Y))-Math.sin(D)*Math.cos(this.toRad(Y))*Math.cos(le);return Math.atan2(he,Pe)*180/Math.PI},_=x(P,b),H=x(U,C),W=Y=>(Y%360+360)%360;let J=W(_),z=W(H);F&&z<J&&(z+=360),!F&&J<z&&(J+=360);const j=2,ie=[];for(let Y=J;F?Y<=z:Y>=z;Y+=F?j:-j){const re=this.toRad(Y),le=Math.asin(Math.sin(D)*Math.cos(I/this.R)+Math.cos(D)*Math.sin(I/this.R)*Math.cos(re)),he=K+Math.atan2(Math.sin(re)*Math.sin(I/this.R)*Math.cos(D),Math.cos(I/this.R)-Math.sin(D)*Math.sin(le));ie.push([this.toDeg(le),this.toDeg(he)])}return ie}},e=(()=>{const n={};let d=null;function m(U,C){n[U]=C}function P(U){d&&n[d]?.onDeactivate&&n[d].onDeactivate(),d=U||null,d&&n[d]?.onActivate&&n[d].onActivate()}function b(U,C){if(!d)return;const F=n[d];if(F&&typeof F[U]=="function")return F[U](C)}return{register:m,setActive:P,dispatch:b,getActive:()=>d}})();window.__AIR=window.__AIR||{},window.__AIR.ToolManager=e,c.ui??={activeTool:null,cursor:""},c.rbl??={active:!1,anchor:null,previewLine:null,previewTooltip:null,objects:[]},c.measure??={active:!1,points:[],preview:null,tooltip:null,all:[],line:null},c.pen??={active:!1,drawing:!1,currentLine:null,all:[]},c.text??={active:!1,markers:[]},c.eraser??={active:!1,erasing:!1,suspended:!1,lastEraseAt:0},o.getPane("textPane")||o.createPane("textPane");const i=o.getPane("textPane");i.style.zIndex=1e4,i.style.pointerEvents="auto";const r={activeBorder:"#FBC965",activeColor:"#FBC965"},a=document.getElementById("rblToolBtn"),s=document.getElementById("measureBtn"),l=document.getElementById("penBtn"),A=document.getElementById("textToolBtn"),u=document.getElementById("eraserBtn");function O(n){switch(n){case"measure":case"rbl":case"pen":return"crosshair";case"text":return"text";case"eraser":return"crosshair";default:return""}}function N(n,d){n&&(n.style.borderColor=d?r.activeBorder:"",n.style.color=d?r.activeColor:"")}function E(n){o.getContainer().style.cursor=n||""}function h(){const n=c.ui.activeTool;N(a,n==="rbl"),N(s,n==="measure"),N(l,n==="pen"),N(A,n==="text"),N(u,n==="eraser"),E(c.ui.cursor)}function T(n){e.setActive(n),c.ui.activeTool=e.getActive?.()||null,c.ui.cursor=O(c.ui.activeTool),h()}function g(n,d){const m=e.getActive?.()||null;e.dispatch(n,d);const P=e.getActive?.()||null;P!==m&&(c.ui.activeTool=P,c.ui.cursor=O(P),h())}const p=document.getElementById("mouseCoords");if(p){let d=function(U,C){function F(K,x){const _=Math.abs(K),H=Math.floor(_),W=Math.floor((_-H)*60),J=((_-H-W/60)*3600).toFixed(2);return x==="lat"?`${String(H).padStart(2,"0")}${String(W).padStart(2,"0")}${String(J).padStart(5,"0")}${K>=0?"N":"S"}`:`${String(H).padStart(3,"0")}${String(W).padStart(2,"0")}${String(J).padStart(5,"0")}${K>=0?"E":"W"}`}const I=`"${F(U,"lat")}"`,D=`"${F(C,"lon")}"`;return`${I}, ${D}`},m=function(){p.classList.add("copied"),setTimeout(()=>p.classList.remove("copied"),250)},b=function(U){n=U,p.value=d(U.lat,U.lng)};window.L?.DomEvent&&L.DomEvent.disableClickPropagation(p);let n=null;async function P(U){try{if(navigator.clipboard&&window.isSecureContext)return await navigator.clipboard.writeText(U),!0}catch{}try{p.focus(),p.select();const C=document.execCommand("copy");return window.getSelection()?.removeAllRanges?.(),C}catch{return!1}}o.on("mousemove",U=>{U?.latlng&&b(U.latlng)}),o.on("mouseout",()=>{}),o.on("contextmenu",async()=>{if(!n)return;const U=d(n.lat,n.lng);await P(U)&&m()})}o.on("click",n=>g("onClick",n)),o.on("mousemove",n=>g("onMouseMove",n)),o.on("contextmenu",n=>g("onRightClick",n)),o.on("dblclick",n=>g("onDoubleClick",n)),o.on("mousedown",n=>g("onMouseDown",n)),o.on("mouseup",n=>g("onMouseUp",n)),o.on("touchstart",n=>g("onMouseDown",n)),o.on("touchmove",n=>g("onMouseMove",n)),o.on("touchend",n=>g("onMouseUp",n)),o.on("touchcancel",n=>g("onMouseUp",n));function M(n,d){const m=document.getElementById(n);m&&m.addEventListener("click",()=>{d?.()})}function f(n){return Array.isArray(n)?(n.forEach(d=>{try{o.removeLayer(d)}catch{}}),[]):[]}function S(n){return Array.isArray(n)?(n.forEach(d=>{try{d?.line&&o.removeLayer(d.line),d?.tooltip&&o.removeLayer(d.tooltip)}catch{}}),[]):[]}a&&a.addEventListener("click",()=>{T(e.getActive()==="rbl"?null:"rbl")}),M("clearRblBtn",()=>{c.rbl.objects=S(c.rbl.objects),w(),c.rbl.anchor=null}),e.register("rbl",{onActivate(){const n=c.rbl;n.active=!0,n.anchor=null,w()},onDeactivate(){c.rbl.active=!1,c.rbl.anchor=null,w()},onRightClick(n){const d=c.rbl;d.active&&d.anchor&&(w(),d.anchor=null)},onClick(n){const d=c.rbl;if(!d.active)return;if(!d.anchor){d.anchor=n.latlng,d.previewLine=L.polyline([d.anchor],{color:"white",weight:1,dashArray:"4 4",interactive:!1}).addTo(o),d.previewTooltip=L.tooltip({permanent:!1,direction:"top",offset:[10,-10],className:"rbl-tooltip"}).setLatLng(d.anchor).setContent("/").addTo(o);return}const m=n.latlng,P=t.bearing(d.anchor.lat,d.anchor.lng,m.lat,m.lng),b=t.haversineNm(d.anchor.lat,d.anchor.lng,m.lat,m.lng),U=Math.round(P).toString().padStart(3,"0"),C=Math.round(b).toString().padStart(3,"0"),F=L.polyline([d.anchor,m],{color:"lime",weight:1.5,interactive:!1}).addTo(o),I=L.latLng((d.anchor.lat+3*m.lat)/4,(d.anchor.lng+3*m.lng)/4),D=L.tooltip({permanent:!0,direction:"top",offset:[0,0],className:"rbl-tooltip"}).setLatLng(I).setContent(`${U} / ${C}`).addTo(o);d.objects.push({line:F,tooltip:D}),w(),d.anchor=null},onMouseMove(n){const d=c.rbl;if(!d.active||!d.anchor||!d.previewLine||!d.previewTooltip)return;d.previewLine.setLatLngs([d.anchor,n.latlng]);const m=t.bearing(d.anchor.lat,d.anchor.lng,n.latlng.lat,n.latlng.lng),P=t.haversineNm(d.anchor.lat,d.anchor.lng,n.latlng.lat,n.latlng.lng),b=Math.round(m).toString().padStart(3,"0"),U=Math.round(P).toString().padStart(3,"0");d.previewTooltip.setLatLng(n.latlng).setContent(`${b} / ${U}`)}});function w(){const n=c.rbl;n.previewLine&&(o.removeLayer(n.previewLine),n.previewLine=null),n.previewTooltip&&(o.removeLayer(n.previewTooltip),n.previewTooltip=null)}const R=document.getElementById("measureBtn");M("clearMeasuresBtn",()=>{c.measure.all=S(c.measure.all),V()}),R.addEventListener("click",()=>{T(e.getActive()==="measure"?null:"measure")}),e.register("measure",{onActivate(){o.doubleClickZoom&&o.doubleClickZoom.disable()},onDeactivate(){V()},onDoubleClick(n){!measurePoints||measurePoints.length<2||X()},onClick(n){const d=c.measure,m=n.latlng;d.points.push(m),d.line?d.line.addLatLng(m):d.line=L.polyline([m],{color:"orange",weight:1.5,interactive:!1}).addTo(o),d.preview&&(o.removeLayer(d.preview),d.preview=null),G()},onMouseMove(n){const d=c.measure;if(d.points.length===0)return;const m=[...d.points,n.latlng];d.preview?d.preview.setLatLngs(m):d.preview=L.polyline(m,{color:"white",weight:1,dashArray:"4 4",interactive:!1}).addTo(o),G(n.latlng)},onRightClick(){if(c.measure.points.length<2){V();return}X()},onDoubleClick(){c.measure.points.length<2||X()}});function V(){const n=c.measure;n.line&&(o.removeLayer(n.line),n.line=null),n.tooltip&&(o.removeLayer(n.tooltip),n.tooltip=null),n.preview&&(o.removeLayer(n.preview),n.preview=null),n.points=[]}function G(n=null){const d=c.measure;let m=0;const P=[...d.points];n&&P.push(n);for(let I=1;I<P.length;I++)m+=P[I-1].distanceTo(P[I]);const b=(m/1852).toFixed(1),U=m*(5/6);let C=0,F=P[0];for(let I=1;I<P.length;I++){const D=P[I-1].distanceTo(P[I]);if(C+D>=U){const K=(U-C)/D,x=P[I-1].lat+K*(P[I].lat-P[I-1].lat),_=P[I-1].lng+K*(P[I].lng-P[I-1].lng);F=L.latLng(x,_);break}C+=D}d.tooltip?d.tooltip.setLatLng(F).setContent(`${b} Nm`):d.tooltip=L.tooltip({permanent:!0,direction:"top",offset:[0,0],className:"measure-tooltip"}).setLatLng(F).setContent(`${b} Nm`).addTo(o)}function X(){const n=c.measure;if(n.line&&n.tooltip){let d=0;for(let C=1;C<n.points.length;C++)d+=n.points[C-1].distanceTo(n.points[C]);const m=(d/1852).toFixed(1),P=d*(5/6);let b=0,U=n.points[0];for(let C=1;C<n.points.length;C++){const F=n.points[C-1].distanceTo(n.points[C]);if(b+F>=P){const I=(P-b)/F,D=n.points[C-1].lat+I*(n.points[C].lat-n.points[C-1].lat),K=n.points[C-1].lng+I*(n.points[C].lng-n.points[C-1].lng);U=L.latLng(D,K);break}b+=F}n.tooltip.setLatLng(U).setContent(`${m} Nm`),n.all.push({line:n.line,tooltip:n.tooltip})}n.line=null,n.tooltip=null,n.preview&&(o.removeLayer(n.preview),n.preview=null),n.points=[]}c.pen??={active:!1,drawing:!1,currentLine:null,all:[]};const k=document.getElementById("penBtn");k&&k.addEventListener("click",()=>{T(e.getActive()==="pen"?null:"pen")}),M("clearPenBtn",()=>{c.pen.all=f(c.pen.all),c.pen.drawing=!1,c.pen.currentLine=null});const q=o.getContainer();let Z=0;const oe=300;q.addEventListener("mousedown",n=>{if(n.button!==2)return;const d=performance.now();if(d-Z<oe){Z=0,c?.eraser&&(c.eraser.rightHoldErasing=!1,c.eraser.erasing=!1);try{o.dragging.enable()}catch{}const m=e.getActive?.()==="pen";T(m?null:"pen"),n.preventDefault(),n.stopImmediatePropagation();return}Z=d},{passive:!1,capture:!0}),e.register("pen",{onActivate(){const n=c.pen;n.active=!0,n.drawing=!1,n.currentLine=null,n.suspended=!1;const d=o.getContainer();o.doubleClickZoom.disable(),o.scrollWheelZoom.enable(),o.touchZoom&&o.touchZoom.enable(),o.boxZoom&&o.boxZoom.enable(),o.dragging.enable(),d.style.touchAction="none";const m=D=>{const K=D.touches?.[0]||D.changedTouches?.[0];if(!K)return null;const x=o.mouseEventToContainerPoint(K);return o.containerPointToLatLng(x)},P=(D,K=10)=>{if(D.length<2)return D;const x=[],_=D[0],H=D[D.length-1],W=[_,...D,H];for(let J=1;J<W.length-2;J++){const z=W[J-1],j=W[J],ie=W[J+1],Y=W[J+2];for(let re=0;re<=1;re+=1/K){const le=re*re,he=le*re,Pe=.5*(2*j[0]+(-z[0]+ie[0])*re+(2*z[0]-5*j[0]+4*ie[0]-Y[0])*le+(-z[0]+3*j[0]-3*ie[0]+Y[0])*he),Lt=.5*(2*j[1]+(-z[1]+ie[1])*re+(2*z[1]-5*j[1]+4*ie[1]-Y[1])*le+(-z[1]+3*j[1]-3*ie[1]+Y[1])*he);x.push([Pe,Lt])}}return x.push(H),x},b=D=>{D&&(n.drawing=!0,n.rawPoints=[[D.lat,D.lng]],n.currentLine=L.polyline([[D.lat,D.lng]],{color:"red",weight:1.5,opacity:.9,interactive:!1,smoothFactor:0}).addTo(o),n.all.push(n.currentLine))},U=D=>{if(!D||!n.currentLine)return;n.rawPoints=n.rawPoints||[],n.rawPoints.push([D.lat,D.lng]);const K=P(n.rawPoints,8);n.currentLine.setLatLngs(K)},C=()=>{n.drawing=!1,n.currentLine=null},F=()=>{!n.active||n.suspended||(n.suspended=!0,n.drawing&&C(),o.dragging.enable(),o.touchZoom&&o.touchZoom.enable(),d.style.touchAction="")},I=()=>{!n.active||!n.suspended||(n.suspended=!1,d.style.touchAction="none")};n._onMoveStart=()=>F(),n._onMoveEnd=()=>I(),o.on("movestart zoomstart",n._onMoveStart),o.on("moveend zoomend",n._onMoveEnd),n._touchOpts={passive:!1,capture:!0},n._touchStart=D=>{if(n.active){if(D.touches&&D.touches.length>1){F();return}n.suspended&&I(),D.preventDefault(),D.stopPropagation(),o.dragging.disable(),b(m(D))}},n._touchMove=D=>{if(n.active){if(D.touches&&D.touches.length>1){F();return}n.suspended||!n.drawing||!n.currentLine||(D.preventDefault(),D.stopPropagation(),U(m(D)))}},n._touchEnd=D=>{n.active&&n.drawing&&(D.preventDefault(),D.stopPropagation(),C(),o.dragging.enable())},d.addEventListener("touchstart",n._touchStart,n._touchOpts),d.addEventListener("touchmove",n._touchMove,n._touchOpts),d.addEventListener("touchend",n._touchEnd,n._touchOpts),d.addEventListener("touchcancel",n._touchEnd,n._touchOpts),n._mouseDownHandler=D=>{n.active&&D.button===0&&o.dragging.disable()},n._mouseUpHandler=()=>{n.active&&o.dragging.enable()},d.addEventListener("mousedown",n._mouseDownHandler),d.addEventListener("mouseup",n._mouseUpHandler)},onDeactivate(){const n=c.pen;n.active=!1,n.drawing=!1,n.currentLine=null,n.suspended=!1;const d=o.getContainer();d.style.touchAction="",n._onMoveStart&&(o.off("movestart zoomstart",n._onMoveStart),n._onMoveStart=null),n._onMoveEnd&&(o.off("moveend zoomend",n._onMoveEnd),n._onMoveEnd=null),n._touchStart&&(d.removeEventListener("touchstart",n._touchStart,{capture:!0}),d.removeEventListener("touchmove",n._touchMove,{capture:!0}),d.removeEventListener("touchend",n._touchEnd,{capture:!0}),d.removeEventListener("touchcancel",n._touchEnd,{capture:!0}),n._touchStart=n._touchMove=n._touchEnd=null,n._touchOpts=null),n._mouseDownHandler&&(d.removeEventListener("mousedown",n._mouseDownHandler),n._mouseDownHandler=null),n._mouseUpHandler&&(d.removeEventListener("mouseup",n._mouseUpHandler),n._mouseUpHandler=null),o.dragging.enable(),o.scrollWheelZoom.enable(),o.touchZoom&&o.touchZoom.enable(),o.boxZoom&&o.boxZoom.enable()},onMouseDown(n){const d=c.pen;if(!d.active||d.suspended)return;const m=n.originalEvent;(m?.button===0||m?.buttons===1)&&(o.dragging.disable(),m?.cancelable&&m.preventDefault(),d.drawing=!0,d.rawPoints=[[n.latlng.lat,n.latlng.lng]],d.currentLine=L.polyline([[n.latlng.lat,n.latlng.lng]],{color:"red",weight:1.5,opacity:.9,interactive:!1,smoothFactor:0}).addTo(o),d.all.push(d.currentLine))},onMouseMove(n){const d=c.pen;if(!d.active||d.suspended||!d.drawing||!d.currentLine)return;const m=n.originalEvent;if(m?.cancelable&&m.preventDefault(),d.rawPoints=d.rawPoints||[],d.rawPoints.push([n.latlng.lat,n.latlng.lng]),d.rawPoints.length<2)return;const P=b=>{const U=[],C=[b[0],...b,b[b.length-1]];for(let F=1;F<C.length-2;F++){const I=C[F-1],D=C[F],K=C[F+1],x=C[F+2];for(let _=0;_<=1;_+=.125){const H=_*_,W=H*_;U.push([.5*(2*D[0]+(-I[0]+K[0])*_+(2*I[0]-5*D[0]+4*K[0]-x[0])*H+(-I[0]+3*D[0]-3*K[0]+x[0])*W),.5*(2*D[1]+(-I[1]+K[1])*_+(2*I[1]-5*D[1]+4*K[1]-x[1])*H+(-I[1]+3*D[1]-3*K[1]+x[1])*W)])}}return U.push(b[b.length-1]),U};d.currentLine.setLatLngs(P(d.rawPoints))},onMouseUp(){const n=c.pen;n.active&&(n.drawing=!1,n.currentLine=null,o.dragging.enable())}});const Ne=document.getElementById("textToolBtn");c.text??={active:!1,markers:[]},Ne.addEventListener("click",()=>{T(e.getActive()==="text"?null:"text")}),M("clearTextBtn",()=>{c.text.markers=f(c.text.markers)}),e.register("text",{onActivate(){c.text.active=!0},onDeactivate(){c.text.active=!1},onClick(n){if(!c.text.active)return;const d=document.createElement("div");d.className="text-box-container";const m=document.createElement("textarea");m.className="text-box",m.placeholder="Type here";const P=document.createElement("div");P.className="text-box-close",P.innerHTML="",d.appendChild(P),d.appendChild(m);const b=L.marker(n.latlng,{pane:"textPane",draggable:!0,interactive:!0,icon:L.divIcon({className:"text-marker",html:d,iconSize:null})}).addTo(o);c.text.markers.push(b),P.addEventListener("mousedown",U=>U.stopPropagation()),P.addEventListener("click",U=>{U.stopPropagation(),o.removeLayer(b),c.text.markers=c.text.markers.filter(C=>C!==b)}),d.addEventListener("click",U=>U.stopPropagation()),d.addEventListener("dblclick",U=>U.stopPropagation()),d.addEventListener("contextmenu",U=>U.stopPropagation()),setTimeout(()=>m.focus(),0),T(null)}}),c.eraser??={active:!1,erasing:!1,lastEraseAt:0};const ne=35,fe=10;function Oe(){const n=document.activeElement;return n&&(n.tagName==="TEXTAREA"||n.isContentEditable)}function Me(){const n=e.getActive?.()||null;E(O(n))}function ae(n){if(Oe())return;const d=performance.now();if(d-c.eraser.lastEraseAt<ne)return;c.eraser.lastEraseAt=d;const m=o.latLngToContainerPoint(n);c.pen.all=U(c.pen.all,m),c.measure.all=C(c.measure.all,m),c.rbl.objects=C(c.rbl.objects,m),c.text.markers=F(c.text.markers,m);function P(I,D,K){const x=K.x-D.x,_=K.y-D.y,H=I.x-D.x,W=I.y-D.y,J=H*x+W*_;if(J<=0)return Math.hypot(I.x-D.x,I.y-D.y);const z=x*x+_*_;if(z<=J)return Math.hypot(I.x-K.x,I.y-K.y);const j=J/z,ie=D.x+j*x,Y=D.y+j*_;return Math.hypot(I.x-ie,I.y-Y)}function b(I,D){if(!I||typeof I.getLatLngs!="function")return!1;const K=I.getLatLngs()||[],x=K.flat?K.flat(10):K;if(!x||x.length<2)return!1;for(let _=0;_<x.length-1;_++){const H=o.latLngToContainerPoint(x[_]),W=o.latLngToContainerPoint(x[_+1]);if(P(D,H,W)<=fe)return!0}return!1}function U(I,D){return Array.isArray(I)?I.filter(K=>{if(!K)return!1;if(b(K,D)){try{o.removeLayer(K)}catch{}return!1}return!0}):[]}function C(I,D){return Array.isArray(I)?I.filter(K=>{const x=K?.line,_=K?.tooltip;if(!x)return!0;if(b(x,D)){try{o.removeLayer(x)}catch{}if(_)try{o.removeLayer(_)}catch{}return!1}return!0}):[]}function F(I,D){return Array.isArray(I)?I.filter(K=>{if(!K||typeof K.getLatLng!="function")return!1;if(o.latLngToContainerPoint(K.getLatLng()).distanceTo(D)<=fe){try{o.removeLayer(K)}catch{}return!1}return!0}):[]}}c.eraser.rightHoldErasing??=!1;const Se=o.getContainer();Se.addEventListener("mousedown",n=>{if(n.button!==2||Oe())return;c.eraser.rightHoldErasing=!0,c.eraser.erasing=!0,o.dragging.disable(),n.preventDefault(),n.stopPropagation();const d=o.mouseEventToContainerPoint(n),m=o.containerPointToLatLng(d);ae(m)},{passive:!1}),window.addEventListener("mousemove",n=>{if(!c.eraser.rightHoldErasing||Oe())return;n.preventDefault?.();const d=o.mouseEventToContainerPoint(n),m=o.containerPointToLatLng(d);ae(m)},{passive:!1}),window.addEventListener("mouseup",n=>{n.button===2&&c.eraser.rightHoldErasing&&(c.eraser.rightHoldErasing=!1,c.eraser.erasing=!1,o.dragging.enable(),Me(),n.preventDefault?.())},{passive:!1}),Se.addEventListener("contextmenu",n=>{c.eraser.rightHoldErasing&&n.preventDefault()},{passive:!1}),o.getContainer().addEventListener("contextmenu",n=>{c.eraser.active&&c.eraser.erasing&&n.preventDefault()}),u&&u.addEventListener("click",()=>{T(e.getActive()==="eraser"?null:"eraser")}),e.register("eraser",{onActivate(){c.eraser.active=!0,c.eraser.erasing=!1;const n=o.getContainer(),d=c.eraser;d.suspended=!1,d._touchOpts={passive:!1,capture:!0},d._touchStart=b=>{if(!d.active)return;if(b.touches&&b.touches.length>1){m();return}d.suspended&&P(),b.preventDefault(),b.stopPropagation(),o.dragging.disable(),d.erasing=!0;const U=o.mouseEventToLatLng(b.touches[0]);ae(U)},d._touchMove=b=>{if(!d.active)return;if(b.touches&&b.touches.length>1){m();return}if(d.suspended||!d.erasing)return;b.preventDefault(),b.stopPropagation();const U=o.mouseEventToLatLng(b.touches[0]);ae(U)},d._touchEnd=b=>{d.active&&(d.erasing=!1,o.dragging.enable())};const m=()=>{!d.active||d.suspended||(d.suspended=!0,d.erasing=!1,o.dragging.enable(),o.touchZoom&&o.touchZoom.enable())},P=()=>{!d.active||!d.suspended||(d.suspended=!1)};n.addEventListener("touchstart",d._touchStart,d._touchOpts),n.addEventListener("touchmove",d._touchMove,d._touchOpts),n.addEventListener("touchend",d._touchEnd,d._touchOpts),n.addEventListener("touchcancel",d._touchEnd,d._touchOpts)},onDeactivate(){const n=c.eraser;n.active=!1,n.erasing=!1;const d=o.getContainer();o.dragging.enable(),o.touchZoom&&o.touchZoom.enable(),n._touchStart&&d.removeEventListener("touchstart",n._touchStart,n._touchOpts),n._touchMove&&d.removeEventListener("touchmove",n._touchMove,n._touchOpts),n._touchEnd&&(d.removeEventListener("touchend",n._touchEnd,n._touchOpts),d.removeEventListener("touchcancel",n._touchEnd,n._touchOpts)),n._touchStart=null,n._touchMove=null,n._touchEnd=null,Me()},onMouseDown(n){if(!c.eraser.active||Oe())return;const d=n.originalEvent,m=!!d&&(d.type?.startsWith("touch")||d.touches);if(m&&(d.touches||[]).length>1)return;const P=d?.button===0||d?.buttons===1,b=d?.button===2;!m&&!P&&!b||(c.eraser.erasing=!0,o.dragging.disable(),d?.cancelable&&d.preventDefault(),d?.stopPropagation?.(),ae(n.latlng))},onRightClick(n){if(!c.eraser.active||Oe())return;const d=n.originalEvent;c.eraser.erasing=!0,o.dragging.disable(),d?.cancelable&&d.preventDefault(),d?.stopPropagation?.(),ae(n.latlng)},onMouseMove(n){if(!c.eraser.active||!c.eraser.erasing)return;const d=n.originalEvent;d?.cancelable&&d.preventDefault(),ae(n.latlng)},onMouseUp(n){if(!c.eraser.active)return;c.eraser.erasing=!1,o.dragging.enable(),n?.originalEvent?.button===2&&Me()}}),h()}let Q=new Ht,ee=new Wt,B=null;window.__AIR=window.__AIR||{};window.__AIR.activeAdapter=B;function eo(o,t){const e=document.getElementById("toggleDetails");if(e&&!e.checked)return;const i=document.getElementById("areaDetailsPanel");if(!i)return;const r=document.getElementById("areaName"),a=document.getElementById("areaLimit"),s=document.getElementById("areaType");r&&(r.textContent=o?.shapeName??""),a&&(a.textContent=o?.shapeInfo??""),s&&(s.textContent=o?.type??""),i.style.borderColor=t||"#ffffff";const l=t||"#ffffff";i.style.color=l,r&&(r.style.color=l),a&&(a.style.color=l),s&&(s.style.color=l),i.style.display="block"}window.__AIR.showAreaDetails=eo;function at(){const o=document.getElementById("tooltipContainer");o&&(o.classList.remove("is-hidden"),document.getElementById("sectorTooltip")?.classList.remove("is-hidden"),document.getElementById("routeTooltip")?.classList.remove("is-hidden"),document.getElementById("expandedRouteTooltip")?.classList.remove("is-hidden"))}function Be(o,{refreshSids:t=!0}={}){if(!document.getElementById("tooltipContainer"))return;Nt();const i=document.getElementById("routeTooltip"),r=document.getElementById("expandedRouteTooltip"),a=document.getElementById("sectorTooltip"),s=document.getElementById("remarksOverlay");if(s){const N=et?.[o]?.REMARKS;N&&String(N).trim()?(s.innerHTML=`# ${N}`,s.style.display="block"):s.style.display="none"}const l=Re?.[o];if(c.currentRouteFirstFix=l?.[0]||null,t&&Et(),!l){i&&(i.textContent="Route: "),r&&(r.textContent="Waypoints: "),a&&(a.textContent="Sectors: ");return}i&&(i.textContent=`Route: ${l.join(" - ")}`);const A=ot(l,se||{});r&&(r.textContent=`Waypoints: ${A.join(" ")}`);const u=We?.[o],O=u?.length?u.join(" - "):"";a&&(a.textContent=`Sectors: ${O}`)}const ce=new Map;function lt(o){return Array.isArray(o)?Array.isArray(o[0])?o.map(t=>t?.[0]).filter(Boolean):o.filter(Boolean):[]}function ct(o){if(typeof Ie<"u"&&Ie?.[o]){const t=v(Ie[o][0]),e=v(Ie[o][1]);return t!=null&&e!=null?[t,e]:null}if(typeof $<"u"&&$?.[o]){const t=$[o],e=v(t[0]),i=v(t[1]);return e!=null&&i!=null?[e,i]:null}return null}function Je(o){const r=(o?.closest("label")?.textContent||o.value||o.id||"").trim().toUpperCase().replace(/_/g," ").split(/\s+/).filter(Boolean),a=r[0]||"",s=r[1]||"";return s?`${a}_${s}`:a}function At(o){if(!o||typeof o.eachLayer!="function")return null;let t=null;return o.eachLayer(e=>{e?.getBounds&&(t=t?t.extend(e.getBounds()):e.getBounds())}),t}function to(o){if(c.mode!=="2d"||!o||typeof window.L>"u")return null;const t=[];return document.querySelectorAll('#panelSids input[type="checkbox"]').forEach(e=>{if(!e.checked)return;const i=Je(e),r=`${o}_${i}`;if(typeof ue>"u"||!ue?.[r])return;const s=lt(ue[r]).map(ct).filter(Boolean);for(const l of s)t.push(l)}),t.length>1?L.latLngBounds(t):null}let De=null,Ge=!1;function oo(o){const t=flyBounds.getSouthWest(),e=flyBounds.getNorthEast(),i=Math.abs(e.lat-t.lat),r=Math.abs(e.lng-t.lng);return i>r?[100,130]:[250,140]}function dt(o,{duration:t=.4}={}){if(!o||c.mode!=="2d"||!B?.map||typeof window.L>"u")return;const i={padding:oo(),maxZoom:9.1,duration:t,easeLinearity:.25};if(typeof B.flyToBoundsAsync=="function"){B.flyToBoundsAsync(flyBounds,i);return}typeof B.map.flyToBounds=="function"&&B.map.flyToBounds(o,i)}function ut(){let o=De?L.latLngBounds(De):null;const t=At(B.layers?.sids);t&&(o=o?o.extend(t):t),dt(o)}function no(){const o=De?L.latLngBounds(De):At(B.layers?.routes);dt(o)}function Ot(o){if(!o?.checked||c.mode!=="2d")return;const t=c.currentRouteFirstFix;if(!t)return;const e=Je(o),i=`${t}_${e}`;if(typeof ue>"u"||!ue?.[i])return;const a=lt(ue[i]).map(ct).filter(Boolean);if(a.length<2)return;if(ce.has(o.id)){const l=ce.get(o.id);l&&B?.layers?.sids&&B.layers.sids.removeLayer(l),ce.delete(o.id)}const s=B?.drawSidLatLngs?.(a,{color:"#FCFBBB",weight:1.7,dashArray:"10 10",opacity:.85});s&&(ce.set(o.id,s),Ge||ut())}function ro(o){const t=ce.get(o.id);t&&B?.layers?.sids&&B.layers.sids.removeLayer(t),ce.delete(o.id),ce.size>0?ut():no()}function Et(){B?.clearSids?.(),ce.clear();const o=c.currentRouteFirstFix;if(o){Ge=!0;try{document.querySelectorAll('#panelSids input[type="checkbox"]').forEach(t=>{if(!t.checked)return;const e=Je(t),i=`${o}_${e}`;typeof ue>"u"||!ue?.[i]||Ot(t)})}finally{Ge=!1}}}function io(){document.querySelectorAll('#panelSids input[type="checkbox"]').forEach(o=>{o.addEventListener("change",()=>{o.checked?Ot(o):ro(o)})}),document.getElementById("panelSids")?.addEventListener("click",o=>o.stopPropagation())}let de={group:null,codes:[]};function Nt(){try{c.mode==="2d"&&Q?.map&&de.group&&de.group.clearLayers()}catch{}de.codes=[]}async function so(){if(c.mode!=="2d"||!Q?.map||typeof L>"u")return;const o=c.selectedRouteKey;if(!o)return;const t=We?.[o];if(!t?.length)return;const{convertDMSToDecimal:e}=await _e(async()=>{const{convertDMSToDecimal:i}=await Promise.resolve().then(()=>ke);return{convertDMSToDecimal:i}},void 0,import.meta.url);de.group?de.group.clearLayers():de.group=L.layerGroup().addTo(Q.map);for(const i of t){const r=He?.[i],a=r?.coords;if(!a||a.length<3)continue;const s=[];for(const A of a){const u=e(A?.[0]),O=e(A?.[1]);u==null||O==null||s.push([u,O])}if(s.length<3)continue;const l=r?.color||"orange";L.polygon(s,{color:l,weight:1.5,dashArray:"5 5",opacity:.25,fill:!0,fillColor:l,fillOpacity:.2,interactive:!1,bubblingMouseEvents:!1}).addTo(de.group)}de.codes=t.slice()}function ao(){const o=document.getElementById("sectorTooltip");o&&(o._hoverPreviewWired||(o._hoverPreviewWired=!0,o.addEventListener("mouseenter",()=>{so()}),o.addEventListener("mouseleave",()=>{Nt()})))}function lo(){const o=document.getElementById("toggleTableBtn"),t=document.getElementById("sectorTablePanel"),e=document.querySelector("#sectorTable tbody");if(!o||!t||!e)return;function i(){e.innerHTML="",(je||[]).forEach(s=>{const l=document.createElement("tr");l.innerHTML=`
        <td>${s.sector??""}</td>
        <td>${s.limit??""}</td>
        <td>${s.freq??""}</td>
      `,e.appendChild(l)})}i();const r={x:-126,y:5};o.addEventListener("click",function(s){if(s.stopPropagation(),t.style.display==="none"||t.style.display===""){const A=o.getBoundingClientRect();t.style.left=A.left+r.x+"px",t.style.top=A.bottom+window.scrollY+r.y+"px",t.style.display="block",this.textContent="Sector Info "}else t.style.display="none",this.textContent="Sector Info "});function a(s){if(!s)return;let l=!1,A=0,u=0,O=0,N=0,E=0,h=0,T=!1;s.style.willChange="transform",s.style.touchAction="none";function g(w){return w.touches&&w.touches[0]?{x:w.touches[0].clientX,y:w.touches[0].clientY}:{x:w.clientX,y:w.clientY}}function p(){T=!1,s.style.transform=`translate3d(${E}px, ${h}px, 0)`}function M(w){if(!l)return;w.cancelable&&w.preventDefault();const{x:R,y:V}=g(w);E=O+(R-A),h=N+(V-u),T||(T=!0,requestAnimationFrame(p))}function f(){l&&(l=!1,O=E,N=h,document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",f),document.removeEventListener("touchmove",M),document.removeEventListener("touchend",f),document.removeEventListener("touchcancel",f))}function S(w){if(s.style.display==="none"||s.style.display==="")return;l=!0,w.cancelable&&w.preventDefault();const{x:R,y:V}=g(w);A=R,u=V,document.addEventListener("mousemove",M,{passive:!1}),document.addEventListener("mouseup",f),document.addEventListener("touchmove",M,{passive:!1}),document.addEventListener("touchend",f),document.addEventListener("touchcancel",f)}s.addEventListener("mousedown",S),s.addEventListener("touchstart",S,{passive:!1})}a(t),t.addEventListener("click",s=>s.stopPropagation())}function $e(o){c.mode=o,document.body.dataset.mode=o;const t=document.getElementById("map2d"),e=document.getElementById("map3d");if(o==="2d"){t.style.display="block",e.style.display="none",ee?.viewer?.imageryLayers&&(ee.viewer.imageryLayers.removeAll(),ee.viewer.scene?.globe&&(ee.viewer.scene.globe.baseColor=Cesium.Color.BLACK)),document.getElementById("cesiumControls")?.classList.remove("is-visible");const r=document.getElementById("routeAltPanel3D");if(r&&(r.style.display="none"),B=Q,window.__AIR.activeAdapter=B,Q._inited||(Q.init("map2d"),Q._inited=!0),Q.setBaseMapVisible?.(c.layers.baseMap),Q.invalidateSize?.(),Q._toolsWired||(jt(Q.map),Q._toolsWired=!0),!(c.selectedSectorCodes?.size>0)){const s=document.getElementById("showSectorColors"),l=document.getElementById("showSectorBorder");s&&(s.checked=!1,c.layers.sectorColors=!1),l&&(l.checked=!1,c.layers.sectorBorders=!1)}}else{t.style.display="none",e.style.display="block",document.getElementById("cesiumControls")?.classList.add("is-visible"),B=ee,window.__AIR.activeAdapter=B,c.layers.sectorColors=!0,c.layers.sectorBorders=!0;const r=document.getElementById("showSectorColors"),a=document.getElementById("showSectorBorder");r&&(r.checked=!0),a&&(a.checked=!0),ee._inited||(ee.init("map3d",{cesiumControlsMountEl:document.getElementById("cesiumControls")}),ee._inited=!0),ft()}const i=document.getElementById("modeLabel");document.getElementById("btnMode"),i&&(i.textContent=o.toUpperCase()),i&&(i.textContent=o==="2d"?"3D":"2D"),c.selectedRouteKey&&(Le=!0),te()}function te(){if(!B)return;B.drawAirspaceBoundary?.(),c.layers.sectors?B.drawSectors?.({colored:c.layers.sectorColors,borderOnly:c.layers.sectorBorders,stroke:c.layers.sectorBorders,fill:c.layers.sectorColors,opacity:c.layers.sectorOpacity,selectedCodes:c.selectedSectorCodes.size?Array.from(c.selectedSectorCodes):null,zScale:c.zScale}):B.setLayerVisible?.("sectors",!1),B?.drawFixesFromData&&B.drawFixesFromData($,c.layers),c.layers.airways&&B.drawAirways?.();const o=c.layers.mapLayersMaster!==!1;if(B.drawRunways?.({show:o&&!!c.layers.runways}),B.setLayerVisible?.("airspace",o&&c.layers.airspace),B.setLayerVisible?.("sectors",o&&c.layers.sectors),B.setLayerVisible?.("airways",o&&c.layers.airways),B.setLayerVisible?.("runways",o&&c.layers.runways),B.setLayerVisible?.("fixes",o&&c.layers.fixes),B.setLayerVisible?.("fixNames",o&&c.layers.fixNames),c.mode==="2d"&&B.setAwyLabelsVisible?.(o&&!!c.layers.awyLabels),B?.clearAreas?.(),c.areas?.cta&&B.drawAreasCategory?.("areasCTA",_t,"#84ACEC"),c.areas?.training&&B.drawAreasCategory?.("areasTraining",xt,"#BDEEEF"),c.areas?.restricted&&B.drawAreasCategory?.("areasRestricted",Ft,"#FEB476"),c.areas?.danger&&B.drawAreasCategory?.("areasDanger",Gt,"#FFBDFF"),c.areas?.prohibitated&&B.drawAreasCategory?.("areasProhibited",Vt,"#FFFF66"),B?.drawHoldingsFromLibrary&&B.drawHoldingsFromLibrary(kt,{show:o&&!!c.layers.holdings,zScale:c.zScale}),c.mode==="2d"&&B?.drawFreqFromLibrary&&(B.drawFreqFromLibrary(Xt,{show:o&&!!c.layers.freq}),B.setLayerVisible?.("freq",o&&!!c.layers.freq)),c.selectedRouteKey){Be(c.selectedRouteKey);const t=c.selectedRouteKey!==ge,e=c.mode!==pe,i=c.mode==="3d"&&c.zScale!==ye;(Le||t||e||i)&&(we(c.selectedRouteKey,{fly:!1}),ge=c.selectedRouteKey,pe=c.mode,ye=c.mode==="3d"?c.zScale:null,Le=!1)}else ge=null,pe=null,ye=null,Le=!1}function co(){const o=document.getElementById("showHoldingsBtn");if(!o)return;const t=()=>{o.classList.toggle("is-active",!!c.layers.holdings)};o.addEventListener("click",()=>{c.layers.holdings=!c.layers.holdings,t(),te()}),t()}function Ao(){const o=document.getElementById("toggleFreqBtn");if(!o)return;const t=()=>{o.classList.toggle("is-active",!!c.layers.freq)};o.addEventListener("click",()=>{c.mode!=="2d"&&$e("2d"),c.layers.freq=!c.layers.freq,t(),te()}),t()}function we(o,{fly:t=!0}={}){if(!B)return;B.clearRoute?.();const{segments:e,airwayColorMap:i,usedAirways:r}=nt(o,$,it);if(!e.length){const{fixes:a,usedAirways:s}=rt(o,$);if(a.length<2)return;if(c.mode==="2d"){const l=a.map(u=>[u.lat,u.lon]),A=B.drawRouteLatLngs(l,{color:"#fbc965",weight:2.4,opacity:.95});t&&A?.getBounds&&B.flyToBounds(A.getBounds()),s.forEach(u=>B.highlightAirway(u,{color:"white",dashArray:"2 8",opacity:.7}))}else{const l=zt(o,a.map(A=>({lat:A.lat,lon:A.lon,name:A.name})));B.drawRouteDegrees(l.map(A=>({lat:A.lat,lon:A.lon,altM:A.altM})),{color:"#fbc965",width:3,alpha:.95,zScale:c.zScale}),t&&B.setView({lat:a[0].lat,lon:a[0].lon,heightM:42e4}),Ue(o,[{coords:a}])}return}if(c.mode==="2d"){const a=[];for(const N of e)for(const E of N.coords||[])a.push([E.lat,E.lon]);const s=typeof window.L<"u"&&a.length>1?L.latLngBounds(a):null;De=s?L.latLngBounds(s):null;const l=Re?.[o];l?.[0]&&(c.currentRouteFirstFix=l[0]);const A=to(c.currentRouteFirstFix);let u=s;A&&(u=u?u.extend(A):A);const O=async()=>{Et();const N=++Fe;ge=o,pe=c.mode,Le=!1;const E=B.drawRouteSegmentsAnimated?.(e,{frameDelayMs:50});r.forEach(p=>{const M=i[p]||"white";B.highlightAirway(p,{color:M,dashArray:"2 8",opacity:.7,weight:1.8})});const h=e[0].coords?.[0]?.name,T=e[e.length-1],g=T.coords?.[T.coords.length-1]?.name;E&&typeof E.then=="function"&&await E,N===Fe&&B.drawRouteEndTooltips?.(o,h,g)};if(t&&u&&B.flyToBoundsAsync){const N=s.getSouthWest(),E=s.getNorthEast(),h=Math.abs(E.lat-N.lat),T=Math.abs(E.lng-N.lng),g=h>T?[100,130]:[250,140];B.flyToBoundsAsync(s,{padding:g,maxZoom:9.1,duration:.5,easeLinearity:.25}).then(()=>setTimeout(()=>O(),80))}else O(),t&&u&&B.flyToBounds(u)}else{const a=st(o,e);if(B.drawRouteSegmentsDegrees?.(a,{width:3,alpha:.95,heightM:12e3*.3048,zScale:c.zScale}),t){const s=e[0]?.coords?.[0];s&&B.setView({lat:s.lat,lon:s.lon,heightM:42e4})}Ue(o,e)}}function ft(){if(ee?._inited)try{ee._baseMapVisible!==!1&&ee.setImagery?.(c.layers3d?.imagery||"osm"),ee.setTerrainEnabled?.(!!c.layers3d?.terrain),ee.setLightingEnabled?.(!!c.layers3d?.lighting),ee.setFogEnabled?.(!!c.layers3d?.fog)}catch(o){console.warn("[3D Layers] apply failed:",o)}}function Ee(o,t,e={}){const i=document.getElementById(o),r=document.getElementById(t);if(!i||!r)return;const a=e.closeOnOutside!==!1;i.dataset.closeOutside=a?"true":"false";const s=()=>{i.classList.remove("open"),r.textContent=r.textContent.replace("","")};r.addEventListener("click",l=>{l.stopPropagation();const A=i.classList.toggle("open");r.textContent=r.textContent.replace(A?"":"",A?"":"")}),Ee._bound||(document.addEventListener("click",()=>{document.querySelectorAll(".dropdown.open").forEach(l=>{l?.dataset?.closeOutside!=="false"&&l.classList.remove("open")}),document.querySelectorAll(".dropdown > button").forEach(l=>{const A=l.parentElement;A?.classList?.contains("dropdown")&&A.classList.contains("open")&&A?.dataset?.closeOutside==="false"||(l.textContent=l.textContent.replace("",""))})}),Ee._bound=!0),r._closeDropdown=s}function uo(){const o=["S","L","B","N","M","C"],t=["G","A","W","D","H","E","Y","R","K"],e=c.selectedSectorCodes;e.clear(),document.querySelectorAll('#sectorOptions input[type="checkbox"][value]').forEach(r=>{r.checked=!1});const i=(r,a)=>{r.forEach(s=>{const l=document.querySelector(`#sectorOptions input[value="${s}"]`);l&&(l.checked=a,l.dispatchEvent(new Event("change")))})};document.getElementById("sectorOpacity")?.addEventListener("input",r=>{c.layers.sectorOpacity=parseFloat(r.target.value),te()}),document.querySelectorAll('#sectorOptions input[type="checkbox"][value]').forEach(r=>{r.addEventListener("change",()=>{const a=r.value;r.checked?e.add(a):e.delete(a),Qe(),te()})}),document.getElementById("selectHighSectors")?.addEventListener("change",function(){i(o,this.checked)}),document.getElementById("selectLowSectors")?.addEventListener("change",function(){i(t,this.checked)})}function Qe(){const o=y("routeList");o.innerHTML="";const t=Jt();for(const{fullKey:e,label:i}of t){const r=document.createElement("button");r.textContent=i,c.selectedRouteKey===e&&r.classList.add("selected-route"),r.addEventListener("click",()=>{document.querySelectorAll("#routeList button").forEach(l=>l.classList.remove("selected-route")),r.classList.add("selected-route");const s=c.selectedRouteKey!==e;if(c.selectedRouteKey=e,s&&Zt(),B?.clearSids?.(),ce.clear(),c.mode==="3d")try{const{segments:l}=nt(e,$,it);if(l?.length)Ue(e,l);else{const{fixes:A}=rt(e,$);Ue(e,[{coords:A}])}}catch(l){console.warn("[3D Route Profile] panel init failed:",l)}we(e,{fly:!0}),ge=e,pe=c.mode,ye=c.mode==="3d"?c.zScale:null,Le=!1,Be(e,{refreshSids:!1}),at()}),o.appendChild(r)}}function Oo(){const o=y("rpToggle"),t=y("routePanel");let e=!0;const i=()=>{o.textContent=e?"":"",o.title=e?"Hide Route Panel":"Show Route Panel"};o.addEventListener("click",()=>{e=!e,t.style.display=e?"flex":"none";const r=y("tooltipContainer");r&&r.classList.toggle("is-hidden",!e),o.classList.toggle("is-open",e),o.classList.toggle("is-closed",!e),i()}),i()}let Ae=null;function Eo(){if(Ae)return;const o=window.NE_COUNTRIES;if(!o){console.error("NE_COUNTRIES not loaded");return}Ae=L.geoJSON(o,{style:{color:"pink",weight:.4,fillOpacity:0,opacity:1,interactive:!1}}).addTo(Q.map)}function No(o){c.mode==="2d"&&(o?(Eo(),Ae&&!Q.map.hasLayer(Ae)&&Ae.addTo(Q.map)):Ae&&Q.map.hasLayer(Ae)&&Q.map.removeLayer(Ae))}function fo(o,t){if(!o||!t)return;let e=!1,i=0,r=0,a=0,s=0,l=null;const A=()=>{const E=o.getBoundingClientRect();o.style.left=E.left+"px",o.style.top=E.top+"px",o.style.right="auto"},u=E=>{if(E.pointerType==="mouse"&&E.button!==0)return;E.preventDefault(),E.stopPropagation(),A();const h=o.getBoundingClientRect();e=!0,l=E.pointerId,i=E.clientX,r=E.clientY,a=h.left,s=h.top,t.setPointerCapture?.(l)},O=E=>{if(!e||l!=null&&E.pointerId!==l)return;const h=E.clientX-i,T=E.clientY-r,g=window.innerWidth,p=window.innerHeight,M=o.getBoundingClientRect(),f=M.width,S=M.height;let w=a+h,R=s+T;const V=6;w=Math.max(V,Math.min(g-f-V,w)),R=Math.max(V,Math.min(p-S-V,R)),o.style.left=w+"px",o.style.top=R+"px"},N=E=>{e&&(l!=null&&E.pointerId!==l||(e=!1,l=null))};t.addEventListener("pointerdown",u),window.addEventListener("pointermove",O),window.addEventListener("pointerup",N)}function ho(){y("btnMode").addEventListener("click",()=>$e(c.mode==="2d"?"3d":"2d"));const o=y("applyRouteAlt3D"),t=y("clearRouteAlt3D");y("routeAltPanel3D")?.addEventListener("click",f=>f.stopPropagation()),o?.addEventListener("click",()=>{if(c.mode!=="3d"||!c.selectedRouteKey)return;const f=(y("routeAltCfl3D")?.value||"").trim(),S=(y("routeAltXfl3D")?.value||"").trim(),w=(y("routeAltFix3D")?.value||"").trim(),R=(y("routeAltLevel3D")?.value||"").trim(),V=Ce(f),G=Ce(S),X=Ce(R);c.route3dProfile={cflFt:Number.isFinite(V)?V:null,xflFt:Number.isFinite(G)?G:null,fixName:w&&Number.isFinite(X)?w:null,fixFt:Number.isFinite(X)?X:null},we(c.selectedRouteKey,{fly:!1})}),t?.addEventListener("click",()=>{c.route3dProfile=null,c.mode==="3d"&&c.selectedRouteKey&&we(c.selectedRouteKey,{fly:!1});const f=y("routeAltCfl3D"),S=y("routeAltFix3D"),w=y("routeAltLevel3D"),R=y("routeAltXfl3D");f&&(f.value=""),S&&(S.value=""),w&&(w.value=""),R&&(R.value="")}),fo(y("routeAltPanel3D"),y("routeAltDrag3D"));let e=!0;document.body.classList.toggle("rte-extra-off",!e);const i=y("toggleRouteTipsBtn");i&&(i.style.color="#B4F59D"),y("toggleRouteTipsBtn")?.addEventListener("click",()=>{e=!e,document.body.classList.toggle("rte-extra-off",!e),i&&(i.style.color=e?"#B4F59D":"#c2c2c0"),e&&c.selectedRouteKey&&Be(c.selectedRouteKey)});const r=y("toggleMapBtn"),a=()=>{r&&(r.style.color=c.layers.baseMap?"#B4F59D":"")};a(),r?.addEventListener("click",()=>{c.layers.baseMap=!c.layers.baseMap,a(),c.mode==="2d"&&(Q.setBaseMapVisible?.(c.layers.baseMap),te())}),y("resetViewBtn")?.addEventListener("click",()=>{Fe++,B?.clearRoute?.(),c.selectedRouteKey=null,c.route3dProfile=null;const f=document.getElementById("routeAltPanel3D");f&&(f.style.display="none"),document.querySelectorAll("#routeList button").forEach(S=>S.classList.remove("selected-route")),at(),Be(null)});const s=(f,S)=>{c.layers[f]=S,te()};y("togAirspace").addEventListener("change",f=>s("airspace",f.target.checked)),y("togAirways").addEventListener("change",f=>s("airways",f.target.checked)),y("togFixes").addEventListener("change",f=>s("fixes",f.target.checked)),y("togFixNames").addEventListener("change",f=>s("fixNames",f.target.checked)),y("mlAirspace")?.addEventListener("change",f=>{c.layers.mapLayersMaster=f.target.checked,te()}),y("mlAirspace")&&(c.layers.mapLayersMaster=y("mlAirspace").checked),y("mlRunways")?.addEventListener("change",f=>{c.layers.runways=f.target.checked,te()}),y("mlRunways")&&(c.layers.runways=y("mlRunways").checked),y("mlBorders")?.addEventListener("change",f=>No(f.target.checked)),c.areas=c.areas||{restricted:!1,prohibitated:!1,danger:!1,training:!1,cta:!1};const l=(f,S)=>{c.areas[f]=!!S,te()},A=y("toggleRestricted"),u=y("toggleProhibitated"),O=y("toggleDanger"),N=y("toggleTraining"),E=y("toggleCTA");A&&(c.areas.restricted=A.checked),u&&(c.areas.prohibitated=u.checked),O&&(c.areas.danger=O.checked),N&&(c.areas.training=N.checked),E&&(c.areas.cta=E.checked),A?.addEventListener("change",f=>l("restricted",f.target.checked)),u?.addEventListener("change",f=>l("prohibitated",f.target.checked)),O?.addEventListener("change",f=>l("danger",f.target.checked)),N?.addEventListener("change",f=>l("training",f.target.checked)),E?.addEventListener("change",f=>l("cta",f.target.checked));const h=document.getElementById("areaDetailsPanel");y("clearAreasBtn")?.addEventListener("click",()=>{["toggleRestricted","toggleProhibitated","toggleDanger","toggleTraining","toggleCTA","toggleDetails"].forEach(f=>{const S=y(f);S&&(S.checked=!1)}),c.areas.restricted=!1,c.areas.prohibitated=!1,c.areas.danger=!1,c.areas.training=!1,c.areas.cta=!1,c.areas.showAreaDetails=!1,h.style.display="none",B?.clearAreas?.(),te()}),y("toggleDetails")?.addEventListener("change",f=>{f.target.checked||h&&(h.style.display="none")}),y("mlAwyLabels")?.addEventListener("change",f=>{c.layers.awyLabels=f.target.checked,c.mode==="2d"&&B?.setAwyLabelsVisible?.(f.target.checked)}),y("showSectorColors")?.addEventListener("change",f=>s("sectorColors",f.target.checked)),y("showSectorBorder")?.addEventListener("change",f=>s("sectorBorders",f.target.checked));const T=y("zScale"),g=y("zVal");T.addEventListener("input",()=>{c.zScale=parseFloat(T.value),g.textContent=c.zScale.toFixed(1)+"x",c.mode==="3d"&&te()});const p=()=>{ft(),c.mode==="3d"&&te()};document.querySelectorAll('input[name="img3d"]').forEach(f=>{f.addEventListener("change",S=>{S.target.checked&&(c.layers3d.imagery=S.target.value,p())})}),y("tog3dTerrain")?.addEventListener("change",f=>{c.layers3d.terrain=f.target.checked,p()}),y("tog3dLighting")?.addEventListener("change",f=>{c.layers3d.lighting=f.target.checked,p()}),y("tog3dFog")?.addEventListener("change",f=>{c.layers3d.fog=f.target.checked,p()});const M=document.querySelector('input[name="img3d"]:checked');M&&(c.layers3d.imagery=M.value),y("tog3dTerrain")&&(c.layers3d.terrain=y("tog3dTerrain").checked),y("tog3dLighting")&&(c.layers3d.lighting=y("tog3dLighting").checked),y("tog3dFog")&&(c.layers3d.fog=y("tog3dFog").checked),document.querySelectorAll(".filter-btn").forEach(f=>{f.addEventListener("click",()=>{document.querySelectorAll(".filter-btn").forEach(S=>S.classList.remove("selected")),f.classList.add("selected"),c.routeFilter=f.dataset.filter,Qe()})})}Ee("ddLayers","btnLayers");Ee("ddAreas","btnAreas");Ee("ddSids","btnSids");Ee("dd3dLayers","btn3dLayers");Ee("dd3dTools","btn3dTools");document.getElementById("panelLayers")?.addEventListener("click",o=>{o.stopPropagation()});document.getElementById("panelAreas")?.addEventListener("click",o=>{o.stopPropagation()});document.getElementById("panel3dLayers")?.addEventListener("click",o=>{o.stopPropagation()});const xe=document.getElementById("sectorHeader"),me=document.getElementById("sectorOptions");me.classList.toggle("open");function ht(){!xe||!me||(xe.textContent=me.classList.contains("open")?"Sectors ":"Sectors ")}xe?.addEventListener("click",o=>{o.stopPropagation(),me.classList.toggle("open"),ht()});me?.addEventListener("click",o=>{o.stopPropagation()});ht();Oo();ho();io();co();Ao();lo();ao();const Lo=document.querySelector('.filter-btn[data-filter="Arr"]')||document.querySelector('.filter-btn[data-filter="arr"]')||Array.from(document.querySelectorAll(".filter-btn")).find(o=>o.textContent.trim().toLowerCase()==="arr"),Ye=document.getElementById("sectorOpacity");Ye?.addEventListener("input",()=>{c.layers.sectorOpacity=parseFloat(Ye.value),te()});Lo?.click();uo();$e("2d");Qe();
